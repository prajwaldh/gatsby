{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-source-espocrm","description":"Gatsby Source Plugin for EspoCRM","keywords":["gatsby","gatsby-plugin","gatsby-source-plugin","espocrm"],"lastPublisher":{"name":"brianpunzalan","avatar":"https://gravatar.com/avatar/4eac15441c7b21abc5bbcab9d110930a"},"repository":{"url":"https://github.com/brianpunzalan/gatsby-source-espocrm"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-source-espocrm\"><a href=\"#gatsby-source-espocrm\" aria-label=\"gatsby source espocrm permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-source-espocrm</h1>\n<p>Source plugin for pulling entity data from EspoCRM.</p>\n<p>Pulls data from an EspoCRM site with the use of their API specification that could be found <a href=\"https://www.espocrm.com/documentation/development/api/\">here</a>.</p>\n<p>You could checkout their <a href=\"http://demo.espocrm.com/advanced/\">demo</a>.</p>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p><code class=\"language-text\">npm install --save gatsby-source-espocrm</code></p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-label=\"how to use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n        resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-espocrm`</span></span><span class=\"token punctuation\">,</span>\n        options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            baseUrl<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`http://my-espocrm-site.com/`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// domain of your EspoCRM site. Please check NOTE below.</span>\n            apiBase<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`api/v1/`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// this could be changed if you have different api implementation, say api/v2.</span>\n            username<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`&lt;your username>`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// auth username.</span>\n            password<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`&lt;your password>`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// auth password.</span>\n            schema<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token comment\">// list of entities you want to get data from.</span>\n              <span class=\"token punctuation\">{</span>\n                name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Account'</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\">// &lt;name> field is required. Should be the name of the entity</span>\n                hasMany<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'contacts'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// &lt;hasMany> field is optional. This would fetch also the related entities on 'Account'</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Contact'</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This would fetch all data from the list of <code class=\"language-text\">entityTypes</code> declared and generate nodes. Specify the <code class=\"language-text\">schema</code> of the EspoCRM backend you want to be fetched into GraphQL (<code class=\"language-text\">please see comments on each line</code>). It would also terminate the session after <code class=\"language-text\">Build</code> process has been done to prevent multiple unclosed sessions.</p>\n<h2 id=\"how-to-query\"><a href=\"#how-to-query\" aria-label=\"how to query permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to query</h2>\n<p>You can query nodes created from EspoCRM with the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  allGatsbyEspoAccount <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        id\n        espo_id\n        name\n        contacts\n        <span class=\"token operator\">...</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You could check more functions in GraphiQL like querying for a single node, etc.</p>\n<p>You could generate pages based on the newly created nodes in your projectâ€™s <code class=\"language-text\">gatsby-node.js</code>.</p>\n<h2 id=\"note\"><a href=\"#note\" aria-label=\"note permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Note</h2>\n<ul>\n<li>You should resolve <code class=\"language-text\">CORS</code> issue by yourselves. I suggest putting the built code into the same domain of the website or custom configure your EspoCRM site to allow specific domains to have API access if you want them to be seperated.</li>\n<li>If you want to customized the generation of the fields on each node, use <code class=\"language-text\">gatsby-node.js</code> of your project.</li>\n<li>This plugin was developed with reference to <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-drupal\">gatsby-source-drupal</a>.</li>\n</ul>","timeToRead":2}}}},"pageContext":{"slug":"/packages/gatsby-source-espocrm/","id":"af23f627-e362-54e5-ac60-cfe551f00109","layout":"plugins"}}