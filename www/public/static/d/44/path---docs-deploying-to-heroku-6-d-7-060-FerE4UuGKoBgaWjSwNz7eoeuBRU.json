{"data":{"markdownRemark":{"html":"<p>You can use the <a href=\"https://github.com/heroku/heroku-buildpack-static\">heroku buildpack static</a> to handle the static files of your site.</p>\n<p>Set the <code class=\"language-text\">heroku/node.js</code> and <code class=\"language-text\">heroku-buildpack-static</code> buildpacks on your application creating an <code class=\"language-text\">app.json</code> file on the root of your project.</p>\n<div class=\"gatsby-code-title\">app.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"buildpacks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"heroku/nodejs\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/heroku/heroku-buildpack-static\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sometimes specifying buildpacks via the <code class=\"language-text\">app.json</code> file doesn’t work. If this is your case, try to add them in the Heroku dashboard or via the CLI with the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ heroku buildpacks:set heroku/node\n$ heroku buildpacks:set https://github.com/heroku/heroku-buildpack-static.git</code></pre></div>\n<p>Add a <code class=\"language-text\">heroku-postbuild</code> script in your <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-code-title\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"heroku-postbuild\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Finally, add a <code class=\"language-text\">static.json</code> file in the root of your project to define the directory where your static assets will be. You can check all the options for this file in the <a href=\"https://github.com/heroku/heroku-buildpack-static#configuration\">heroku-buildpack-static</a> configuration.</p>\n<div class=\"gatsby-code-title\">static.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"root\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"headers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"/**.js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"Cache-Control\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public, max-age=0, must-revalidate\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","excerpt":"You can use the  heroku buildpack static  to handle the static files of your site. Set the   and   buildpacks on your application creating…","timeToRead":1,"fields":{"slug":"/docs/deploying-to-heroku/","anchor":"deploying-to-heroku"},"frontmatter":{"title":"Deploying to Heroku","overview":null,"issue":null},"parent":{"__typename":"File","relativePath":"docs/deploying-to-heroku.md"}}},"pageContext":{"slug":"/docs/deploying-to-heroku/"}}