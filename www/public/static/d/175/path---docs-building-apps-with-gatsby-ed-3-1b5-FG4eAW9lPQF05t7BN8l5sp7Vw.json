{"data":{"markdownRemark":{"html":"<p>Gatsby is an excellent framework for building web apps. You can use Gatsby to create personalized, logged-in experiences with two different approaches.</p>\n<ol>\n<li>“hybrid” app pages, and</li>\n<li>client-only routes &#x26; user authentication</li>\n</ol>\n<h2 id=\"hybrid-app-pages\"><a href=\"#hybrid-app-pages\" aria-label=\"hybrid app pages permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hybrid app pages</h2>\n<p>When a visitor lands on a Gatsby page, the page’s HTML file is loaded first, then the JavaScript bundle; When your React components load in the browser, they can fetch and render data from APIs.</p>\n<blockquote>\n<p>💡 The <a href=\"https://reactjs.org/docs/faq-ajax.html\">React docs</a> have a great, straightforward example demonstrating this approach.</p>\n</blockquote>\n<p>Some examples of how you could apply this:</p>\n<ul>\n<li>A news site with live data like sports scores or the weather</li>\n<li>An e-commerce site with universal product pages and category pages, but also personalized recommendation sections</li>\n</ul>\n<p>You can also use your React components to create interactive widgets e.g. allow a user to do searches or submit forms. Because Gatsby is just React, it’s easy to blend static and interactive/dynamic models of building web sites.</p>\n<h2 id=\"client-only-routes--user-authentication\"><a href=\"#client-only-routes--user-authentication\" aria-label=\"client only routes  user authentication permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Client-only routes &#x26; user authentication</h2>\n<p>Often you want to create a site with client-only portions that are gated by authentication.</p>\n<p>A classic example would be a site that has a landing page, various marketing pages, a login page, and then an app section for logged-in users. The logged-in section doesn’t need to be server rendered as all data will be loaded live from your API after the user logs in. So it makes sense to make this portion of your site client-only.</p>\n<p>Gatsby uses <a href=\"https://reach.tech/router/\">@reach/router</a> under the hood. You should use @reach/router to create client-only routes.</p>\n<p>These routes will exist on the client only and will not correspond to index.html files in an app’s built assets. If you’d like site users to be able to visit client routes directly, you’ll need to set up your server to handle those routes appropriately.</p>\n<p>To create client-only routes, add the following code to your site’s <code class=\"language-text\">gatsby-node.js</code> file:</p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Implement the Gatsby API “onCreatePage”. This is</span>\n<span class=\"token comment\">// called after every page is created.</span>\nexports<span class=\"token punctuation\">.</span>onCreatePage <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// page.matchPath is a special key that's used for matching pages</span>\n  <span class=\"token comment\">// only on the client.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/^\\/app/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    page<span class=\"token punctuation\">.</span>matchPath <span class=\"token operator\">=</span> <span class=\"token string\">\"/app/*\"</span>\n\n    <span class=\"token comment\">// Update the page.</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>💡 Note: There’s also a plugin to simplify the creation of client-only routes in your site:\n<a href=\"/packages/gatsby-plugin-create-client-paths/\">gatsby-plugin-create-client-paths</a>.</p>\n</blockquote>\n<p>Check out the <a href=\"https://github.com/gatsbyjs/gatsby/blob/master/examples/simple-auth/README.md\">“simple auth” example site</a> for a demo implementing user authentication and restricted client-only routes.</p>","excerpt":"Gatsby is an excellent framework for building web apps. You can use Gatsby to create personalized, logged-in experiences with two different…","timeToRead":2,"fields":{"slug":"/docs/building-apps-with-gatsby/","anchor":"building-apps-with-gatsby"},"frontmatter":{"title":"Building Apps with Gatsby","overview":null,"issue":null},"parent":{"__typename":"File","relativePath":"docs/building-apps-with-gatsby.md"}}},"pageContext":{"slug":"/docs/building-apps-with-gatsby/"}}