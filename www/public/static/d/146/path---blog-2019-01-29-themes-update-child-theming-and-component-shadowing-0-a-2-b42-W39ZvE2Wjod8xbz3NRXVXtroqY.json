{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you aren’t familiar with Gatsby themes yet, then check out "},{"type":"element","tagName":"a","properties":{"href":"https://www.gatsbyjs.org/blog/2018-11-11-introducing-gatsby-themes/"},"children":[{"type":"text","value":"Introducing\nGatsby\nThemes"}]},{"type":"text","value":"\nfor a written introduction and "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=wX84vXBpMR8"},"children":[{"type":"text","value":"my Gatsby Days\ntalk"}]},{"type":"text","value":" for a more audio/visual\napproach."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"child-theming"},"children":[{"type":"element","tagName":"a","properties":{"href":"#child-theming","ariaLabel":"child theming permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Child Theming"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ve merged "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/pull/10787"},"children":[{"type":"text","value":"a PR"}]},{"type":"text","value":" into Gatsby\ncore to support Child theming. Child theming is an extension of the core theming\nalgorithm to support a “parent/child” style relationship where child themes can\nrely on parent themes in the same way sites rely on themes. This means you can\nnow use the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"__experimentalThemes"}]},{"type":"text","value":" gatsby-config key in a theme as well as your\nsites."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This change is being made to make it easier for theme authors to produce themes\nthat rely on complex behavior while enabling users who have different skill sets\nto consume and modify those themes. Theme authors will benefit from the ability\nto abstract logic, UI elements, and other Gatsby idioms into multiple packages\nwhich can be consumed as a single theme. Child themes (and themes as a whole)\nwill improve the ability of people with different skill sets to create\naccessible, performant, beautiful sites. A few that I had in mind while building\nout child theming are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A designer who wants to change a set of design tokens to create a whole new\nlook for a theme"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Someone who is more familiar with HTML and CSS than React and GraphQL and\nwants to create a set of child blog themes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Someone familiar with GraphQL wants to enable new functionality by writing\ntheir own queries for page templates"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We also want child themes to enable an ecosystem to build on top of and compose\nwith each other. The 80% use case for a blog should be capable of being built on\na similar data model encapsulated in a parent theme so that users can swap out\nchild themes to try out new sites or new looks. This will take some more effort\nto achieve, so more on that at a later date."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"a-concrete-example"},"children":[{"type":"element","tagName":"a","properties":{"href":"#a-concrete-example","ariaLabel":"a concrete example permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"A Concrete Example"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Taking advantage of child theming requires some familiarity with theming itself\nto be used effectively. If you’re already experienced with themes and want to\nsee how one possible way to upgrade your themes to use this feature, the\ncorresponding PR in the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/ChristopherBiscardi/gatsby-theme-examples"},"children":[{"type":"text","value":"gatsby-theme-examples\nrepo"}]},{"type":"text","value":" has "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/ChristopherBiscardi/gatsby-theme-examples/pull/13"},"children":[{"type":"text","value":"also\nbeen\nmerged"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s say you have a theme that contains a blog data model and some logic\nrelating to how to render blog posts at specific pages, we’ll call it\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-theme-blog-core"}]},{"type":"text","value":". This theme renders JSON representations of blog posts\nat the relevant page locations instead of full UI because it’s only meant to\nencapsulate the data model. We’ll skip going over page creation logic in\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-node.js"}]},{"type":"text","value":" and instead focus on the following possible "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-config.js"}]},{"type":"text","value":"\nfor the core theme."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"gatsby-theme-blog-core/gatsby-config.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"module"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"exports "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  plugins"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"`gatsby-mdx`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then we have another theme that handles applying a UI layer using to the core\ndata model, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-theme-blog"}]},{"type":"text","value":". This theme is a child theme of\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-theme-blog-core"}]},{"type":"text","value":" and shadows the core theme’s modules to render\nbeautiful posts on each blog using any styling technology we want, like\n"},{"type":"element","tagName":"a","properties":{"href":"https://emotion.sh/"},"children":[{"type":"text","value":"Emotion"}]},{"type":"text","value":" or "},{"type":"element","tagName":"a","properties":{"href":"https://sass-lang.com/"},"children":[{"type":"text","value":"Sass"}]},{"type":"text","value":". Again, since\nthis is a post on child theming itself we’ll skip looking at how shadowing is\napplied to the parent and focus on one possible child theme "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-config.js"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"gatsby-theme-blog/gatsby-config.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"module"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"exports "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  __experimentalThemes"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"`gatsby-theme-blog-core`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  plugins"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"`gatsby-plugin-emotion`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we’ve composed the original data model (with page creation logic) with\nthe plugins and shadowed components to build the UI, any user can use our theme\nby specifying only the child in their "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gatsby-config.js"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"my-site/gatsby-config.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"module"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"exports "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  __experimentalThemes"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"`gatsby-theme-blog`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The end result from a theme’s composition view is that we apply the parent, then\nthe child, then the user’s site. This opens up a whole host of additional\npossibilities as child themes can have multiple parents or compose with each\nother. Data models for blogging and ecommerce can be combined into a usable\nchild theme and distributed as a single npm package. Users don’t need to know\nyour theme is made up of multiple parents."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we go back to our list of use cases, we can map each of them to a layer in\nthis theme stack. The designer uses the child theme to make their own site\n(passing tokens into the theme config), the person proficient in HTML and CSS\ncan shadow components from the core theme (using minimal React), and the Gatsby\nexpert can craft custom data models for their specific use cases to compose with\nother models. Each link in the chain supports the next, allowing us to reveal\ncomplexity for people with different skillsets when they need it and not before."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"component-shadowing"},"children":[{"type":"element","tagName":"a","properties":{"href":"#component-shadowing","ariaLabel":"component shadowing permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Component Shadowing"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The other major change that has landed is the only breaking change to themes so\nfar. Based on feedback from the early adopters who have been authoring themes,\nwe’ve changed Component Shadowing so that it now applies to the entire "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"src/"}]},{"type":"text","value":"\ndirectory instead of just the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"src/components"}]},{"type":"text","value":" directory. This change was made\nbecause of two key points of feedback:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"people had trouble remembering which folders got shadowed"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"people who did remember, also wanted shadowing on templates and other, new\ndirectories (for example one for design tokens) that didn’t belong in\ncomponents"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fix for any currently existing theme users is to move any shadowed\ncomponents from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"src/components/<theme-name>"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"src/<theme-name>/components"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"whats-next"},"children":[{"type":"element","tagName":"a","properties":{"href":"#whats-next","ariaLabel":"whats next permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"What’s next?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We are working on a roadmap post for themes which will give more insight into\nthe future of theming, how we’re approaching stability, and what we’re working\non next. Check back on the Gatsby blog to know when that is published."}]}],"data":{"quirksMode":false}},"excerpt":"If you aren’t familiar with Gatsby themes yet, then check out  Introducing\nGatsby\nThemes \nfor a written introduction and  my Gatsby Days…","timeToRead":4,"fields":{"slug":"/blog/2019-01-29-themes-update-child-theming-and-component-shadowing/","publishedAt":null},"frontmatter":{"title":"Themes Update: Child Theming and Component Shadowing","excerpt":"Making it easier to abstract themes into reusable modules","date":"January 29th 2019","rawDate":"2019-01-29T00:00:00.000Z","canonicalLink":null,"tags":["themes","architecture"],"image":null,"imageAuthor":null,"imageAuthorLink":null,"imageTitle":null,"showImageInArticle":null,"author":{"id":"Chris Biscardi","bio":"Early stage software product consultant. React*, Go, GraphQL, Containers, k8s.","twitter":"@chrisbiscardi","avatar":{"childImageSharp":{"fixed":{"tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30' version='1'%3e%3crect width='100%25' height='100%25' fill='%23f6f2f8'/%3e%3cpath d='M12 5c-3 2-3 7-1 12l1 3v-3c0-2 0-3 3-2l3-1-3-1c-2 0-3-1-3-2l1-2 5-1h6c2 2 1 5-1 5l-3 1h5l1-4c0-7-9-11-14-5m0 16c0 2 0 3-4 4-11 4-10 5 7 5l15-1c1-1 0-5-2-5l-2-1c-1-2-2-1-3 1-2 3-3 3-5 2-3-1-2-3 1-4 2-2 3-3 0-3l-3 2-1 2-2-2-1-2v2' fill='%23e0d6eb' fill-rule='evenodd'/%3e%3c/svg%3e","width":63,"height":63,"src":"/static/6fc6a0322c6603376211bf5eacc8897e/7c581/chris-biscardi.png","srcSet":"/static/6fc6a0322c6603376211bf5eacc8897e/7c581/chris-biscardi.png 1x,\n/static/6fc6a0322c6603376211bf5eacc8897e/c30b7/chris-biscardi.png 1.5x,\n/static/6fc6a0322c6603376211bf5eacc8897e/cd782/chris-biscardi.png 2x,\n/static/6fc6a0322c6603376211bf5eacc8897e/a932c/chris-biscardi.png 3x"}}},"fields":{"slug":"/contributors/chris-biscardi/"}}}}},"pageContext":{"slug":"/blog/2019-01-29-themes-update-child-theming-and-component-shadowing/","prev":{"fields":{"slug":"/blog/2019-01-28-building-a-large-ecommerce-website-with-gatsby-at-daniel-wellington/","package":null,"released":true},"frontmatter":{"title":"Building a large, internationalized e-commerce website with Gatsby at Daniel Wellington","draft":null,"canonicalLink":null,"publishedAt":null,"issue":null,"tags":["case-study","architecture","i18n"]}},"next":{"fields":{"slug":"/blog/2019-01-30-flamingo-case-study/","package":null,"released":true},"frontmatter":{"title":"Flamingo, women’s body care brand from Harry’s, chooses Gatsby for critical ecommerce launch, 5X faster page loads","draft":null,"canonicalLink":null,"publishedAt":null,"issue":null,"tags":["ecommerce","case study"]}}}}