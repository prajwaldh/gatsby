{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-plugin-intl-url","description":"Minimalist plugin to internationalize the urls of a Gatsby website in a seo-friendly way. It puts all the pages under localized sub trees, ex.: `/en/hello` ; `/fr/bonjour`","keywords":["gatbsy","gatsby-plugin","i18n","intl","translation","internationalization","slug","slugs","path","paths","url","seo","canonical url"],"lastPublisher":{"name":"vtellier","avatar":"https://gravatar.com/avatar/872cf9b72017beb475919bd0270fd3df"},"repository":{"url":"https://github.com/vtellier/gatsby-plugin-intl-url"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-remark-i18n\"><a href=\"#gatsby-remark-i18n\" aria-label=\"gatsby remark i18n permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-remark-i18n</h1>\n<p>This is a <a href=\"gatsbyjs.org\">Gatsby</a> plugin that enables you to internationalize the urls of your website.</p>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Support the <a href=\"https://tools.ietf.org/html/bcp47\">BCP47</a> tags for identifying languages</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" checked disabled> Defines a non canonical duplicate page for the main index pages</p>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> This is done at all level of your arborescence</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> The canonical link in the header is injected to signal the search engines crawlers register the right address</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Include the locale tag in the path of untranslated pages with the default language</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Configurable default language</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Translation of the slugs</li>\n</ul>\n<h2 id=\"what-it-does\"><a href=\"#what-it-does\" aria-label=\"what it does permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What it does</h2>\n<p>It injects the <a href=\"https://formatjs.io/guides/basic-i18n/#locales\">locale code</a> of your pages in the base path of the URL, your tree will look like that:</p>\n<blockquote>\n<p>www.example.com<strong>/en</strong>/hello<br>\nwww.example.com<strong>/en-US</strong>/hello<br>\nwww.example.com<strong>/fr</strong>/hello<br>\nwww.example.com/ <em>deliver the same content as the <strong>default language</strong></em></p>\n</blockquote>\n<ul>\n<li>You have to provide the language in the path of the pages like <code class=\"language-text\">/this/is/my-page.html.fr</code>\nfor the french version.  </li>\n<li>The paths are translated in the language of the page using the translations files you edit,\n<em>see the locale.[lang].json</em> section.</li>\n</ul>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-label=\"configuration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h2>\n<div class=\"gatsby-highlight\" data-language=\".json\"><pre class=\"language-.json\"><code class=\"language-.json\">{\n    resolve: `gatsby-plugin-intl-url`,\n    options: {\n        defaultLanguage: &#39;fr&#39;,\n        translationFile: &#39;src/locale.json&#39;\n    }\n}</code></pre></div>\n<ul>\n<li><strong>defaultLanguage</strong> <em>optional</em>: the default language chosen by the plugin if the language code is missing from your\npath. Defaults to <code class=\"language-text\">en</code></li>\n<li><strong>translationFile</strong> <em>optional</em>: the path to your path translation json file, defaults to <code class=\"language-text\">src/locale.json</code></li>\n</ul>\n<h2 id=\"api\"><a href=\"#api\" aria-label=\"api permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API</h2>\n<ul>\n<li>The plugin takes as input all the pages of the project<br>\n<em>Nb: The pages might have been tranformed before with a markup transformer like <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-remark\">gatsby-transformer-remark</a></em></li>\n<li>\n<p>The language code of each page by extracted from the path: <code class=\"language-text\">/path/to/my/file.html.en</code> provides the <code class=\"language-text\">en</code> code.  </p>\n<ul>\n<li>If the pattern does not maches, the page will be treated as written in the <strong>default language</strong>.</li>\n<li>If the page file name is <strong>index</strong>, the path will stop at the folder level</li>\n</ul>\n</li>\n<li>As output, it transforms the path of the pages and inject context variables as the next table describes  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Path</th>\n<th>New path</th>\n<th>context.locale</th>\n<th>context.canonical</th>\n<th>context.slug</th>\n<th>context.pathRegex</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/a/b.fr</td>\n<td>/fr/a/b</td>\n<td>fr</td>\n<td>null</td>\n<td>/a/b</td>\n<td>/a/b/</td>\n</tr>\n<tr>\n<td>/a.html</td>\n<td>/en/a.html</td>\n<td>en (default)</td>\n<td>null</td>\n<td>/a.html</td>\n<td>/a.html/</td>\n</tr>\n<tr>\n<td>/a.html.es</td>\n<td>/es/a.html</td>\n<td>es</td>\n<td>null</td>\n<td>/a.html</td>\n<td>/a.html/</td>\n</tr>\n<tr>\n<td>/index.no</td>\n<td>/no</td>\n<td>no</td>\n<td>null</td>\n<td>/</td>\n<td>//</td>\n</tr>\n<tr>\n<td>/index.en</td>\n<td>/ <strong>and</strong> /en</td>\n<td>en (default)</td>\n<td>en <strong>and</strong> null</td>\n<td>/</td>\n<td>//</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Each item of the path is translated using the <strong>translation file</strong>\n<em>Ex: <code class=\"language-text\">/my/path.html</code> is exploded as <code class=\"language-text\">[&#39;my&#39;,&#39;path.html&#39;]</code>, and every string of this array will be translated\nin french using <code class=\"language-text\">src/locale.json</code> file</em></li>\n</ul>\n<h3 id=\"context-property-injection\"><a href=\"#context-property-injection\" aria-label=\"context property injection permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Context property injection</h3>\n<p>After handled by the plugin, the page’s context have been injected with the following properties:</p>\n<ul>\n<li><strong>locale:</strong> The language tag indentifying the language of the page.</li>\n<li><strong>canonical:</strong> The canonical link to the page, if the current one has not the canonical path itself, null otherwise.\nThis is usefull to indicate the search engines which link should be\nregistered for the index pages.</li>\n<li><strong>slug:</strong> This is the relative path of your page without any indication of the language. It should be written in the\ndefault language <del>so that you can translate it</del> (feature not implemented yet).</li>\n<li><strong>pathRegex:</strong> A regular expression containing your the slug for you to filter easily in GraphQL.</li>\n</ul>\n<h3 id=\"paths-translation-file\"><a href=\"#paths-translation-file\" aria-label=\"paths translation file permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paths translation file</h3>\n<p>This file must be structured as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\".json\"><pre class=\"language-.json\"><code class=\"language-.json\">{\n    &quot;slugs&quot;: {\n        &quot;boats&quot;: &quot;bateaux&quot;,\n        &quot;mono-hull&quot;: &quot;mono-coque&quot;,\n        &quot;multi-hull&quot;: &quot;multi-coque&quot;,\n        &quot;sailboat&quot;: &quot;voilier&quot;,\n        &quot;motorboat&quot;: &quot;bateau-a-moteur&quot;,\n    }\n}</code></pre></div>\n<p>This file would enable to translate the following paths:</p>\n<table>\n<thead>\n<tr>\n<th>Path</th>\n<th>Translated</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/boats/motorboat</td>\n<td>/bateaux/bateau-a-moteur</td>\n</tr>\n<tr>\n<td>/boats/sailboat/mono-hull</td>\n<td>/bateaux/voilier/mono-coque</td>\n</tr>\n<tr>\n<td>/boats/sailboat/multi-hull</td>\n<td>/bateaux/voilier/multi-coque</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"handling-the-index-pages\"><a href=\"#handling-the-index-pages\" aria-label=\"handling the index pages permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Handling the index pages</h3>\n<p>A website <em>www.example.com</em> will have an index page translated in several languages availables at their specific URLs.\nfor instance <em>www.example.com/pt</em>, <em>www.example.com/fi</em>, <em>www.example.com/no</em>… If the default language is norwegian, the\nmain home page should be translated in norwegian, which means the URL <em>www.example.com/</em> should deliver the same content as\n<em>www.example.com/no</em>.</p>\n<p>To handle this case, the plugin will general two pages with two different URLs, one will be the preferred one\nie. the <strong>canonical</strong>, and the other the non canonical.<br>\nAs of today, this choice isn’t configurable and it behaves like so:</p>\n<ul>\n<li><em>www.example.com/no</em> is canonical</li>\n<li><em>www.example.com/</em> is <strong>not</strong> canonical</li>\n</ul>\n<h2 id=\"contribution\"><a href=\"#contribution\" aria-label=\"contribution permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contribution</h2>\n<p>Please help me improve this project, feel free to ask, suggest or send your pull requests. You can directly\n<a href=\"https://twitter.com/vtellier\">contact me on Twitter</a>.</p>","timeToRead":4}}}},"pageContext":{"slug":"/packages/gatsby-plugin-intl-url/","id":"2d9de841-58aa-5baf-b9b5-e0af22ba60b3","layout":"plugins"}}