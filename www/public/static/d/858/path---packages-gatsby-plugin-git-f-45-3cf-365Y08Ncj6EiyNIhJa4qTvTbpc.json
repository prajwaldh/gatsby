{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-plugin-git","description":"Gatsby plugin which checkout a repository e.g. to populate content","keywords":["gatsby","gatsby-plugin","git"],"lastPublisher":{"name":"etnbrd","avatar":"https://gravatar.com/avatar/e14e2a18f92cb1ce9e993f0e65ce1cbc"},"repository":{"url":"https://github.com/etnbrd/gatsby-plugin-git"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-plugin-git\"><a href=\"#gatsby-plugin-git\" aria-label=\"gatsby plugin git permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-plugin-git</h1>\n<p>Plugin for fetching a single revision of a remote repository into gatsby source tree.</p>\n<p>Keeping the code and content together in a single revision history might not always be a solution (e.g. content is used in multiple sites).\nThis plugin allows to separate the content from your code, while keeping a clear relation between the code and the content, thus, avoiding error due to inconsistencies between code and content.</p>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p><code class=\"language-text\">npm install --save gatsby-plugin-git</code></p>\n<p>or </p>\n<p><code class=\"language-text\">yarn add gatsby-plugin-git</code></p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-label=\"how to use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<p>Hide a folder from your git revision history.</p>\n<div class=\"gatsby-highlight\" data-language=\".gitignore\"><pre class=\"language-.gitignore\"><code class=\"language-.gitignore\">/content</code></pre></div>\n<p>Then configure the plugin to fetch a specific commit from your remote repository.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// You can have multiple instances of this plugin</span>\n    <span class=\"token comment\">// to fetch multiple </span>\n\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-git'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token comment\">// remote name, default to origin</span>\n        remote<span class=\"token punctuation\">:</span> <span class=\"token string\">'origin'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// SHA1 revision to fetch and checkout</span>\n        revision<span class=\"token punctuation\">:</span> <span class=\"token string\">'7beed15dd03e03f9f9a183ed3b53f0e51f6dbbd7'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// url of the repository to fetch</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`https://github.com/gatsbyjs/gatsby.git`</span></span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// folder in which to put the repository</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/content/my-repo`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>:warning:\nThis plugin will checkout the specified revision, discarding your current branch tip, even if the revision is the head of your current branch.\n<em>It will result in a detached HEAD</em>.\nSo you might not want to use this on your development environement, as you would have to constantly checkout back to your branch to commit new revisions.</p>\n<p>It is specifically intended for automated deployment, to fetch a single revision of a repository (not the full history) and check it out.\nSo you might want to condition this plugin to run only on deployment.\nAnd for your development environement, you can manually put the repository in your local <code class=\"language-text\">content</code> folder, e.g. using submodules, or symbolic links.</p>\n<h2 id=\"simplest-example\"><a href=\"#simplest-example\" aria-label=\"simplest example permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Simplest example</h2>\n<p>As an example, I forked <code class=\"language-text\">gatsby-starter-default</code> and added this plugin to fetch some random repo:\n<a href=\"https://github.com/etnbrd/gatsby-starter-default\">https://github.com/etnbrd/gatsby-starter-default</a></p>\n<p>All the code needed to use the plugin can be found in this commit:\n<a href=\"https://github.com/etnbrd/gatsby-starter-default/commit/e263f16da23e3c887930ffdbed826296a07799d9\">https://github.com/etnbrd/gatsby-starter-default/commit/e263f16da23e3c887930ffdbed826296a07799d9</a>\n(It doesnâ€™t include the condition for deployment only, though, as that would depend on your environements)</p>\n<p>It fetches the repo <code class=\"language-text\">toddmotto/public-apis</code>, and sources it with <code class=\"language-text\">gatsby-source-filesystem</code>.\nAs a result, the file <code class=\"language-text\">README.md</code> should be available in your graph.</p>","timeToRead":2}}}},"pageContext":{"slug":"/packages/gatsby-plugin-git/","id":"d8e36ffa-23bd-5290-9366-99c87f48390a","layout":"plugins"}}