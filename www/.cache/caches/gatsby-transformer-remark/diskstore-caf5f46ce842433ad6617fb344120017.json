{"expireTime":9007200804686261000,"key":"transformer-remark-markdown-html-3ba2f42ea67080eb5b4cd9487eb7bf1f-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<h2 id=\"gatsby-codemods\"><a href=\"#gatsby-codemods\" aria-label=\"gatsby codemods permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-codemods</h2>\n<p>A collection of codemod scripts for use with <a href=\"https://github.com/facebook/jscodeshift\">JSCodeshift</a> that help migrate to newer versions of Gatsby.</p>\n<blockquote>\n<p><strong>Note:</strong> Codemods are designed to rewrite your projectâ€™s files. Ensure you have a backup before going any further.</p>\n</blockquote>\n<h3 id=\"setup--run\"><a href=\"#setup--run\" aria-label=\"setup  run permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setup &#x26; Run</h3>\n<ul>\n<li>Install JSCodeshift as a global module</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --global jscodeshift</code></pre></div>\n<ul>\n<li>Install this package</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-codemods</code></pre></div>\n<ul>\n<li>Run a transform from this package on your project</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">jscodeshift -t node_modules/gatsby-codemods/transforms/global-graphql-calls.js my-project</code></pre></div>\n<p>Note that jscodeshift tries to match the formatting of your existing code, but you may need to use a tool like <a href=\"https://prettier.io/\">prettier</a> to ensure consistency after running these codemods.</p>\n<p>Structure of a jscodeshift call:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">jscodeshift -t &lt;codemod-script&gt; &lt;path&gt;</code></p>\n<ul>\n<li><code class=\"language-text\">codemod-script</code> - path to the transform file, see available scripts below</li>\n<li><code class=\"language-text\">path</code> - files or directory to transform, typically the path to your Gatsby project</li>\n<li>use the <code class=\"language-text\">-d</code> option for a dry-run and use <code class=\"language-text\">-p</code> to print the output for comparison</li>\n<li>use the <code class=\"language-text\">--extensions</code> option if your files have different extensions than <code class=\"language-text\">.js</code> (for example, <code class=\"language-text\">--extensions js,jsx</code>)</li>\n<li>see all available <a href=\"https://github.com/facebook/jscodeshift#usage-cli\">jscodeshift options</a>.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"included-scripts\"><a href=\"#included-scripts\" aria-label=\"included scripts permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Included scripts</h3>\n<h4 id=\"global-graphql-calls\"><a href=\"#global-graphql-calls\" aria-label=\"global graphql calls permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">global-graphql-calls</code></h4>\n<p>Add a <code class=\"language-text\">graphql</code> import to modules that use the <code class=\"language-text\">graphql</code> tag function without an import. This was supported in Gatsby v1 and deprecated for Gatsby v2.</p>\n<p>See the <a href=\"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby\">Gatsby v2 migration guide for details on when to use this</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/global-graphql-calls.js &lt;path&gt;</code></pre></div>\n<p>Example result:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">import React from \"react\"\n<span class=\"token inserted\">+ import { graphql } from \"gatsby\"</span>\n\nexport default ({ data }) => (\n  &lt;h1>{data.site.siteMetadata.title}&lt;/h1>\n)\n\nexport const query = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`</code></pre></div>\n<h4 id=\"import-link\"><a href=\"#import-link\" aria-label=\"import link permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">import-link</code></h4>\n<p>Import <code class=\"language-text\">Link</code> from <code class=\"language-text\">gatsby</code> instead of <code class=\"language-text\">gatsby-link</code> and remove the <code class=\"language-text\">gatsby-link</code> import.</p>\n<p>See the <a href=\"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-link-from-gatsby\">Gatsby v2 migration guide for details on when to use this</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/import-link.js &lt;path&gt;</code></pre></div>\n<p>Example result:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted\">- import Link from \"gatsby-link\"</span>\n<span class=\"token inserted\">+ import { Link } from \"gatsby\"</span>\n\nexport default props => (\n  &lt;Link to=\"/\">Home&lt;/Link>\n)</code></pre></div>\n<h4 id=\"navigate-calls\"><a href=\"#navigate-calls\" aria-label=\"navigate calls permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">navigate-calls</code></h4>\n<p>Change the deprecated <code class=\"language-text\">navigateTo</code> method from <code class=\"language-text\">gatsby-link</code> to <code class=\"language-text\">navigate</code> from the <code class=\"language-text\">gatsby</code> module.</p>\n<p>See the <a href=\"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#change-navigateto-to-navigate\">Gatsby v2 migration guide for details on when to use this</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/navigate-calls.js &lt;path&gt;</code></pre></div>\n<p>Example result:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">import React from \"react\"\n<span class=\"token deleted\">- import { navigateTo } from \"gatsby-link\"</span>\n<span class=\"token inserted\">+ import { navigate } from \"gatsby\"</span>\n\n// Don't use navigate with an onClick btw :-)\n// Generally just use the `&lt;Link>` component.\nexport default props => (\n<span class=\"token deleted\">-  &lt;div onClick={() => navigateTo(`/`)}>Click to go to home&lt;/div></span>\n<span class=\"token inserted\">+  &lt;div onClick={() => navigate(`/`)}>Click to go to home&lt;/div></span>\n)</code></pre></div>\n<h4 id=\"rename-bound-action-creators\"><a href=\"#rename-bound-action-creators\" aria-label=\"rename bound action creators permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">rename-bound-action-creators</code></h4>\n<p>Rename <code class=\"language-text\">boundActionCreators</code> to <code class=\"language-text\">actions</code>. <code class=\"language-text\">boundActionCreators</code> has been deprecated in Gatsby v2</p>\n<p>Note: Run this codemod only against files that use <code class=\"language-text\">boundActionCreators</code> instead of running it against a whole directory.</p>\n<p>See the <a href=\"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#rename-boundactioncreators-to-actions\">Gatsby v2 migration guide for details on when to use this</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/rename-bound-action-creators.js &lt;path-to-file&gt;</code></pre></div>\n<p>Example result:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted\">- exports.onCreateNode = ({ node, getNode, boundActionCreators }) => {</span>\n<span class=\"token inserted\">+ exports.onCreateNode = ({ node, getNode, actions }) => {</span>\n<span class=\"token deleted\">- const { createNodeField } = boundActionCreators</span>\n<span class=\"token inserted\">+ const { createNodeField } = actions</span>\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode, basePath: `pages` })\n    createNodeField({\n      node,\n      name: `slug`,\n      value: slug,\n    })\n  }\n}</code></pre></div>\n<h3 id=\"more-scripts\"><a href=\"#more-scripts\" aria-label=\"more scripts permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>More scripts</h3>\n<p>Check out <a href=\"https://github.com/gatsbyjs/gatsby/issues/5038#issuecomment-411516865\">issue 5038 in the Gatsby repo for additional codemod ideas</a>.</p>\n<p>Weâ€™d love your help with writing these!</p>"}