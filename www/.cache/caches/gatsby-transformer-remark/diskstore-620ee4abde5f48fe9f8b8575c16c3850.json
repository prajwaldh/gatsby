{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-5c7dea5499e9b14ef34b9af453ec0091-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#gatsby-plugin-portal","title":null,"data":{"hProperties":{"aria-label":"gatsby plugin portal permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-plugin-portal","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":23,"offset":22},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":23,"offset":22},"indent":[]},"data":{"id":"gatsby-plugin-portal","htmlAttributes":{"id":"gatsby-plugin-portal"},"hProperties":{"id":"gatsby-plugin-portal"}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#if-you-want-to-use-react-portals-in-your-gatsby-site-this-is-a-simple-way-to-add-the-required-div-element-to-your-publicindexhtml-file","title":null,"data":{"hProperties":{"aria-label":"if you want to use react portals in your gatsby site this is a simple way to add the required div element to your publicindexhtml file permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"If you want to use React Portals in your gatsby site, this is a simple way to add the required div element to your /public/index.html file.","position":{"start":{"line":3,"column":5,"offset":28},"end":{"line":3,"column":144,"offset":167},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":24},"end":{"line":3,"column":144,"offset":167},"indent":[]},"data":{"id":"if-you-want-to-use-react-portals-in-your-gatsby-site-this-is-a-simple-way-to-add-the-required-div-element-to-your-publicindexhtml-file","htmlAttributes":{"id":"if-you-want-to-use-react-portals-in-your-gatsby-site-this-is-a-simple-way-to-add-the-required-div-element-to-your-publicindexhtml-file"},"hProperties":{"id":"if-you-want-to-use-react-portals-in-your-gatsby-site-this-is-a-simple-way-to-add-the-required-div-element-to-your-publicindexhtml-file"}}},{"type":"paragraph","children":[{"type":"text","value":"For convenience, I’ve explained a couple of gotchas that you will run into when implementing portals using Gatsby and how to fix them.","position":{"start":{"line":5,"column":1,"offset":169},"end":{"line":5,"column":135,"offset":303},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":169},"end":{"line":5,"column":135,"offset":303},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":7,"column":1,"offset":305},"end":{"line":7,"column":4,"offset":308},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#what-are-portals","title":null,"data":{"hProperties":{"aria-label":"what are portals permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"What are Portals","position":{"start":{"line":9,"column":4,"offset":313},"end":{"line":9,"column":20,"offset":329},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":310},"end":{"line":9,"column":20,"offset":329},"indent":[]},"data":{"id":"what-are-portals","htmlAttributes":{"id":"what-are-portals"},"hProperties":{"id":"what-are-portals"}}},{"type":"paragraph","children":[{"type":"text","value":"Introduced in React 16, portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component. ","position":{"start":{"line":10,"column":1,"offset":330},"end":{"line":10,"column":157,"offset":486},"indent":[]}},{"type":"link","title":null,"url":"https://reactjs.org/docs/portals.html","children":[{"type":"text","value":"Here’s the React documentation on portals","position":{"start":{"line":10,"column":158,"offset":487},"end":{"line":10,"column":199,"offset":528},"indent":[]}}],"position":{"start":{"line":10,"column":157,"offset":486},"end":{"line":10,"column":239,"offset":568},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":330},"end":{"line":10,"column":239,"offset":568},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#why-use-portals","title":null,"data":{"hProperties":{"aria-label":"why use portals permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why use Portals","position":{"start":{"line":12,"column":4,"offset":573},"end":{"line":12,"column":19,"offset":588},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":570},"end":{"line":12,"column":19,"offset":588},"indent":[]},"data":{"id":"why-use-portals","htmlAttributes":{"id":"why-use-portals"},"hProperties":{"id":"why-use-portals"}}},{"type":"paragraph","children":[{"type":"text","value":"Portals are great for creating things like re-usable modals for alerts, login dialogs, etc.","position":{"start":{"line":13,"column":1,"offset":589},"end":{"line":13,"column":92,"offset":680},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":589},"end":{"line":13,"column":92,"offset":680},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#portal-documentation-and-tutorials","title":null,"data":{"hProperties":{"aria-label":"portal documentation and tutorials permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Portal Documentation and Tutorials","position":{"start":{"line":15,"column":4,"offset":685},"end":{"line":15,"column":38,"offset":719},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":682},"end":{"line":15,"column":38,"offset":719},"indent":[]},"data":{"id":"portal-documentation-and-tutorials","htmlAttributes":{"id":"portal-documentation-and-tutorials"},"hProperties":{"id":"portal-documentation-and-tutorials"}}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://reactjs.org/docs/portals.html","children":[{"type":"text","value":"React Documentation","position":{"start":{"line":16,"column":4,"offset":723},"end":{"line":16,"column":23,"offset":742},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":722},"end":{"line":16,"column":63,"offset":782},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":722},"end":{"line":16,"column":63,"offset":782},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":720},"end":{"line":16,"column":63,"offset":782},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.youtube.com/watch?v=SVQ2l2w-zPM","children":[{"type":"text","value":"Creating A Re-useable Portal by Levelup Tutorials","position":{"start":{"line":17,"column":4,"offset":786},"end":{"line":17,"column":53,"offset":835},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":785},"end":{"line":17,"column":99,"offset":881},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":785},"end":{"line":17,"column":99,"offset":881},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":783},"end":{"line":17,"column":99,"offset":881},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":720},"end":{"line":17,"column":99,"offset":881},"indent":[1]}},{"type":"thematicBreak","position":{"start":{"line":19,"column":1,"offset":883},"end":{"line":19,"column":4,"offset":886},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#portal-gotchas-in-gatsby","title":null,"data":{"hProperties":{"aria-label":"portal gotchas in gatsby permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Portal Gotchas in Gatsby","position":{"start":{"line":21,"column":4,"offset":891},"end":{"line":21,"column":28,"offset":915},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":888},"end":{"line":21,"column":28,"offset":915},"indent":[]},"data":{"id":"portal-gotchas-in-gatsby","htmlAttributes":{"id":"portal-gotchas-in-gatsby"},"hProperties":{"id":"portal-gotchas-in-gatsby"}}},{"type":"paragraph","children":[{"type":"text","value":"There are a two gotchas in Gatsby that you need to look out for.","position":{"start":{"line":22,"column":1,"offset":916},"end":{"line":22,"column":65,"offset":980},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":916},"end":{"line":22,"column":65,"offset":980},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"There is no index.html where you can simply add a div.","position":{"start":{"line":23,"column":3,"offset":983},"end":{"line":23,"column":57,"offset":1037},"indent":[]}},{"type":"break","position":{"start":{"line":23,"column":57,"offset":1037},"end":{"line":24,"column":1,"offset":1040},"indent":[1]}},{"type":"text","value":"That’s why this plugin exists, so… problem solved. Follow the install and setup instructions below.  ","position":{"start":{"line":24,"column":1,"offset":1040},"end":{"line":24,"column":104,"offset":1143},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":983},"end":{"line":24,"column":104,"offset":1143},"indent":[1]}}],"position":{"start":{"line":23,"column":1,"offset":981},"end":{"line":25,"column":1,"offset":1144},"indent":[1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The document object is not defined during build.","position":{"start":{"line":26,"column":3,"offset":1147},"end":{"line":26,"column":51,"offset":1195},"indent":[]}},{"type":"break","position":{"start":{"line":26,"column":51,"offset":1195},"end":{"line":27,"column":1,"offset":1198},"indent":[1]}},{"type":"text","value":"When you create a modal component the document object will not be available during build. I’ve posted some example code below showing you how to get around this.  ","position":{"start":{"line":27,"column":1,"offset":1198},"end":{"line":27,"column":164,"offset":1361},"indent":[]}}],"position":{"start":{"line":26,"column":3,"offset":1147},"end":{"line":27,"column":164,"offset":1361},"indent":[1]}}],"position":{"start":{"line":26,"column":1,"offset":1145},"end":{"line":27,"column":164,"offset":1361},"indent":[1]}}],"position":{"start":{"line":23,"column":1,"offset":981},"end":{"line":27,"column":164,"offset":1361},"indent":[1,1,1,1]}},{"type":"thematicBreak","position":{"start":{"line":29,"column":1,"offset":1363},"end":{"line":29,"column":4,"offset":1366},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#why-is-this-plugin-necessary","title":null,"data":{"hProperties":{"aria-label":"why is this plugin necessary permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why is this plugin necessary?","position":{"start":{"line":31,"column":4,"offset":1371},"end":{"line":31,"column":33,"offset":1400},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1368},"end":{"line":31,"column":33,"offset":1400},"indent":[]},"data":{"id":"why-is-this-plugin-necessary","htmlAttributes":{"id":"why-is-this-plugin-necessary"},"hProperties":{"id":"why-is-this-plugin-necessary"}}},{"type":"paragraph","children":[{"type":"text","value":"Adding a portal requires that you insert a div with an id into ","position":{"start":{"line":33,"column":1,"offset":1402},"end":{"line":33,"column":64,"offset":1465},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">./public/index.html</code>","position":{"start":{"line":33,"column":64,"offset":1465},"end":{"line":33,"column":90,"offset":1491},"indent":[]}},{"type":"text","value":"that can be used by ","position":{"start":{"line":33,"column":90,"offset":1491},"end":{"line":33,"column":110,"offset":1511},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">document.getElementById</code>","position":{"start":{"line":33,"column":110,"offset":1511},"end":{"line":33,"column":139,"offset":1540},"indent":[]}},{"type":"text","value":".  ","position":{"start":{"line":33,"column":139,"offset":1540},"end":{"line":33,"column":142,"offset":1543},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1402},"end":{"line":33,"column":142,"offset":1543},"indent":[]}},{"type":"html","lang":"html","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- ./Public/index.html --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>portal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":35,"column":1,"offset":1545},"end":{"line":38,"column":4,"offset":1609},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Gatsby builds the index.html file when the site is generated, so there is no ","position":{"start":{"line":39,"column":1,"offset":1610},"end":{"line":39,"column":78,"offset":1687},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/public/index.html</code>","position":{"start":{"line":39,"column":78,"offset":1687},"end":{"line":39,"column":102,"offset":1711},"indent":[]}},{"type":"text","value":" file to edit. What you need to do is to add the div component using the ","position":{"start":{"line":39,"column":102,"offset":1711},"end":{"line":39,"column":175,"offset":1784},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">setPostBodyComponents</code>","position":{"start":{"line":39,"column":175,"offset":1784},"end":{"line":39,"column":202,"offset":1811},"indent":[]}},{"type":"text","value":" method of the ","position":{"start":{"line":39,"column":202,"offset":1811},"end":{"line":39,"column":217,"offset":1826},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">onRenderBody</code>","position":{"start":{"line":39,"column":217,"offset":1826},"end":{"line":39,"column":235,"offset":1844},"indent":[]}},{"type":"text","value":" API in your gatsby-ssr.js file.","position":{"start":{"line":39,"column":235,"offset":1844},"end":{"line":39,"column":267,"offset":1876},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1610},"end":{"line":39,"column":267,"offset":1876},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are 3 ways you can do this.","position":{"start":{"line":41,"column":1,"offset":1878},"end":{"line":41,"column":34,"offset":1911},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1878},"end":{"line":41,"column":34,"offset":1911},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.npmjs.com/package/gatsby-plugin-portal","children":[{"type":"text","value":"Install the gatsby-plugin-portal","position":{"start":{"line":43,"column":4,"offset":1916},"end":{"line":43,"column":36,"offset":1948},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":1915},"end":{"line":43,"column":89,"offset":2001},"indent":[]}},{"type":"break","position":{"start":{"line":43,"column":89,"offset":2001},"end":{"line":44,"column":1,"offset":2004},"indent":[1]}},{"type":"text","value":"This is the easiest way to do it. It’s a really simple plugin made mostly for convinience. You may have reasons to do this another way. If so, here are two additional options.","position":{"start":{"line":44,"column":1,"offset":2004},"end":{"line":44,"column":176,"offset":2179},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":1915},"end":{"line":44,"column":176,"offset":2179},"indent":[1]}}],"position":{"start":{"line":43,"column":1,"offset":1913},"end":{"line":44,"column":176,"offset":2179},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.gatsbyjs.org/docs/plugin-authoring/#local-plugins","children":[{"type":"text","value":"Make your own local plugin","position":{"start":{"line":45,"column":4,"offset":2183},"end":{"line":45,"column":30,"offset":2209},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2182},"end":{"line":45,"column":94,"offset":2273},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2182},"end":{"line":45,"column":94,"offset":2273},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2180},"end":{"line":45,"column":94,"offset":2273},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.gatsbyjs.org/docs/ssr-apis/#onRenderBody","children":[{"type":"text","value":"Add the onRenderBody API code to the gatsby-ssr.js file in your project root","position":{"start":{"line":46,"column":4,"offset":2277},"end":{"line":46,"column":80,"offset":2353},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2276},"end":{"line":46,"column":135,"offset":2408},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2276},"end":{"line":46,"column":135,"offset":2408},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2274},"end":{"line":46,"column":135,"offset":2408},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1913},"end":{"line":46,"column":135,"offset":2408},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you decide to use this plugin, follow the instructions below. Be sure","position":{"start":{"line":48,"column":1,"offset":2410},"end":{"line":48,"column":73,"offset":2482},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":2410},"end":{"line":48,"column":73,"offset":2482},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":50,"column":1,"offset":2484},"end":{"line":50,"column":4,"offset":2487},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#install","title":null,"data":{"hProperties":{"aria-label":"install permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Install","position":{"start":{"line":51,"column":4,"offset":2491},"end":{"line":51,"column":11,"offset":2498},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2488},"end":{"line":51,"column":11,"offset":2498},"indent":[]},"data":{"id":"install","htmlAttributes":{"id":"install"},"hProperties":{"id":"install"}}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">npm install <span class=\"token operator\">--</span>save gatsby<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>portal</code></pre></div>","position":{"start":{"line":53,"column":1,"offset":2500},"end":{"line":55,"column":4,"offset":2557},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"or ","position":{"start":{"line":57,"column":1,"offset":2559},"end":{"line":57,"column":4,"offset":2562},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2559},"end":{"line":57,"column":4,"offset":2562},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">yarn add gatsby<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>portal</code></pre></div>","position":{"start":{"line":59,"column":1,"offset":2564},"end":{"line":61,"column":4,"offset":2611},"indent":[1,1]}},{"type":"thematicBreak","position":{"start":{"line":62,"column":1,"offset":2612},"end":{"line":62,"column":4,"offset":2615},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#how-to-use","title":null,"data":{"hProperties":{"aria-label":"how to use permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How to use","position":{"start":{"line":63,"column":4,"offset":2619},"end":{"line":63,"column":14,"offset":2629},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2616},"end":{"line":63,"column":14,"offset":2629},"indent":[]},"data":{"id":"how-to-use","htmlAttributes":{"id":"how-to-use"},"hProperties":{"id":"how-to-use"}}},{"type":"paragraph","children":[{"type":"text","value":"Add the plugin to your gatsby-config.js file.","position":{"start":{"line":65,"column":1,"offset":2631},"end":{"line":65,"column":46,"offset":2676},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":2631},"end":{"line":65,"column":46,"offset":2676},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n* In your gatsby-config.js\n* \n* Available Options\n* \n* key: \"string\"\n* A key is needed so that react doesn't complain about arrays\n* needing a unique key. This is a string value and will default\n* to 'portal' if you leave it out.\n* \n* id:\"string\"\n* Sets the id of the div element. It will default to 'portal' if you leave it out.   \n*/</span>\n\n\n<span class=\"token comment\">// You can resolve it with options like this.</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-portal`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        key<span class=\"token punctuation\">:</span> <span class=\"token string\">'portal'</span><span class=\"token punctuation\">,</span>\n        id<span class=\"token punctuation\">:</span> <span class=\"token string\">'portal'</span><span class=\"token punctuation\">,</span>        \n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Or add is without options like this.</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-portal`</span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":67,"column":1,"offset":2678},"end":{"line":100,"column":4,"offset":3351},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"thematicBreak","position":{"start":{"line":101,"column":1,"offset":3352},"end":{"line":101,"column":4,"offset":3355},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#gatsby-gotcha---document-is-undefined","title":null,"data":{"hProperties":{"aria-label":"gatsby gotcha   document is undefined permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Gatsby Gotcha - document is undefined","position":{"start":{"line":102,"column":4,"offset":3359},"end":{"line":102,"column":41,"offset":3396},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":3356},"end":{"line":102,"column":41,"offset":3396},"indent":[]},"data":{"id":"gatsby-gotcha---document-is-undefined","htmlAttributes":{"id":"gatsby-gotcha---document-is-undefined"},"hProperties":{"id":"gatsby-gotcha---document-is-undefined"}}},{"type":"paragraph","children":[{"type":"text","value":"If you follow the ","position":{"start":{"line":104,"column":1,"offset":3398},"end":{"line":104,"column":19,"offset":3416},"indent":[]}},{"type":"link","title":null,"url":"https://reactjs.org/docs/portals.html","children":[{"type":"text","value":"react documentation","position":{"start":{"line":104,"column":20,"offset":3417},"end":{"line":104,"column":39,"offset":3436},"indent":[]}}],"position":{"start":{"line":104,"column":19,"offset":3416},"end":{"line":104,"column":79,"offset":3476},"indent":[]}},{"type":"text","value":" or one of the many useful tutorials on youtube ","position":{"start":{"line":104,"column":79,"offset":3476},"end":{"line":104,"column":127,"offset":3524},"indent":[]}},{"type":"link","title":null,"url":"https://www.youtube.com/watch?v=SVQ2l2w-zPM","children":[{"type":"text","value":"like this one from LevelUp Tutorials","position":{"start":{"line":104,"column":128,"offset":3525},"end":{"line":104,"column":164,"offset":3561},"indent":[]}}],"position":{"start":{"line":104,"column":127,"offset":3524},"end":{"line":104,"column":210,"offset":3607},"indent":[]}},{"type":"text","value":" you will create a re-usable portal component.","position":{"start":{"line":104,"column":210,"offset":3607},"end":{"line":104,"column":256,"offset":3653},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":3398},"end":{"line":104,"column":256,"offset":3653},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The portal will work in development mode. However, when you build the file, Gatsby will complain that the document object doesn’t exist and refer you to the ","position":{"start":{"line":106,"column":1,"offset":3655},"end":{"line":106,"column":158,"offset":3812},"indent":[]}},{"type":"link","title":null,"url":"https://www.gatsbyjs.org/docs/debugging-html-builds/","children":[{"type":"text","value":"documentation on this error here","position":{"start":{"line":106,"column":159,"offset":3813},"end":{"line":106,"column":191,"offset":3845},"indent":[]}}],"position":{"start":{"line":106,"column":158,"offset":3812},"end":{"line":106,"column":246,"offset":3900},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":106,"column":246,"offset":3900},"end":{"line":106,"column":247,"offset":3901},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":3655},"end":{"line":106,"column":247,"offset":3901},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here’s a code snippet explaining how to fix the problem.","position":{"start":{"line":108,"column":1,"offset":3903},"end":{"line":108,"column":57,"offset":3959},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":3903},"end":{"line":108,"column":57,"offset":3959},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span>\n\n<span class=\"token comment\">// Use a ternary operator to make sure that the document object is defined</span>\n<span class=\"token keyword\">const</span> portalRoot <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> document <span class=\"token operator\">!==</span> <span class=\"token template-string\"><span class=\"token string\">`undefined`</span></span> <span class=\"token operator\">?</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'portal'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Portal</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// Use a ternary operator to make sure that the document object is defined</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> document <span class=\"token operator\">!==</span> <span class=\"token template-string\"><span class=\"token string\">`undefined`</span></span> <span class=\"token operator\">?</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function-variable function\">componentDidMount</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>    \n    portalRoot<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function-variable function\">componentWillUnmount</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    portalRoot<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n\n    <span class=\"token comment\">// Check that this.el is not null before using ReactDOM.createPortal</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span>\n\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":110,"column":1,"offset":3961},"end":{"line":146,"column":4,"offset":4854},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":146,"column":4,"offset":4854}}}}