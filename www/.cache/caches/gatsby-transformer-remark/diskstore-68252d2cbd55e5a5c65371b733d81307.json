{"expireTime":9007200804686410000,"key":"transformer-remark-markdown-html-47d7e06a4baa745568153e455eec045e-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<p><em>This article was originally published on\n<a href=\"http://dfjames.com/blog/site-generating-with-the-great-gatsbyjs\">my portfolio site</a>\non October 1, 2017.</em></p>\n<h1 id=\"site-generating-with-the-great-gatsbyjs\"><a href=\"#site-generating-with-the-great-gatsbyjs\" aria-label=\"site generating with the great gatsbyjs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Site generating with the great GatsbyJS</h1>\n<p>When someone mentions static site generation, many people think of\n<a href=\"https://jekyllrb.com/\">Jekyll</a>. I had heard some good things about it and\nnoticed it would allow me to build a blog quite easily. I was eager to learn\nsomething new and get something up and running that was more than just my usual\nWordPress theme. I was on the verge of rebuilding my portfolio site until a\ncertain <a href=\"https://www.youtube.com/user/LevelUpTuts\">Scott Tolinski</a> released a\nvideo on\n<a href=\"https://www.youtube.com/watch?v=b2H7fWhQcdE&#x26;feature=youtu.be\">GatsbyJS</a>.</p>\n<p><a href=\"/\">GatsbyJS</a> is a static site generator, similar to Jekyll, however it is\nwritten using <a href=\"https://reactjs.org/\">React</a> and allows you to write your pages\nas React components! It is somewhat similar to create-react-app where almost all\nthe scary Webpack config has been abstracted away from you and everything is\nsetup ready to go, so you can get to the important stuff like…building the\nsite! (If you are a fan of React and not convinced, the\n<a href=\"https://reactjs.org/\">React website/docs</a> were just released using Gatsby!)</p>\n<p>I currently work for a <a href=\"http://chromatix.com.au\">digital agency</a> where we create\ncustom built <a href=\"https://wordpress.org/\">WordPress</a> sites from scratch. I have been\nworking here for almost 2 years and have only got to use React a few times, and\nnever with WordPress unfortunately. The Gatsby project caught my eye because I\nwanted to create a site that was modern, fast, had blog capabilities, and gave\nme the opportunity to learn some more React and JavaScript. Another reason I\nended up going with Gatsby was the promise that your project could be connected\nto various APIs or even a CMS of your choice.</p>\n<h2 id=\"the-magic-of-graphql-and-gatsby-plugins\"><a href=\"#the-magic-of-graphql-and-gatsby-plugins\" aria-label=\"the magic of graphql and gatsby plugins permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The magic of GraphQL and Gatsby Plugins</h2>\n<p>Originally, following Scott’s and the official Gatsby tutorial, I had it pulling\nmy content from good ol’ Markdown files. Then I saw it… too good to be true,\nthe mention of connecting it to WordPress… I have been writing WordPress\nthemes for almost 2 years now, so naturally this got me super excited. To have\nmy backend as WordPress (including\n<a href=\"https://www.advancedcustomfields.com/\">ACF</a>) and the frontend in React… I had\nfound the perfect place to test my frontend abilities.</p>\n<p>I was skeptical at first: would I have to parse large amounts of JSON to get the\ndata I needed? I have never even interacted with the WordPress REST API, how\nwill I query it?</p>\n<p>The answer… <a href=\"http://graphql.org/\">GraphQL</a>. Gatsby ships with it and through\nan npm install of a\n<a href=\"/docs/plugins/\">gatsby-source plugin</a> of your choice\nand a tiny bit of a config, you can start querying in no time. I was amazed with\nhow simple queries are using GraphQL. You look at them and you go “Huh, that’s\nit? Really?“. Gatsby even ships with an in-browser query tester so you can see\nexactly what data you are getting from your GraphQL queries. Wanna sort those\nblog posts by date? No problem, just add a flag.</p>\n<p>With very little configuration and the installation of a single plugin on my\nWordPress site, I began creating pages and pulling data from them using a simple\nGraphQL schema. Here is an example of my Projects page which includes pulling\nsome ACF fields which were originally defined in my Projects page template:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Pull the project page content from Wordpress</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> projectsPageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n  query projectsPageQuery {\n    wordpressPage(slug: { eq: \"projects\" }) {\n      id\n      title\n      content\n      childWordpressAcfField {\n        internal {\n          content\n        }\n      }\n    }\n  }\n`</span></span></code></pre></div>\n<p>Pulling blog posts was even easier! If you’d like to sort them by date, ID,\ntitle etc. you just add a simple flag to the query like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Sort WordPress posts by date</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> postQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n  query getPostQuery {\n    allWordpressPost(sort: { fields: [date] }) {\n      edges {\n        node {\n          id\n          title\n          excerpt\n          slug\n          date\n        }\n      }\n    }\n  }\n`</span></span></code></pre></div>\n<h2 id=\"wrap-up-and-future\"><a href=\"#wrap-up-and-future\" aria-label=\"wrap up and future permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Wrap up and future</h2>\n<p>In just a few weekends I managed to rebuild my portfolio site with the blog I\nwanted. I’d highly recommend <a href=\"/tutorial/\">Gatsby</a> for\nanyone who has started getting acquainted with React. Before I started this\nproject I didn’t know a lot about:</p>\n<ul>\n<li>Static site generation/JAMstack</li>\n<li>Creating a Progressive Web App (PWA) and what qualifies as one</li>\n<li>React Router</li>\n<li>GraphQL</li>\n<li>WordPress REST API</li>\n</ul>\n<p>Moving forward with Gatsby, I’d like to extend my site to include pagination\nwithin the blog, use <a href=\"https://www.styled-components.com/\">Styled Components</a> and\nensure the site scores a 90+ overall on\n<a href=\"https://developers.google.com/web/tools/lighthouse/\">Lighthouse</a>, Google’s\nperformance auditing tool.</p>\n<p>Another goal is for my team to start using it with client sites, as the sheer\nperformance out of the box is amazing. My original WordPress (PHP based theme)\nwas scoring around 70 for Performance, however without any optimizations, my\nGatsby based site scored 94. Later it scored 99 with some minor optimizations.\nWe have recently had many clients ask for highly performant websites and\nProgressive Web App’s. Gatsby will be perfect to bridge the gaps between\nWordPress and React and allow my team to achieve these goals with ease.</p>"}