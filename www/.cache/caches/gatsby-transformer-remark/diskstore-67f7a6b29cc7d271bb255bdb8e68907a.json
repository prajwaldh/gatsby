{"expireTime":9007200804686334000,"key":"transformer-remark-markdown-ast-3575cfedff5124bd3be9fdb30db24f18-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Gatsby makes it easy to programmatically control your pages.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":61,"offset":61},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":61,"offset":61},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Pages can be created in three ways:","position":{"start":{"line":4,"column":1,"offset":63},"end":{"line":4,"column":36,"offset":98},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":63},"end":{"line":4,"column":36,"offset":98},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In your site’s gatsby-node.js by implementing the API\n","position":{"start":{"line":6,"column":3,"offset":102},"end":{"line":7,"column":3,"offset":158},"indent":[3]}},{"type":"link","title":null,"url":"/docs/node-apis/#createPages","children":[{"type":"html","value":"<code class=\"language-text\">createPages</code>","position":{"start":{"line":7,"column":4,"offset":159},"end":{"line":7,"column":17,"offset":172},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":158},"end":{"line":7,"column":48,"offset":203},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":102},"end":{"line":7,"column":48,"offset":203},"indent":[3]}}],"position":{"start":{"line":6,"column":1,"offset":100},"end":{"line":7,"column":48,"offset":203},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Gatsby core automatically turns React components in ","position":{"start":{"line":8,"column":3,"offset":206},"end":{"line":8,"column":55,"offset":258},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">src/pages</code>","position":{"start":{"line":8,"column":55,"offset":258},"end":{"line":8,"column":66,"offset":269},"indent":[]}},{"type":"text","value":" into pages","position":{"start":{"line":8,"column":66,"offset":269},"end":{"line":8,"column":77,"offset":280},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":206},"end":{"line":8,"column":77,"offset":280},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":204},"end":{"line":8,"column":77,"offset":280},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Plugins can also implement ","position":{"start":{"line":9,"column":3,"offset":283},"end":{"line":9,"column":30,"offset":310},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">createPages</code>","position":{"start":{"line":9,"column":30,"offset":310},"end":{"line":9,"column":43,"offset":323},"indent":[]}},{"type":"text","value":" and create pages for you","position":{"start":{"line":9,"column":43,"offset":323},"end":{"line":9,"column":68,"offset":348},"indent":[]}}],"position":{"start":{"line":9,"column":3,"offset":283},"end":{"line":9,"column":68,"offset":348},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":281},"end":{"line":9,"column":68,"offset":348},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":100},"end":{"line":9,"column":68,"offset":348},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can also implement the API ","position":{"start":{"line":11,"column":1,"offset":350},"end":{"line":11,"column":32,"offset":381},"indent":[]}},{"type":"link","title":null,"url":"/docs/node-apis/#onCreatePage","children":[{"type":"html","value":"<code class=\"language-text\">onCreatePage</code>","position":{"start":{"line":11,"column":33,"offset":382},"end":{"line":11,"column":47,"offset":396},"indent":[]}}],"position":{"start":{"line":11,"column":32,"offset":381},"end":{"line":11,"column":79,"offset":428},"indent":[]}},{"type":"text","value":"\nto modify pages created in core or plugins or to create ","position":{"start":{"line":11,"column":79,"offset":428},"end":{"line":12,"column":57,"offset":485},"indent":[1]}},{"type":"link","title":null,"url":"/docs/building-apps-with-gatsby/","children":[{"type":"text","value":"client-only routes","position":{"start":{"line":12,"column":58,"offset":486},"end":{"line":12,"column":76,"offset":504},"indent":[]}}],"position":{"start":{"line":12,"column":57,"offset":485},"end":{"line":12,"column":111,"offset":539},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":12,"column":111,"offset":539},"end":{"line":12,"column":112,"offset":540},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":350},"end":{"line":12,"column":112,"offset":540},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#debugging-help","title":null,"data":{"hProperties":{"aria-label":"debugging help permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Debugging help","position":{"start":{"line":14,"column":4,"offset":545},"end":{"line":14,"column":18,"offset":559},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":542},"end":{"line":14,"column":18,"offset":559},"indent":[]},"data":{"id":"debugging-help","htmlAttributes":{"id":"debugging-help"},"hProperties":{"id":"debugging-help"}}},{"type":"paragraph","children":[{"type":"text","value":"To see what pages are being created by your code or plugins, you can query for\npage information while developing in Graph","position":{"start":{"line":16,"column":1,"offset":561},"end":{"line":17,"column":43,"offset":682},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"i","position":{"start":{"line":17,"column":44,"offset":683},"end":{"line":17,"column":45,"offset":684},"indent":[]}}],"position":{"start":{"line":17,"column":43,"offset":682},"end":{"line":17,"column":46,"offset":685},"indent":[]}},{"type":"text","value":"QL. Paste the following query in\nthe Graph","position":{"start":{"line":17,"column":46,"offset":685},"end":{"line":18,"column":10,"offset":727},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"i","position":{"start":{"line":18,"column":11,"offset":728},"end":{"line":18,"column":12,"offset":729},"indent":[]}}],"position":{"start":{"line":18,"column":10,"offset":727},"end":{"line":18,"column":13,"offset":730},"indent":[]}},{"type":"text","value":"QL IDE for your site. The Graph","position":{"start":{"line":18,"column":13,"offset":730},"end":{"line":18,"column":44,"offset":761},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"i","position":{"start":{"line":18,"column":45,"offset":762},"end":{"line":18,"column":46,"offset":763},"indent":[]}}],"position":{"start":{"line":18,"column":44,"offset":761},"end":{"line":18,"column":47,"offset":764},"indent":[]}},{"type":"text","value":"QL IDE is available when running\nyour sites development server at ","position":{"start":{"line":18,"column":47,"offset":764},"end":{"line":19,"column":34,"offset":830},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">HOST:PORT/___graphql</code>","position":{"start":{"line":19,"column":34,"offset":830},"end":{"line":19,"column":56,"offset":852},"indent":[]}},{"type":"text","value":" e.g.\n","position":{"start":{"line":19,"column":56,"offset":852},"end":{"line":20,"column":1,"offset":858},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">localhost:8000/___graphql</code>","position":{"start":{"line":20,"column":1,"offset":858},"end":{"line":20,"column":28,"offset":885},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":20,"column":28,"offset":885},"end":{"line":20,"column":29,"offset":886},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":561},"end":{"line":20,"column":29,"offset":886},"indent":[1,1,1,1]}},{"type":"html","lang":"graphql","value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  allSitePage <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        path\n        component\n        pluginCreator <span class=\"token punctuation\">{</span>\n          name\n          pluginFilepath\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":22,"column":1,"offset":888},"end":{"line":37,"column":4,"offset":1070},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can also query for any ","position":{"start":{"line":39,"column":1,"offset":1072},"end":{"line":39,"column":28,"offset":1099},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">context</code>","position":{"start":{"line":39,"column":28,"offset":1099},"end":{"line":39,"column":37,"offset":1108},"indent":[]}},{"type":"text","value":" data you or plugins added to pages.","position":{"start":{"line":39,"column":37,"offset":1108},"end":{"line":39,"column":73,"offset":1144},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1072},"end":{"line":39,"column":73,"offset":1144},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#creating-pages-in-gatsby-nodejs","title":null,"data":{"hProperties":{"aria-label":"creating pages in gatsby nodejs permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Creating pages in gatsby-node.js","position":{"start":{"line":41,"column":4,"offset":1149},"end":{"line":41,"column":36,"offset":1181},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1146},"end":{"line":41,"column":36,"offset":1181},"indent":[]},"data":{"id":"creating-pages-in-gatsby-nodejs","htmlAttributes":{"id":"creating-pages-in-gatsby-nodejs"},"hProperties":{"id":"creating-pages-in-gatsby-nodejs"}}},{"type":"paragraph","children":[{"type":"text","value":"Often you will need to programmatically create pages. For example, you have\nmarkdown files where each should be a page.","position":{"start":{"line":43,"column":1,"offset":1183},"end":{"line":44,"column":44,"offset":1302},"indent":[1]}}],"position":{"start":{"line":43,"column":1,"offset":1183},"end":{"line":44,"column":44,"offset":1302},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This example assumes that each markdown page has a ","position":{"start":{"line":46,"column":1,"offset":1304},"end":{"line":46,"column":52,"offset":1355},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">path</code>","position":{"start":{"line":46,"column":52,"offset":1355},"end":{"line":46,"column":58,"offset":1361},"indent":[]}},{"type":"text","value":" set in the frontmatter\nof the markdown file.","position":{"start":{"line":46,"column":58,"offset":1361},"end":{"line":47,"column":22,"offset":1406},"indent":[1]}}],"position":{"start":{"line":46,"column":1,"offset":1304},"end":{"line":47,"column":22,"offset":1406},"indent":[1]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-node.js</div>"},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Implement the Gatsby API “createPages”. This is called once the</span>\n<span class=\"token comment\">// data layer is bootstrapped to let plugins create pages from data.</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> blogPostTemplate <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`src/templates/blog-post.js`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// Query for markdown nodes to use in creating pages.</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token string\">`\n          {\n            allMarkdownRemark(limit: 1000) {\n              edges {\n                node {\n                  frontmatter {\n                    path\n                  }\n                }\n              }\n            }\n          }\n        `</span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>result <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// Create pages for each markdown file.</span>\n        result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>path\n          <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">,</span>\n            component<span class=\"token punctuation\">:</span> blogPostTemplate<span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// In your blog post template's graphql query, you can use path</span>\n            <span class=\"token comment\">// as a GraphQL variable to query for data from the markdown file.</span>\n            context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              path<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":49,"column":1,"offset":1408},"end":{"line":95,"column":4,"offset":2726},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#modifying-pages-created-by-core-or-plugins","title":null,"data":{"hProperties":{"aria-label":"modifying pages created by core or plugins permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Modifying pages created by core or plugins","position":{"start":{"line":97,"column":4,"offset":2731},"end":{"line":97,"column":46,"offset":2773},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2728},"end":{"line":97,"column":46,"offset":2773},"indent":[]},"data":{"id":"modifying-pages-created-by-core-or-plugins","htmlAttributes":{"id":"modifying-pages-created-by-core-or-plugins"},"hProperties":{"id":"modifying-pages-created-by-core-or-plugins"}}},{"type":"paragraph","children":[{"type":"text","value":"Gatsby core and plugins can automatically create pages for you. Sometimes the\ndefault isn’t quite what you want and you need to modify the created page\nobjects.","position":{"start":{"line":99,"column":1,"offset":2775},"end":{"line":101,"column":9,"offset":2935},"indent":[1,1]}}],"position":{"start":{"line":99,"column":1,"offset":2775},"end":{"line":101,"column":9,"offset":2935},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#removing-trailing-slashes","title":null,"data":{"hProperties":{"aria-label":"removing trailing slashes permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Removing trailing slashes","position":{"start":{"line":103,"column":5,"offset":2941},"end":{"line":103,"column":30,"offset":2966},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":2937},"end":{"line":103,"column":30,"offset":2966},"indent":[]},"data":{"id":"removing-trailing-slashes","htmlAttributes":{"id":"removing-trailing-slashes"},"hProperties":{"id":"removing-trailing-slashes"}}},{"type":"paragraph","children":[{"type":"text","value":"A common reason for needing to modify automatically created pages is to remove\ntrailing slashes.","position":{"start":{"line":105,"column":1,"offset":2968},"end":{"line":106,"column":18,"offset":3064},"indent":[1]}}],"position":{"start":{"line":105,"column":1,"offset":2968},"end":{"line":106,"column":18,"offset":3064},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"To do this, in your site’s ","position":{"start":{"line":108,"column":1,"offset":3066},"end":{"line":108,"column":28,"offset":3093},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-node.js</code>","position":{"start":{"line":108,"column":28,"offset":3093},"end":{"line":108,"column":44,"offset":3109},"indent":[]}},{"type":"text","value":" add code similar to the following:","position":{"start":{"line":108,"column":44,"offset":3109},"end":{"line":108,"column":79,"offset":3144},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":3066},"end":{"line":108,"column":79,"offset":3144},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Note: There’s also a plugin that will remove all trailing slashes from pages automatically:\n","position":{"start":{"line":110,"column":2,"offset":3147},"end":{"line":111,"column":1,"offset":3239},"indent":[1]}},{"type":"link","title":null,"url":"/packages/gatsby-plugin-remove-trailing-slashes/","children":[{"type":"text","value":"gatsby-plugin-remove-trailing-slashes","position":{"start":{"line":111,"column":2,"offset":3240},"end":{"line":111,"column":39,"offset":3277},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":3239},"end":{"line":111,"column":90,"offset":3328},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":3146},"end":{"line":111,"column":91,"offset":3329},"indent":[1]}},{"type":"text","value":".","position":{"start":{"line":111,"column":91,"offset":3329},"end":{"line":111,"column":92,"offset":3330},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":3146},"end":{"line":111,"column":92,"offset":3330},"indent":[1]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-node.js</div>"},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Replacing '/' would result in empty string which is invalid</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">replacePath</span> <span class=\"token operator\">=</span> path <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>path <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token string\">`/`</span></span> <span class=\"token operator\">?</span> path <span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\/$/</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token string\">``</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Implement the Gatsby API “onCreatePage”. This is</span>\n<span class=\"token comment\">// called after every page is created.</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage<span class=\"token punctuation\">,</span> deletePage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span>resolve <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> oldPage <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// Remove trailing slash unless page is /</span>\n    page<span class=\"token punctuation\">.</span>path <span class=\"token operator\">=</span> <span class=\"token function\">replacePath</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!==</span> oldPage<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Replace new page with old page</span>\n      <span class=\"token function\">deletePage</span><span class=\"token punctuation\">(</span>oldPage<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":113,"column":1,"offset":3332},"end":{"line":132,"column":4,"offset":4010},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#pass-context-to-pages","title":null,"data":{"hProperties":{"aria-label":"pass context to pages permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Pass context to pages","position":{"start":{"line":134,"column":5,"offset":4016},"end":{"line":134,"column":26,"offset":4037},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":4012},"end":{"line":134,"column":26,"offset":4037},"indent":[]},"data":{"id":"pass-context-to-pages","htmlAttributes":{"id":"pass-context-to-pages"},"hProperties":{"id":"pass-context-to-pages"}}},{"type":"paragraph","children":[{"type":"text","value":"The automatically created pages can receive context and use that as variables in their GraphQL queries. To override the default and pass your own context, open your site’s ","position":{"start":{"line":136,"column":1,"offset":4039},"end":{"line":136,"column":173,"offset":4211},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-node.js</code>","position":{"start":{"line":136,"column":173,"offset":4211},"end":{"line":136,"column":189,"offset":4227},"indent":[]}},{"type":"text","value":" and add similar to the following:","position":{"start":{"line":136,"column":189,"offset":4227},"end":{"line":136,"column":223,"offset":4261},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":4039},"end":{"line":136,"column":223,"offset":4261},"indent":[]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-node.js</div>"},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage<span class=\"token punctuation\">,</span> deletePage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token function\">deletePage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// You can access the variable \"house\" in your page queries now</span>\n  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span>\n    context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      house<span class=\"token punctuation\">:</span> Gryffindor<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":138,"column":1,"offset":4263},"end":{"line":151,"column":4,"offset":4562},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"On your pages and templates, you can access your context via the prop ","position":{"start":{"line":153,"column":1,"offset":4564},"end":{"line":153,"column":71,"offset":4634},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">pageContext</code>","position":{"start":{"line":153,"column":71,"offset":4634},"end":{"line":153,"column":84,"offset":4647},"indent":[]}},{"type":"text","value":" like this:","position":{"start":{"line":153,"column":84,"offset":4647},"end":{"line":153,"column":95,"offset":4658},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":4564},"end":{"line":153,"column":95,"offset":4658},"indent":[]}},{"type":"html","lang":"jsx","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Page</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> pageContext <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">.</span>house<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Page</code></pre></div>","position":{"start":{"line":155,"column":1,"offset":4660},"end":{"line":163,"column":4,"offset":4796},"indent":[1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":164,"column":1,"offset":4797}}}}