{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-b5a7ed466def3016c4b87c901410ff4f-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#gatsby-source-craftcms","title":null,"data":{"hProperties":{"aria-label":"gatsby source craftcms permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-source-craftcms","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":25,"offset":24},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":25,"offset":24},"indent":[]},"data":{"id":"gatsby-source-craftcms","htmlAttributes":{"id":"gatsby-source-craftcms"},"hProperties":{"id":"gatsby-source-craftcms"}}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#deprecated","title":null,"data":{"hProperties":{"aria-label":"deprecated permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"deprecated","position":{"start":{"line":3,"column":4,"offset":29},"end":{"line":3,"column":14,"offset":39},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":26},"end":{"line":3,"column":14,"offset":39},"indent":[]},"data":{"id":"deprecated","htmlAttributes":{"id":"deprecated"},"hProperties":{"id":"deprecated"}}},{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":4,"column":1,"offset":40},"end":{"line":4,"column":5,"offset":44},"indent":[]}},{"type":"link","title":null,"url":"https://www.gatsbyjs.org/packages/gatsby-source-graphql/","children":[{"type":"text","value":"https://www.gatsbyjs.org/packages/gatsby-source-graphql/","position":{"start":{"line":4,"column":5,"offset":44},"end":{"line":4,"column":61,"offset":100},"indent":[]}}],"position":{"start":{"line":4,"column":5,"offset":44},"end":{"line":4,"column":61,"offset":100},"indent":[]}},{"type":"text","value":" instead","position":{"start":{"line":4,"column":61,"offset":100},"end":{"line":4,"column":69,"offset":108},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":40},"end":{"line":4,"column":69,"offset":108},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#about","title":null,"data":{"hProperties":{"aria-label":"about permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"About","position":{"start":{"line":9,"column":5,"offset":125},"end":{"line":9,"column":10,"offset":130},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":121},"end":{"line":9,"column":10,"offset":130},"indent":[]},"data":{"id":"about","htmlAttributes":{"id":"about"},"hProperties":{"id":"about"}}},{"type":"paragraph","children":[{"type":"text","value":"Source plugin for pulling data into ","position":{"start":{"line":10,"column":1,"offset":131},"end":{"line":10,"column":37,"offset":167},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs","children":[{"type":"text","value":"Gatsby","position":{"start":{"line":10,"column":38,"offset":168},"end":{"line":10,"column":44,"offset":174},"indent":[]}}],"position":{"start":{"line":10,"column":37,"offset":167},"end":{"line":10,"column":74,"offset":204},"indent":[]}},{"type":"text","value":" from a ","position":{"start":{"line":10,"column":74,"offset":204},"end":{"line":10,"column":82,"offset":212},"indent":[]}},{"type":"link","title":null,"url":"https://craftcms.com","children":[{"type":"text","value":"CraftCMS","position":{"start":{"line":10,"column":83,"offset":213},"end":{"line":10,"column":91,"offset":221},"indent":[]}}],"position":{"start":{"line":10,"column":82,"offset":212},"end":{"line":10,"column":114,"offset":244},"indent":[]}},{"type":"text","value":" endpoint","position":{"start":{"line":10,"column":114,"offset":244},"end":{"line":10,"column":123,"offset":253},"indent":[]}},{"type":"break","position":{"start":{"line":10,"column":123,"offset":253},"end":{"line":11,"column":1,"offset":256},"indent":[1]}},{"type":"text","value":"Based on ","position":{"start":{"line":11,"column":1,"offset":256},"end":{"line":11,"column":10,"offset":265},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/GraphCMS/gatsby-source-graphcms","children":[{"type":"text","value":"gatsby-source-graphcms","position":{"start":{"line":11,"column":11,"offset":266},"end":{"line":11,"column":33,"offset":288},"indent":[]}}],"position":{"start":{"line":11,"column":10,"offset":265},"end":{"line":11,"column":86,"offset":341},"indent":[]}},{"type":"break","position":{"start":{"line":11,"column":86,"offset":341},"end":{"line":12,"column":1,"offset":344},"indent":[1]}},{"type":"text","value":"Tested in Gatsby v1 and v2","position":{"start":{"line":12,"column":1,"offset":344},"end":{"line":12,"column":27,"offset":370},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":131},"end":{"line":12,"column":27,"offset":370},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#install","title":null,"data":{"hProperties":{"aria-label":"install permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Install","position":{"start":{"line":14,"column":5,"offset":376},"end":{"line":14,"column":12,"offset":383},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":372},"end":{"line":14,"column":12,"offset":383},"indent":[]},"data":{"id":"install","htmlAttributes":{"id":"install"},"hProperties":{"id":"install"}}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">yarn add gatsby-source-craftcms</code>","position":{"start":{"line":16,"column":4,"offset":388},"end":{"line":16,"column":37,"offset":421},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":16,"column":37,"offset":421},"end":{"line":16,"column":41,"offset":425},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">npm i gatsby-source-craftcms</code>","position":{"start":{"line":16,"column":41,"offset":425},"end":{"line":16,"column":71,"offset":455},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":388},"end":{"line":16,"column":71,"offset":455},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":385},"end":{"line":16,"column":71,"offset":455},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Make sure plugin is referenced in your Gatsby config, as in the\n","position":{"start":{"line":17,"column":4,"offset":459},"end":{"line":18,"column":4,"offset":526},"indent":[4]}},{"type":"link","title":null,"url":"#usage","children":[{"type":"text","value":"example","position":{"start":{"line":18,"column":5,"offset":527},"end":{"line":18,"column":12,"offset":534},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":18,"column":12,"offset":534},"end":{"line":18,"column":18,"offset":540},"indent":[]}},{"type":"text","value":"below","position":{"start":{"line":18,"column":18,"offset":540},"end":{"line":18,"column":23,"offset":545},"indent":[]}}],"position":{"start":{"line":18,"column":4,"offset":526},"end":{"line":18,"column":32,"offset":554},"indent":[]}}],"position":{"start":{"line":17,"column":4,"offset":459},"end":{"line":18,"column":32,"offset":554},"indent":[4]}}],"position":{"start":{"line":17,"column":1,"offset":456},"end":{"line":18,"column":32,"offset":554},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">gatsby develop</code>","position":{"start":{"line":19,"column":4,"offset":558},"end":{"line":19,"column":20,"offset":574},"indent":[]}}],"position":{"start":{"line":19,"column":4,"offset":558},"end":{"line":19,"column":20,"offset":574},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":555},"end":{"line":19,"column":20,"offset":574},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":385},"end":{"line":19,"column":20,"offset":574},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#usage","title":null,"data":{"hProperties":{"aria-label":"usage permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Usage","position":{"start":{"line":21,"column":5,"offset":580},"end":{"line":21,"column":10,"offset":585},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":576},"end":{"line":21,"column":10,"offset":585},"indent":[]},"data":{"id":"usage","htmlAttributes":{"id":"usage"},"hProperties":{"id":"usage"}}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"In your gatsby config…","position":{"start":{"line":23,"column":2,"offset":588},"end":{"line":23,"column":26,"offset":612},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":587},"end":{"line":23,"column":27,"offset":613},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":587},"end":{"line":23,"column":27,"offset":613},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-craftcms`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      endpoint<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`craftcms.mydomain.com/api`</span></span><span class=\"token punctuation\">,</span>\n      token<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`graphql_token`</span></span><span class=\"token punctuation\">,</span>\n      query<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`{\n          categories(site:\"default\",groupId:12) {\n              id\n              title\n              slug\n              uri\n          },\n          entries(section:[news],site:\"premium\") {\n            id\n            uri\n            title\n            slug\n          },\n          home: entries(section:[home],site:\"premium\") {\n            id\n            uri\n            title\n            slug\n          }\n      }`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code></pre></div>","position":{"start":{"line":25,"column":1,"offset":615},"end":{"line":55,"column":4,"offset":1218},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Gatsby’s data processing layer begins with “source” plugins, configured in ","position":{"start":{"line":57,"column":1,"offset":1220},"end":{"line":57,"column":76,"offset":1295},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":57,"column":76,"offset":1295},"end":{"line":57,"column":94,"offset":1313},"indent":[]}},{"type":"text","value":". Here the site sources its data from the CraftCMS endpoint. Use an ","position":{"start":{"line":57,"column":94,"offset":1313},"end":{"line":57,"column":162,"offset":1381},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">.env</code>","position":{"start":{"line":57,"column":162,"offset":1381},"end":{"line":57,"column":168,"offset":1387},"indent":[]}},{"type":"text","value":" file or set environment variables directly to access the CraftCMS","position":{"start":{"line":57,"column":168,"offset":1387},"end":{"line":57,"column":234,"offset":1453},"indent":[]}},{"type":"break","position":{"start":{"line":57,"column":234,"offset":1453},"end":{"line":58,"column":1,"offset":1456},"indent":[1]}},{"type":"text","value":"endpoint and token. This avoids committing potentially sensitive data.  ","position":{"start":{"line":58,"column":1,"offset":1456},"end":{"line":58,"column":73,"offset":1528},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1220},"end":{"line":58,"column":73,"offset":1528},"indent":[1]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"In your gatsby-node.js …","position":{"start":{"line":60,"column":2,"offset":1531},"end":{"line":60,"column":28,"offset":1557},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1530},"end":{"line":60,"column":29,"offset":1558},"indent":[]}},{"type":"text","value":"  ","position":{"start":{"line":60,"column":29,"offset":1558},"end":{"line":60,"column":31,"offset":1560},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1530},"end":{"line":60,"column":31,"offset":1560},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> boundActionCreators <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> boundActionCreators<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> postPage <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"src/templates/post.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`{\n        allEntry(sort: { fields: [postDate], order: DESC}){\n          edges {\n            news: node{\n              id\n              title\n              slug\n              postDate\n            }\n          }\n        }\n      }`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>result <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allEntry<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>edge <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">:</span> edge<span class=\"token punctuation\">.</span>news<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n            component<span class=\"token punctuation\">:</span> postPage<span class=\"token punctuation\">,</span>\n            context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              slug<span class=\"token punctuation\">:</span> edge<span class=\"token punctuation\">.</span>news<span class=\"token punctuation\">.</span>slug\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":62,"column":1,"offset":1562},"end":{"line":100,"column":4,"offset":2436},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#plugin-options","title":null,"data":{"hProperties":{"aria-label":"plugin options permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Plugin options","position":{"start":{"line":102,"column":5,"offset":2442},"end":{"line":102,"column":19,"offset":2456},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":2438},"end":{"line":102,"column":19,"offset":2456},"indent":[]},"data":{"id":"plugin-options","htmlAttributes":{"id":"plugin-options"},"hProperties":{"id":"plugin-options"}}},{"type":"table","align":["right","left"],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[],"position":{"start":{"line":104,"column":16,"offset":2473},"end":{"line":104,"column":16,"offset":2473},"indent":[]}},{"type":"tableCell","children":[],"position":{"start":{"line":104,"column":75,"offset":2532},"end":{"line":104,"column":75,"offset":2532},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":2458},"end":{"line":104,"column":76,"offset":2533},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"endpoint","position":{"start":{"line":106,"column":5,"offset":2614},"end":{"line":106,"column":13,"offset":2622},"indent":[]}}],"position":{"start":{"line":106,"column":3,"offset":2612},"end":{"line":106,"column":15,"offset":2624},"indent":[]}}],"position":{"start":{"line":106,"column":3,"offset":2612},"end":{"line":106,"column":15,"offset":2624},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"indicates the endpoint to use for the graphql connection","position":{"start":{"line":106,"column":18,"offset":2627},"end":{"line":106,"column":74,"offset":2683},"indent":[]}}],"position":{"start":{"line":106,"column":18,"offset":2627},"end":{"line":106,"column":74,"offset":2683},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":2610},"end":{"line":106,"column":76,"offset":2685},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"token","position":{"start":{"line":107,"column":8,"offset":2693},"end":{"line":107,"column":13,"offset":2698},"indent":[]}}],"position":{"start":{"line":107,"column":6,"offset":2691},"end":{"line":107,"column":15,"offset":2700},"indent":[]}}],"position":{"start":{"line":107,"column":6,"offset":2691},"end":{"line":107,"column":15,"offset":2700},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"The API access token. Optional if the endpoint is public","position":{"start":{"line":107,"column":18,"offset":2703},"end":{"line":107,"column":74,"offset":2759},"indent":[]}}],"position":{"start":{"line":107,"column":18,"offset":2703},"end":{"line":107,"column":74,"offset":2759},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":2686},"end":{"line":107,"column":76,"offset":2761},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"query","position":{"start":{"line":108,"column":8,"offset":2769},"end":{"line":108,"column":13,"offset":2774},"indent":[]}}],"position":{"start":{"line":108,"column":6,"offset":2767},"end":{"line":108,"column":15,"offset":2776},"indent":[]}}],"position":{"start":{"line":108,"column":6,"offset":2767},"end":{"line":108,"column":15,"offset":2776},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"The GraphQL query to execute against the endpoint","position":{"start":{"line":108,"column":18,"offset":2779},"end":{"line":108,"column":67,"offset":2828},"indent":[]}}],"position":{"start":{"line":108,"column":18,"offset":2779},"end":{"line":108,"column":74,"offset":2835},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":2762},"end":{"line":108,"column":76,"offset":2837},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":2458},"end":{"line":108,"column":76,"offset":2837},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#how-to-query--graphql","title":null,"data":{"hProperties":{"aria-label":"how to query  graphql permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How to query : GraphQL","position":{"start":{"line":110,"column":5,"offset":2843},"end":{"line":110,"column":27,"offset":2865},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":2839},"end":{"line":110,"column":27,"offset":2865},"indent":[]},"data":{"id":"how-to-query--graphql","htmlAttributes":{"id":"how-to-query--graphql"},"hProperties":{"id":"how-to-query--graphql"}}},{"type":"paragraph","children":[{"type":"text","value":"Let’s say you have a GraphQL type called ","position":{"start":{"line":112,"column":1,"offset":2867},"end":{"line":112,"column":42,"offset":2908},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Categories</code>","position":{"start":{"line":112,"column":42,"offset":2908},"end":{"line":112,"column":54,"offset":2920},"indent":[]}},{"type":"text","value":". You would query all artists\nlike so:","position":{"start":{"line":112,"column":54,"offset":2920},"end":{"line":113,"column":9,"offset":2958},"indent":[1]}}],"position":{"start":{"line":112,"column":1,"offset":2867},"end":{"line":113,"column":9,"offset":2958},"indent":[1]}},{"type":"html","lang":"graphql","value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  allCategory <span class=\"token punctuation\">{</span>\n    id\n    title\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":115,"column":1,"offset":2960},"end":{"line":121,"column":4,"offset":3011},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"entries example, to use in your template:  ","position":{"start":{"line":123,"column":1,"offset":3013},"end":{"line":123,"column":44,"offset":3056},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":3013},"end":{"line":123,"column":44,"offset":3056},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\nquery GetPost($slug: String!) {\n  entry(slug: { eq: $slug }) {\n    id\n    slug\n    title\n    summary\n    uri\n    enableComments\n    contentPost {\n      block{\n        content\n        totalPages\n      }\n      quoteText\n      imagem{\n        url\n      }\n      titleH1\n      subtitleH2\n    }\n    category {\n      title\n      slug\n    }\n    tags{\n      title\n      slug\n    }\n  }\n}\n`</span></span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":125,"column":1,"offset":3058},"end":{"line":159,"column":4,"offset":3491},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#testing-plugin-contributions","title":null,"data":{"hProperties":{"aria-label":"testing plugin contributions permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Testing plugin contributions","position":{"start":{"line":161,"column":5,"offset":3497},"end":{"line":161,"column":33,"offset":3525},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":3493},"end":{"line":161,"column":33,"offset":3525},"indent":[]},"data":{"id":"testing-plugin-contributions","htmlAttributes":{"id":"testing-plugin-contributions"},"hProperties":{"id":"testing-plugin-contributions"}}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">cd</code>","position":{"start":{"line":163,"column":4,"offset":3530},"end":{"line":163,"column":8,"offset":3534},"indent":[]}},{"type":"text","value":" to the Gatsby install you want to test your changes to the plugin code\nwith, or clone ","position":{"start":{"line":163,"column":8,"offset":3534},"end":{"line":164,"column":19,"offset":3624},"indent":[4]}},{"type":"link","title":null,"url":"https://github.com/gusnips/gatsby-craftcms-example","children":[{"type":"text","value":"@CraftCMS/gatsby-craftcms-example","position":{"start":{"line":164,"column":20,"offset":3625},"end":{"line":164,"column":53,"offset":3658},"indent":[]}}],"position":{"start":{"line":164,"column":19,"offset":3624},"end":{"line":164,"column":106,"offset":3711},"indent":[]}}],"position":{"start":{"line":163,"column":4,"offset":3530},"end":{"line":164,"column":106,"offset":3711},"indent":[4]}}],"position":{"start":{"line":163,"column":1,"offset":3527},"end":{"line":164,"column":106,"offset":3711},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If you cloned the example or previously installed the plugin through ","position":{"start":{"line":165,"column":4,"offset":3715},"end":{"line":165,"column":73,"offset":3784},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">yarn</code>","position":{"start":{"line":165,"column":73,"offset":3784},"end":{"line":165,"column":79,"offset":3790},"indent":[]}},{"type":"text","value":"\nor ","position":{"start":{"line":165,"column":79,"offset":3790},"end":{"line":166,"column":7,"offset":3797},"indent":[4]}},{"type":"html","value":"<code class=\"language-text\">npm</code>","position":{"start":{"line":166,"column":7,"offset":3797},"end":{"line":166,"column":12,"offset":3802},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":166,"column":12,"offset":3802},"end":{"line":166,"column":14,"offset":3804},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">yarn remove gatsby-source-craftcms</code>","position":{"start":{"line":166,"column":14,"offset":3804},"end":{"line":166,"column":50,"offset":3840},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":166,"column":50,"offset":3840},"end":{"line":166,"column":54,"offset":3844},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">npm r\ngatsby-source-craftcms</code>","position":{"start":{"line":166,"column":54,"offset":3844},"end":{"line":167,"column":27,"offset":3877},"indent":[4]}}],"position":{"start":{"line":165,"column":4,"offset":3715},"end":{"line":167,"column":27,"offset":3877},"indent":[4,4]}}],"position":{"start":{"line":165,"column":1,"offset":3712},"end":{"line":167,"column":27,"offset":3877},"indent":[1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">mkdir plugins</code>","position":{"start":{"line":168,"column":4,"offset":3881},"end":{"line":168,"column":19,"offset":3896},"indent":[]}},{"type":"text","value":" if it does not exist yet and ","position":{"start":{"line":168,"column":19,"offset":3896},"end":{"line":168,"column":49,"offset":3926},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">cd</code>","position":{"start":{"line":168,"column":49,"offset":3926},"end":{"line":168,"column":53,"offset":3930},"indent":[]}},{"type":"text","value":" into it","position":{"start":{"line":168,"column":53,"offset":3930},"end":{"line":168,"column":61,"offset":3938},"indent":[]}}],"position":{"start":{"line":168,"column":4,"offset":3881},"end":{"line":168,"column":61,"offset":3938},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":3878},"end":{"line":168,"column":61,"offset":3938},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your path should now be something like\n","position":{"start":{"line":169,"column":4,"offset":3942},"end":{"line":170,"column":4,"offset":3984},"indent":[4]}},{"type":"html","value":"<code class=\"language-text\">~/code/gusnips/myKillerGatsbySite/plugins/</code>","position":{"start":{"line":170,"column":4,"offset":3984},"end":{"line":170,"column":48,"offset":4028},"indent":[]}}],"position":{"start":{"line":169,"column":4,"offset":3942},"end":{"line":170,"column":48,"offset":4028},"indent":[4]}}],"position":{"start":{"line":169,"column":1,"offset":3939},"end":{"line":170,"column":48,"offset":4028},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">git clone https://github.com/gusnips/gatsby-source-craftcms.git</code>","position":{"start":{"line":171,"column":4,"offset":4032},"end":{"line":171,"column":69,"offset":4097},"indent":[]}}],"position":{"start":{"line":171,"column":4,"offset":4032},"end":{"line":171,"column":69,"offset":4097},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":4029},"end":{"line":171,"column":69,"offset":4097},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">cd gatsby-source-craftcms</code>","position":{"start":{"line":172,"column":4,"offset":4101},"end":{"line":172,"column":31,"offset":4128},"indent":[]}}],"position":{"start":{"line":172,"column":4,"offset":4101},"end":{"line":172,"column":31,"offset":4128},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":4098},"end":{"line":172,"column":31,"offset":4128},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">yarn</code>","position":{"start":{"line":173,"column":4,"offset":4132},"end":{"line":173,"column":10,"offset":4138},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":173,"column":10,"offset":4138},"end":{"line":173,"column":14,"offset":4142},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">yarn &amp;&amp; yarn watch</code>","position":{"start":{"line":173,"column":14,"offset":4142},"end":{"line":173,"column":34,"offset":4162},"indent":[]}},{"type":"text","value":" in plugin’s directory for auto-rebuilding the\nplugin after you make changes to it—only during development","position":{"start":{"line":173,"column":34,"offset":4162},"end":{"line":174,"column":63,"offset":4271},"indent":[4]}}],"position":{"start":{"line":173,"column":4,"offset":4132},"end":{"line":174,"column":63,"offset":4271},"indent":[4]}}],"position":{"start":{"line":173,"column":1,"offset":4129},"end":{"line":174,"column":63,"offset":4271},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Make sure plugin is referenced in your Gatsby config, as in the\n","position":{"start":{"line":175,"column":4,"offset":4275},"end":{"line":176,"column":4,"offset":4342},"indent":[4]}},{"type":"link","title":null,"url":"#usage","children":[{"type":"text","value":"example","position":{"start":{"line":176,"column":5,"offset":4343},"end":{"line":176,"column":12,"offset":4350},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":176,"column":12,"offset":4350},"end":{"line":176,"column":18,"offset":4356},"indent":[]}},{"type":"text","value":"below","position":{"start":{"line":176,"column":18,"offset":4356},"end":{"line":176,"column":23,"offset":4361},"indent":[]}}],"position":{"start":{"line":176,"column":4,"offset":4342},"end":{"line":176,"column":32,"offset":4370},"indent":[]}}],"position":{"start":{"line":175,"column":4,"offset":4275},"end":{"line":176,"column":32,"offset":4370},"indent":[4]}}],"position":{"start":{"line":175,"column":1,"offset":4272},"end":{"line":176,"column":32,"offset":4370},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"From there you can ","position":{"start":{"line":177,"column":4,"offset":4374},"end":{"line":177,"column":23,"offset":4393},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">cd ../.. &amp;&amp; yarn &amp;&amp; yarn develop</code>","position":{"start":{"line":177,"column":23,"offset":4393},"end":{"line":177,"column":57,"offset":4427},"indent":[]}},{"type":"text","value":" to test","position":{"start":{"line":177,"column":57,"offset":4427},"end":{"line":177,"column":65,"offset":4435},"indent":[]}}],"position":{"start":{"line":177,"column":4,"offset":4374},"end":{"line":177,"column":65,"offset":4435},"indent":[]}}],"position":{"start":{"line":177,"column":1,"offset":4371},"end":{"line":177,"column":65,"offset":4435},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":3527},"end":{"line":177,"column":65,"offset":4435},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#every-time-you-rebuild-the-plugin-you-must-restart-gatsbys-development-server-to-reflect-the-changes-in-your-test-environment","title":null,"data":{"hProperties":{"aria-label":"every time you rebuild the plugin you must restart gatsbys development server to reflect the changes in your test environment permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Every time you rebuild the plugin, you must restart Gatsby’s development server to reflect the changes in your test environment.","position":{"start":{"line":179,"column":6,"offset":4442},"end":{"line":179,"column":134,"offset":4570},"indent":[]}}],"position":{"start":{"line":179,"column":1,"offset":4437},"end":{"line":179,"column":134,"offset":4570},"indent":[]},"data":{"id":"every-time-you-rebuild-the-plugin-you-must-restart-gatsbys-development-server-to-reflect-the-changes-in-your-test-environment","htmlAttributes":{"id":"every-time-you-rebuild-the-plugin-you-must-restart-gatsbys-development-server-to-reflect-the-changes-in-your-test-environment"},"hProperties":{"id":"every-time-you-rebuild-the-plugin-you-must-restart-gatsbys-development-server-to-reflect-the-changes-in-your-test-environment"}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":180,"column":1,"offset":4571}}}}