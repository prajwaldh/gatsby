{"expireTime":9007200804686400000,"key":"transformer-remark-markdown-html-8c14b6e4bf4cdd7413dbd8baa37825b0-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<p>Gatsby is great for static sites. You probably know this! It‚Äôs equally great for web applications. You may not know this. Gatsby is great for building web experiences that leverage the benefits of both so called static sites and web applications ‚Äî simultaneously. You don‚Äôt have to sacrifice the advantages of one approach to reap the benefits of the other.</p>\n<!-- ‚òùÔ∏è Shout out to Amberley for the assist with this intro üî• -->\n<p>In this post, we‚Äôll go into some of the use cases that make for a compelling web application, such as dynamic data fetching, user authentication, and detail <em>why</em> Gatsby is an excellent choice for building web applications.</p>\n<p>We‚Äôll take a look at a classic web application ‚Äî Gmail ‚Äî which we rebuilt in Gatsby as a demo of how Gatsby can create engaging, modern web applications.</p>\n<p>To begin, what even <em>is</em> an application, anyways?</p>\n<blockquote>\n<p>Note:</p>\n<p>If you haven‚Äôt already, consider checking out <a href=\"https://www.gatsbyjs.com/build-web-apps-webinar\">‚ÄúBeyond Static: Building Dynamic Apps with Gatsby‚Äù</a> where many ideas in this blog post are presented in a video/webinar format.</p>\n</blockquote>\n<h2 id=\"what-is-an-application\"><a href=\"#what-is-an-application\" aria-label=\"what is an application permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is an application?</h2>\n<p>I‚Äôve previously attempted the <a href=\"/blog/2018-10-15-beyond-static-intro/#what-is-an-app\">surprisingly difficult task</a> of defining what consititutes a traditional web application. In an effort to not re-hash all the work there, I think there are several, key features that indicate a more app-like experience:</p>\n<ul>\n<li>dynamic data fetching</li>\n<li>user authentication and authenticated client-only routes</li>\n<li>client-side JS interactions</li>\n</ul>\n<p>Of course, a web app isn‚Äôt some checklist wherein <em>each</em> of these functionalities are required to indicate an app-like experience. Rather, I think it‚Äôs easier to <em>see</em> an example of a web application ‚Äî one that encapsulates several of these functionalities ‚Äî to form a mental model of the type of web app that Gatsby can build.</p>\n<p>For me there are two key examples that are at the forefront of my mental model of what constitutes a modern web application‚Ä¶ Gmail and Twitter.</p>\n<h3 id=\"gmail\"><a href=\"#gmail\" aria-label=\"gmail permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gmail</h3>\n<p><a href=\"https://gmail.com\">\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4516b9733d9649878fcd92980852619f/c3c14/gmail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACMElEQVQ4y21Ui46jMAzk/z/xpFO75RUgQAKEQKF4ZwKpkO6QLHZtZzKeMU3e77dMlRKrtczeCx/nnPS9QfQyz/M/wfq2beHvcRxDVKqU598/krCwAmhZFtk/nwDo8b+PuX0P8UHtQO04jtDDc94veO+hdxwn0b2TZB6MDK0WNwxybG85djQCyOJWxoIJPKcAm6aupek6adpWNN6dMeLXFX2TGGvkvRJQFTL8PGTtO9kHK/s0iQOgAVhnBxk5FhhYa6V4PiRVleSIFmAdcgPGtzjTgJSfB0kcmnsUyCo+zLG5qKoAPBEQhxR0Vk0TgrUSjAnYY7qq0ejdJDEQvkaBmoQHGhFQI58rFYAJSOC0yBGFZGX5DdYIaBDQSxI6ZIwNot8ZErC8NDsBJ3lmJ2BanGBkytE1NmK+Jkx6aKcxCh2mgwSmhhyR7Hhg8rP0o5NHrnFJJRX6mQ/MQKhH0JwAqIpMCBpXgivirhFruEmG7mL4KuqvhhGUl3Y3DxL5z+OCCad7ZMG3mWZJayM1LtAAsm4O+WjYlyFZMeISB0CuzTUyGXIkiz0rsTY1jGlgVg0tm7bDWl2Ad4YEXBcPwO3LkMziyNO16AqrUsEoRR2rU0sa0uLi+Q64rBsOTjK6M8mvgi7T0VeeB814QVYq6HiuDZ1mnRcRlGduI8tpyrWH1IWCRwPIlCbdFzpG3EN3/bAEQC41V8dfSTZx1Gea4pvtw7dMwMfrJT9ZFvIMAkadI8NfUjJ/hxbTXtUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Gmail interface\"\n        title=\"\"\n        src=\"/static/4516b9733d9649878fcd92980852619f/75efb/gmail.png\"\n        srcset=\"/static/4516b9733d9649878fcd92980852619f/bea6c/gmail.png 197w,\n/static/4516b9733d9649878fcd92980852619f/9f6c6/gmail.png 393w,\n/static/4516b9733d9649878fcd92980852619f/75efb/gmail.png 786w,\n/static/4516b9733d9649878fcd92980852619f/43bd5/gmail.png 1179w,\n/static/4516b9733d9649878fcd92980852619f/6a30e/gmail.png 1572w,\n/static/4516b9733d9649878fcd92980852619f/c3c14/gmail.png 1600w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </a></p>\n<p>Gmail served as an early proof of concept that proved out two, key functional wins:</p>\n<ol>\n<li>Client-side JavaScript can power an app-like experience, and</li>\n<li>a JavaScript application (running in your browser) can compare favorably to traditional, native applications for desktop and mobile</li>\n</ol>\n<p>The impact of these wins can‚Äôt be understated. Gmail <em>proved</em> that a native, app-like experience is not only possible for end users, but that it can even be preferable and more convenient than the native experience. We‚Äôll revisit this trusty Gmail web application example in due time.</p>\n<p>Next up, is Twitter, for slightly different reasons.</p>\n<h3 id=\"twitter-progressive-web-application\"><a href=\"#twitter-progressive-web-application\" aria-label=\"twitter progressive web application permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Twitter (Progressive Web Application)</h3>\n<p><a href=\"https://m.twitter.com\">\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/135f929c4345807ce947b9ba7343f902/c3c14/twitter.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACqUlEQVQ4y32TS08TURTH58sQCS4EV3wJEz+AG91INCYaFNy4cKMu/QYmuqA+FwoJBl8EmkqsTUqRlBalQzvtlJnOzJ33s3/PvaVQRD3pydzbufO7//OSMGJhCjTMFFkfoB/iJEEYRuj3+a4Pyw2g2ZFYp1kG5rhI0nQUAclgDrj3bBeKbkI1fXEwIFAUxYjjWAAz7gThMIGnfUow/vT8ALplC46kHPSg6hZqioLc8iKajQZsU4PveeJgSNAszZCQ2kQoDoVHUST2HGo5HlrdHtqaAalDqjiUub5QlFC8lmHgW34dXwsfsfZpCetrK3jxMoepqfMYGxvDmfFxTEycxbnJSUxPT2N1PQ/D8QVHAFu0sAnIrV79gdp2Bb/kFhRS3ZJl8f+7xUVIkvRXf/7qDVgQk0p9VKEnPtwh2NZmGUpbhWFasBijsDJUq1XMXLqIudmbmJ+/i9nbd3Dj1qzwUrkCzXKPFfKF4wU80wLqej7k/SY6qgrLsuDSZbxIy0tvoWo6/jQ/jEUOOeskkIy3g+9R1Q+6UDscyI4+NGjdJaBHF4qCkPdF+3iCcQrYP1S4Uqjg2dIXbFQ2UdrdxcKHDXwu7sAlJQ7BDNOk6keiB3mVebpOAW06yHPFbeZBDlcePUZRXkZJfo8Lcw9x+f5TaiMbe00FXd0Asx3hvE9PKeRVdvzgKLTC5k+Ua62jnBYqe1gtbqO+VUKb0qAbJgxyi9niDBfTOqnQEM0ZBIFoZj4NWULh+dTEcYLBIP7beMu1tUNgm8ga81D6XsK969dQq+9iryFTQTqQVQM6veOh8Yv46PE8j/oA6KF5osoahdCjEPYJpHbBGPuvoiFo+LRI4dXXXSwU9eMcukE4aA2qIKPcDIc+SVIxkqKqyaCqQ9ixQh9P8gryOxp+A8JqRU8nxLmzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Twitter interface\"\n        title=\"\"\n        src=\"/static/135f929c4345807ce947b9ba7343f902/75efb/twitter.png\"\n        srcset=\"/static/135f929c4345807ce947b9ba7343f902/bea6c/twitter.png 197w,\n/static/135f929c4345807ce947b9ba7343f902/9f6c6/twitter.png 393w,\n/static/135f929c4345807ce947b9ba7343f902/75efb/twitter.png 786w,\n/static/135f929c4345807ce947b9ba7343f902/43bd5/twitter.png 1179w,\n/static/135f929c4345807ce947b9ba7343f902/6a30e/twitter.png 1572w,\n/static/135f929c4345807ce947b9ba7343f902/c3c14/twitter.png 1600w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </a></p>\n<p>Twitter is another key example of my mental model for what an application <em>is</em> (and can be!) because it both:</p>\n<ul>\n<li>illustrates some of the power of the modern web experience, and</li>\n<li>uses some great performance optimizations and smart engineering practices to serve up an engaging, fast, app-like experience</li>\n</ul>\n<p>In particular, I find the following functionalities of Twitter as key markers for a separate kind of application:</p>\n<ul>\n<li>Aggressive data caching and fast page navigation with service workers</li>\n<li>Integration of the <a href=\"https://developers.google.com/web/fundamentals/performance/prpl-pattern/\">PRPL pattern</a> (<strong>P</strong>ush, <strong>R</strong>ender, <strong>P</strong>re-cache, and <strong>L</strong>azy load)</li>\n<li>The illustration of the <a href=\"https://developers.google.com/web/fundamentals/architecture/app-shell\">App Shell</a> pattern to speed up repeat visits and show a maximally visually complete page</li>\n</ul>\n<p>These <em>modern</em> concepts, coupled together, are key for the value of Twitter‚Äôs approach to an app-like experience. Twitter engineers were able to strip down the core Twitter experience and deliver a blazing-fast modern web application utilizing some great engineering techniques and patterns, that many users like even more than the full experience. To learn more about these techniques, check out this great <a href=\"https://developers.google.com/web/showcase/2017/twitter\">case study</a> from Google and Addy Osmani.</p>\n<p>These two web applications will serve as key foundational pieces to keep in mind as the discussion shifts to Gatsby for web applications.</p>\n<h2 id=\"gatsby-is-for-applications\"><a href=\"#gatsby-is-for-applications\" aria-label=\"gatsby is for applications permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby is for Applications</h2>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a86557eff90897127910cb9315ecfba/ef48c/what-if-i-told-you.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABzGjUm6IQf//EABoQAAICAwAAAAAAAAAAAAAAAAECADEDETL/2gAIAQEAAQUCW1bYENYexX//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAQAGPwIxuO//xAAeEAACAgAHAAAAAAAAAAAAAAAAAREhEDFRYZGhsf/aAAgBAQABPyFoR6DpNT4MlqdzpHg8L//aAAwDAQACAAMAAAAQwD//xAAWEQEBAQAAAAAAAAAAAAAAAAABACH/2gAIAQMBAT8QWS3/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQIBAT8Qla//xAAdEAACAwACAwAAAAAAAAAAAAAAAREhMVFhgaHw/9oACAEBAAE/EJNaVreJwSELl3xvzQ06nB6j3ht9UYH/2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Morpheus Matrix What if I told you\"\n        title=\"\"\n        src=\"/static/1a86557eff90897127910cb9315ecfba/00eda/what-if-i-told-you.jpg\"\n        srcset=\"/static/1a86557eff90897127910cb9315ecfba/c1503/what-if-i-told-you.jpg 197w,\n/static/1a86557eff90897127910cb9315ecfba/a941d/what-if-i-told-you.jpg 393w,\n/static/1a86557eff90897127910cb9315ecfba/00eda/what-if-i-told-you.jpg 786w,\n/static/1a86557eff90897127910cb9315ecfba/8e8ca/what-if-i-told-you.jpg 1179w,\n/static/1a86557eff90897127910cb9315ecfba/ef48c/what-if-i-told-you.jpg 1200w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>What if I told you‚Ä¶ that building a Gatsby website enables all of these traditional web-app like functionalities because a Gatsby ‚Äústatic site‚Äù is an application?</p>\n<p>Every Gatsby application isn‚Äôt merely static. It‚Äôs <em>as much</em> static HTML rendered up-front, as possible. Client-side JavaScript (via React!) takes over as the enginge for dynamic application functionality. A quick overview of Gatsby‚Äôs general build process is effective to illustrate the concept.</p>\n<ol>\n<li>Inject pages with data (from <a href=\"/docs/querying-with-graphql/\">GraphQL</a> or even <a href=\"/docs/using-gatsby-without-graphql/\">without using GraphQL</a>)</li>\n<li>Use the <a href=\"https://reactjs.org/docs/react-dom-server.html#rendertostring\">ReactDOMServer.renderToString</a> API to invoke server-side APIs to render React components to <em>HTML</em> files</li>\n<li>\n<p>Inject a runtime and helpers (like a router!) to enable app functionality</p>\n<ul>\n<li>Gatsby <em>produces</em> a <a href=\"https://facebook.github.io/create-react-app/\">create-react-app</a> like experience once this runtime takes over</li>\n</ul>\n</li>\n</ol>\n<p>To illustrate the concept, let‚Äôs start with a classic example‚Ä¶ we need to fetch some data at <em>run-time</em> rather than build-time.</p>\n<div class=\"gatsby-code-title\">src/pages/messages.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Messages</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      messages<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// note: this is a simplified example without error handling, authentication, etc.</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> messages <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`/api/some-url-to-get-messages`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n      response <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      messages<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> messages <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading messages&amp;hellip;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>message <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Messages</code></pre></div>\n<p>All we‚Äôve done here is implement the <a href=\"https://reactjs.org/docs/react-component.html#componentdidmount\"><code class=\"language-text\">componentDidMount</code></a> lifecycle method, which will fire off a request to some REST API to retrieve some data (messages!) from a remote API. At <em>runtime</em> our application is now fetching data, dynamically. This illustrates the effectiveness of the Gatsby + React <em>runtime</em> and how a Gatsby application is essentially a hydrated create-react-app like experience. <a href=\"https://reactjs.org/docs/state-and-lifecycle.html\">React lifecycle methods</a> are fully supported to implement whatever dynamic interaction is required, like data fetching in this example!</p>\n<p>Consider the following animation, which mimics the end user experience. In effect, we‚Äôve statically generated non-dynamic pieces (e.g. header, sidebar, etc.) and we then request additional data, on demand!</p>\n<p><img src=\"/dynamic-data-fetching-08f9daf0084378e349bdc711fc56d25c.gif\" alt=\"Loading dynamic data animation\"></p>\n<p>However‚Äîthis is a fairly contrived, perhaps not completely real-world example. What if that REST API <a href=\"/docs/authentication-tutorial/\">requires authentication</a>? What if we want <a href=\"/docs/building-apps-with-gatsby/#client-only-routes--user-authentication\">client-only routes</a>, e.g. deep linking to a specific message? You better believe it‚Äôs possible! GraphQL at build time and run time? Yup!</p>\n<p>The central idea I want to clarify is that typically app-like features are not only <em>possible</em> with Gatsby, but intuitive and easy to implement due to the dynamic runtime enabled in every Gatsby application. It‚Äôs <em>just</em> React.</p>\n<p>Gatsby is for building dynamic, web applications, just as it is for building static sites. At this point, this has become clear. Gatsby can be used for many of the traditional cases for web applications, including authentication, client-only routes, dynamic data fetching, and more.</p>\n<p>However, what hasn‚Äôt been made clear is <em>why</em> you‚Äôd reach for Gatsby as opposed to other solutions.</p>\n<h2 id=\"why-gatsby-for-apps\"><a href=\"#why-gatsby-for-apps\" aria-label=\"why gatsby for apps permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><em>Why</em> Gatsby for Apps?</h2>\n<h3 id=\"built-in-performance-optimizations\"><a href=\"#built-in-performance-optimizations\" aria-label=\"built in performance optimizations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Built-in Performance Optimizations</h3>\n<p>If we revisit some of the benefits that Gatsby provides, minimally:</p>\n<ul>\n<li>Static rendering of React components and co-located data to static HTML</li>\n<li>Optimizing data, images, etc. for blazing-fast performance</li>\n<li>Internalizing performance patterns and best practices like <a href=\"https://developers.google.com/web/fundamentals/performance/prpl-pattern/\">PRPL</a>, route-based code splitting, etc.</li>\n</ul>\n<p>Each of these are worthy of far more detail, but suffice to say these are <em>great</em> functionalities that you want not only in your <em>static</em> site, but also in your application.</p>\n<p>These performance optimizations aren‚Äôt opt-in; they‚Äôre enabled, by default. As new performance techniques and optimizations gain popularity, we can internalize these just as we have for these others optimizations. These optimizations can then be made available to your end users merely by upgrading your version of Gatsby, in much the same way tooling improvements are available by upgrading <a href=\"https://facebook.github.io/create-react-app/\">create-react-app</a>.</p>\n<h3 id=\"plugins-and-the-gatsby-ecosystem\"><a href=\"#plugins-and-the-gatsby-ecosystem\" aria-label=\"plugins and the gatsby ecosystem permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugins and the Gatsby Ecosystem</h3>\n<p>One of the key benefits of Gatsby is its highly modular architecture. Need a plugin for <a href=\"/packages/gatsby-source-wordpress/\">sourcing data from Wordpress</a>? Sure, seems reasonable. Need to <a href=\"/packages/gatsby-transformer-yaml/\">transform yaml data</a> into a usable, JavaScript object? Yeah, why not! Want to <a href=\"/packages/gatsby-source-graphql/\">stitch in a remote GraphQL API</a> and inject the data at <em>build</em> time? Oh, you‚Äôre fancy! Want to load optimized, responsive, blur-in images? Yep.</p>\n<p>Let‚Äôs take a look at that image functionality provided by one of our components, <code class=\"language-text\">gatsby-image</code>, in slightly more detail.</p>\n<h4 id=\"gatsby-image\"><a href=\"#gatsby-image\" aria-label=\"gatsby image permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">gatsby-image</code></h4>\n<p>Certainly one of my favorite components that Gatsby provides and maintains is <code class=\"language-text\">gatsby-image</code>. This component gives excellent image rendering capabilities, along with image optimizations enabled by plugins like <a href=\"/packages/gatsby-plugin-sharp/\"><code class=\"language-text\">gatsby-plugin-sharp</code></a>. These two techniques, along with the GraphQL API made available to any Gatsby application, vastly simplifies the developer experience of serving optimized images, providing a number of features, including:</p>\n<ul>\n<li>\n<p>Resizing large images to an optimized size for your design</p>\n<ul>\n<li>aka banish the practice of 5Mb above-the-fold hero images to the shadow realm</li>\n</ul>\n</li>\n<li>Generate multiple, mobile-friendly images using <code class=\"language-text\">srcset</code> to serve <em>just</em> what your user‚Äôs device needs</li>\n<li>Lazy load images with a blur-up technique‚Äîeven using <a href=\"https://using-gatsby-image.gatsbyjs.org/traced-svg/\">traced SVGs</a></li>\n</ul>\n<p><code class=\"language-text\">gatsby-image</code> is incredible. If you haven‚Äôt yet integrated its capabilities into your application, I‚Äôd highly recommend taking a look! Check out our recently redesigned <a href=\"https://using-gatsby-image.gatsbyjs.org/\">Using Gatsby Image</a> example to learn more and see some live examples. Use <code class=\"language-text\">gatsby-image</code>, your users will thank you.</p>\n<p>The power of these components and plugins is immense. In a similar way that reusable components have been incredibly valuable and successful for the growth of the React ecosystem, so to are plugins and ecosystem valuable for Gatsby applications. Why waste cycles reinventing these plugins and components when you can re-use and leverage the power of our open-source ecosystem? Using these plugins and components means more time to spend on building out your Gatsby application. Check out <a href=\"/plugins\">our vast plugin library</a> if you haven‚Äôt already!</p>\n<p>Next: let‚Äôs compare and contrast the end user experience of fetching authenticated data between Gatsby and a server-rendered application.</p>\n<h3 id=\"the-app-shell\"><a href=\"#the-app-shell\" aria-label=\"the app shell permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The App Shell</h3>\n<p>In merely adding the <a href=\"/packages/gatsby-plugin-offline/\"><code class=\"language-text\">gatsby-plugin-offline</code></a> plugin, we enable a fully-featured, progressive web application that works offline and creates an app shell by registering a service worker. An app shell is essentially separate components of your application (e.g. header, footer, sidebar, etc.) that are instantly available from a service worker while dynamic content is fetched in the background. This creates a great end-user experience, as the application is able to visually populate instantly as data loads into place in the background.</p>\n<p>If we consider this approach, the technique looks like the following:</p>\n<ol>\n<li>Render as much content, as possible, up front (e.g. the app shell)</li>\n<li>Make async data requests to load disparate pieces, e.g. load page content from an API, particularly an API with authentication</li>\n</ol>\n<p>Let‚Äôs compare this approach with the server-rendered approach. Consider an authenticated API call for this example. This API call is used to populate page data before it‚Äôs sent (as HTML) to the end user. We‚Äôre forced to defer loading for the entire page and the bottleneck of the API response, rather than serving the app shell as dynamic data loads in the background.</p>\n<p>Consider the following animation to clarify this example. On the left, an application using a service worker and an app shell, e.g. a Gatsby application. On the right, a server-rendered application that waits until the API call has resolved to serve the <em>entire</em> page all at once.</p>\n<p><img src=\"/app-shell-web-apps-2cde9a7b00ea80c9e90542e3dd03b2fa.gif\" alt=\"App shell vs. server side rendered\"></p>\n<p>The benefits of this approach are clear. Loading an application shell gives end users the impression that the page is loading more quickly, even if in comparing the two approaches, both effectively load <em>all</em> the data after the same amount of time. This gives your users the best of both worlds‚Ä¶ the appearance and feeling of being blazing fast and <em>actually</em> being blazing fast with the optimizations you get with Gatsby out of the box.</p>\n<p>To unify all these concepts, I‚Äôve assembled a demo application revisiting our old friend Gmail. This demo illustrates that rich web applications are not only <em>possible</em> in Gatsby, but that Gatsby is a great choice to build these types of applications.</p>\n<h2 id=\"introducing-gatsby-mail-for-demo-purposes-only\"><a href=\"#introducing-gatsby-mail-for-demo-purposes-only\" aria-label=\"introducing gatsby mail for demo purposes only permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introducing‚Ä¶ Gatsby Mail! (For demo purposes only!)</h2>\n<p><a href=\"https://gatsby-mail.netlify.com\">\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/58eba66965a5d7b6133f100da2b72357/c3c14/gatsby-mail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACFUlEQVQ4y61S22oTURSdT2gbkf6F1bYWf8KqyYMg4gcIfoL4KvRJ8IZijddqWkrTCopBX0pRnypUtLZxJjVpmslgMpOZM3POBJd7TzNxEqKoOLDYe/bZZ521L9quYUEvluC6LSilEAQBpJR/DM5XSsJpuGhaDjSnSU7DhhACgR9ECX+Fzh3h+fBcAY3Z95VJ+P9C2EGsWBNEIjk4oBQpA4RhiHY7jB7lx39XOkNriaAnEIMJKuVdbH0uwtBLqO2ZcB0BzxODFcaEP9X0vhSSKn2zivW1bcIWNt/v4MM7AzvbJqRKCOB7CavFZEkbKQwVjE97WF8tYuONjo23RuTrH6vUBpVQJrtkgns4iJCH8x1t5K6v4eLZOVw+v4iZC0u4dO4p5inGZ90BRmQ0WPJNJvxVc9n3aya8cgVupYpWqQznSwmiblHJvQoFDa9G+BoRJuqXfWvgWE1Y5TpsswHluVC0/JL3tdu3AYTJpgZ9Cm1a+nrNhmXa8LlXrKxnCLKvZBqKcB1aBd70/ZUQHbDvkxrf9yPrJeKiz49ti6AB3/A/P23lym08vPcCyzcW8eRuAQu3nhFW8Hj2JfLXFnA/+xr5qzk8yL7CEuXM3XmOHOfczONRtkA581HOMtvZArSpkQwmR8/g2IEMjh48jclUBhOpNMZG0hgfmsYh+h8fOt6x0xQ/hcPDJ3Fk+ATGUunu2URk0/gBvVZEeYyqUukAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Gatsby Mail - an example app demoing web app functionality\"\n        title=\"\"\n        src=\"/static/58eba66965a5d7b6133f100da2b72357/75efb/gatsby-mail.png\"\n        srcset=\"/static/58eba66965a5d7b6133f100da2b72357/bea6c/gatsby-mail.png 197w,\n/static/58eba66965a5d7b6133f100da2b72357/9f6c6/gatsby-mail.png 393w,\n/static/58eba66965a5d7b6133f100da2b72357/75efb/gatsby-mail.png 786w,\n/static/58eba66965a5d7b6133f100da2b72357/43bd5/gatsby-mail.png 1179w,\n/static/58eba66965a5d7b6133f100da2b72357/6a30e/gatsby-mail.png 1572w,\n/static/58eba66965a5d7b6133f100da2b72357/c3c14/gatsby-mail.png 1600w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </a></p>\n<p><a href=\"https://gatsby-mail.netlify.com\">Gatsby Mail</a> encapsulates some of the concepts and themes I‚Äôve been hitting upon, particularly:</p>\n<ol>\n<li>Gmail, Twitter, et al, are key exemplars of rich, web app experiences</li>\n<li>Gatsby provides components, plugins, etc. for delivering great experiences; use them!</li>\n<li>Gatsby is an excellent choice for building web applications</li>\n</ol>\n<p>Additionally, Gatsby Mail shows some specific web application functionality, such as:</p>\n<ul>\n<li>Static rendering coupled with fetching dynamic data with the client runtime</li>\n<li>Authentication and client-only routes</li>\n<li>Non-authenticated routes, e.g. a landing page (using the <a href=\"https://reactjs.org/docs/context.html\">React Context</a> API)</li>\n<li>GraphQL at build time and <em>run time</em> utilizing a remote GraphQL API and <a href=\"https://github.com/apollographql/apollo-client/tree/master/packages/apollo-boost\">apollo-boost</a>, and</li>\n<li>loading an app shell with <code class=\"language-text\">gatsby-plugin-offline</code> (check out the ‚ÄúFast 3G‚Äù example below!)</li>\n</ul>\n<p>and even a light/dark theme, because why not! You can see all of these concepts unify to form this great end-user experience in the below example with a simulated fast 3G connection. The app shell (header, footer, etc.) loads into place <em>instantly</em> as the dynamic content is fetched (from the remote GraphQL API!) in the background.</p>\n<p><img src=\"/gatsby-mail-app-shell-ea70bc27384377e1ebb17ec824697fbd.gif\" alt=\"App Shell with Gatsby Mail\"></p>\n<p>Check out the <a href=\"https://github.com/dschau/gatsby-mail\">GitHub repo</a> to learn more about how it was built and adopt some of the techniques as you build your next great Gatsby web <strong>application</strong>.</p>\n<p>We can‚Äôt wait to see what you build.</p>"}