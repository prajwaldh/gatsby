{"expireTime":9007200804686338000,"key":"transformer-remark-markdown-ast-77d2d8a113b3c1bf23bccf330fee2d30-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Code splitting in Gatsby occurs during webpack compilation via ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":64,"offset":64},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/guides/code-splitting/#dynamic-imports","children":[{"type":"text","value":"Dynamic Splitting","position":{"start":{"line":2,"column":65,"offset":65},"end":{"line":2,"column":82,"offset":82},"indent":[]}}],"position":{"start":{"line":2,"column":64,"offset":64},"end":{"line":2,"column":146,"offset":146},"indent":[]}},{"type":"text","value":". During compilation, if webpack finds an ","position":{"start":{"line":2,"column":146,"offset":146},"end":{"line":2,"column":188,"offset":188},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">import</code>","position":{"start":{"line":2,"column":188,"offset":188},"end":{"line":2,"column":196,"offset":196},"indent":[]}},{"type":"text","value":" function invocation, it will split the imported file into a separate bundle. If modules are instead loaded with ","position":{"start":{"line":2,"column":196,"offset":196},"end":{"line":2,"column":309,"offset":309},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">require</code>","position":{"start":{"line":2,"column":309,"offset":309},"end":{"line":2,"column":318,"offset":318},"indent":[]}},{"type":"text","value":", they are not code split and are instead included in the original bundle.","position":{"start":{"line":2,"column":318,"offset":318},"end":{"line":2,"column":392,"offset":392},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":392,"offset":392},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But how do we figure out what modules/files to split? Thankfully, there is a natural answer. Pages! When you load a page, there’s no reason we need to also load the JavaScript/CSS for all the other pages on the site (except to prefetch them which we’ll get to ","position":{"start":{"line":4,"column":1,"offset":394},"end":{"line":4,"column":261,"offset":654},"indent":[]}},{"type":"link","title":null,"url":"/docs/how-code-splitting-works/#prefetching-chunks","children":[{"type":"text","value":"later","position":{"start":{"line":4,"column":262,"offset":655},"end":{"line":4,"column":267,"offset":660},"indent":[]}}],"position":{"start":{"line":4,"column":261,"offset":654},"end":{"line":4,"column":320,"offset":713},"indent":[]}},{"type":"text","value":"). Gatsby’s job is to do the heavy lifting of generating the right JavaScript in the form that webpack expects to perform this code splitting.","position":{"start":{"line":4,"column":320,"offset":713},"end":{"line":4,"column":462,"offset":855},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":394},"end":{"line":4,"column":462,"offset":855},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#cacheasync-requiresjs","title":null,"data":{"hProperties":{"aria-label":"cacheasync requiresjs permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":".cache/async-requires.js","position":{"start":{"line":6,"column":4,"offset":860},"end":{"line":6,"column":28,"offset":884},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":857},"end":{"line":6,"column":28,"offset":884},"indent":[]},"data":{"id":"cacheasync-requiresjs","htmlAttributes":{"id":"cacheasync-requiresjs"},"hProperties":{"id":"cacheasync-requiresjs"}}},{"type":"paragraph","children":[{"type":"text","value":"During the ","position":{"start":{"line":8,"column":1,"offset":886},"end":{"line":8,"column":12,"offset":897},"indent":[]}},{"type":"link","title":null,"url":"/docs/write-pages/#async-requiresjs","children":[{"type":"text","value":"Write Out Pages","position":{"start":{"line":8,"column":13,"offset":898},"end":{"line":8,"column":28,"offset":913},"indent":[]}}],"position":{"start":{"line":8,"column":12,"offset":897},"end":{"line":8,"column":66,"offset":951},"indent":[]}},{"type":"text","value":" bootstrap phase, we output ","position":{"start":{"line":8,"column":66,"offset":951},"end":{"line":8,"column":94,"offset":979},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">.cache/async-requires.js</code>","position":{"start":{"line":8,"column":94,"offset":979},"end":{"line":8,"column":120,"offset":1005},"indent":[]}},{"type":"text","value":". This file is key to code splitting. It exports a ","position":{"start":{"line":8,"column":120,"offset":1005},"end":{"line":8,"column":171,"offset":1056},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">components</code>","position":{"start":{"line":8,"column":171,"offset":1056},"end":{"line":8,"column":183,"offset":1068},"indent":[]}},{"type":"text","value":" object that maps ","position":{"start":{"line":8,"column":183,"offset":1068},"end":{"line":8,"column":201,"offset":1086},"indent":[]}},{"type":"link","title":null,"url":"/docs/behind-the-scenes-terminology/#componentchunkname","children":[{"type":"text","value":"ComponentChunkNames","position":{"start":{"line":8,"column":202,"offset":1087},"end":{"line":8,"column":221,"offset":1106},"indent":[]}}],"position":{"start":{"line":8,"column":201,"offset":1086},"end":{"line":8,"column":279,"offset":1164},"indent":[]}},{"type":"text","value":" to functions that import the component’s file on disk. E.g","position":{"start":{"line":8,"column":279,"offset":1164},"end":{"line":8,"column":338,"offset":1223},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":886},"end":{"line":8,"column":338,"offset":1223},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span>components <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"component--src-blog-js\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/home/site/src/blog.js\"</span> <span class=\"token comment\">/* webpackChunkName: \"component---src-blog-js\" */</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// more components</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":10,"column":1,"offset":1225},"end":{"line":16,"column":4,"offset":1410},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The entry point to webpack (","position":{"start":{"line":18,"column":1,"offset":1412},"end":{"line":18,"column":29,"offset":1440},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">production-app.js</code>","position":{"start":{"line":18,"column":29,"offset":1440},"end":{"line":18,"column":48,"offset":1459},"indent":[]}},{"type":"text","value":") ","position":{"start":{"line":18,"column":48,"offset":1459},"end":{"line":18,"column":50,"offset":1461},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/production-app.js#L12","children":[{"type":"text","value":"references ./async-requires.js","position":{"start":{"line":18,"column":51,"offset":1462},"end":{"line":18,"column":81,"offset":1492},"indent":[]}}],"position":{"start":{"line":18,"column":50,"offset":1461},"end":{"line":18,"column":178,"offset":1589},"indent":[]}},{"type":"text","value":". And therefore webpack will analyze it and find the object mapping components to functions that dynamically import page component files. According to dynamic splitting, webpack will then create separate chunks for each of those imported files.","position":{"start":{"line":18,"column":178,"offset":1589},"end":{"line":18,"column":422,"offset":1833},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1412},"end":{"line":18,"column":422,"offset":1833},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">async-requires</code>","position":{"start":{"line":20,"column":1,"offset":1835},"end":{"line":20,"column":17,"offset":1851},"indent":[]}},{"type":"text","value":" also exports a ","position":{"start":{"line":20,"column":17,"offset":1851},"end":{"line":20,"column":33,"offset":1867},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">data</code>","position":{"start":{"line":20,"column":33,"offset":1867},"end":{"line":20,"column":39,"offset":1873},"indent":[]}},{"type":"text","value":" function that dynamically imports the ","position":{"start":{"line":20,"column":39,"offset":1873},"end":{"line":20,"column":78,"offset":1912},"indent":[]}},{"type":"link","title":null,"url":"/docs/write-pages/#datajson","children":[{"type":"text","value":"data.json","position":{"start":{"line":20,"column":79,"offset":1913},"end":{"line":20,"column":88,"offset":1922},"indent":[]}}],"position":{"start":{"line":20,"column":78,"offset":1912},"end":{"line":20,"column":118,"offset":1952},"indent":[]}},{"type":"text","value":" file so that it too is code split.","position":{"start":{"line":20,"column":118,"offset":1952},"end":{"line":20,"column":153,"offset":1987},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1835},"end":{"line":20,"column":153,"offset":1987},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#chunk-bundle-naming","title":null,"data":{"hProperties":{"aria-label":"chunk bundle naming permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Chunk bundle naming","position":{"start":{"line":22,"column":4,"offset":1992},"end":{"line":22,"column":23,"offset":2011},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1989},"end":{"line":22,"column":23,"offset":2011},"indent":[]},"data":{"id":"chunk-bundle-naming","htmlAttributes":{"id":"chunk-bundle-naming"},"hProperties":{"id":"chunk-bundle-naming"}}},{"type":"paragraph","children":[{"type":"text","value":"Great! We’ve told webpack where we want to code split. But how will these be named on disk? Webpack gives you the ability to customize this via the ","position":{"start":{"line":24,"column":1,"offset":2013},"end":{"line":24,"column":149,"offset":2161},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/configuration/output/#output-chunkfilename","children":[{"type":"text","value":"chunkFilename","position":{"start":{"line":24,"column":150,"offset":2162},"end":{"line":24,"column":163,"offset":2175},"indent":[]}}],"position":{"start":{"line":24,"column":149,"offset":2161},"end":{"line":24,"column":231,"offset":2243},"indent":[]}},{"type":"text","value":" configuration in the ","position":{"start":{"line":24,"column":231,"offset":2243},"end":{"line":24,"column":253,"offset":2265},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/configuration/output/","children":[{"type":"text","value":"output","position":{"start":{"line":24,"column":254,"offset":2266},"end":{"line":24,"column":260,"offset":2272},"indent":[]}}],"position":{"start":{"line":24,"column":253,"offset":2265},"end":{"line":24,"column":307,"offset":2319},"indent":[]}},{"type":"text","value":" section, which is set by Gatsby in ","position":{"start":{"line":24,"column":307,"offset":2319},"end":{"line":24,"column":343,"offset":2355},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js#L131","children":[{"type":"text","value":"webpack.config.js","position":{"start":{"line":24,"column":344,"offset":2356},"end":{"line":24,"column":361,"offset":2373},"indent":[]}}],"position":{"start":{"line":24,"column":343,"offset":2355},"end":{"line":24,"column":459,"offset":2471},"indent":[]}},{"type":"text","value":" as:","position":{"start":{"line":24,"column":459,"offset":2471},"end":{"line":24,"column":463,"offset":2475},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":2013},"end":{"line":24,"column":463,"offset":2475},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[name]-[contenthash].js</code></pre></div>","position":{"start":{"line":26,"column":1,"offset":2477},"end":{"line":28,"column":4,"offset":2508},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Content hash is simply a hash of the contents of the chunk that was code split. But what about ","position":{"start":{"line":30,"column":1,"offset":2510},"end":{"line":30,"column":96,"offset":2605},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">name</code>","position":{"start":{"line":30,"column":96,"offset":2605},"end":{"line":30,"column":102,"offset":2611},"indent":[]}},{"type":"text","value":"? We haven’t told webpack the “name” of the chunk, other than the filename, which can’t be a name since it has slashes in it. Normally, Webpack would replace ","position":{"start":{"line":30,"column":102,"offset":2611},"end":{"line":30,"column":260,"offset":2769},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">[name]</code>","position":{"start":{"line":30,"column":260,"offset":2769},"end":{"line":30,"column":268,"offset":2777},"indent":[]}},{"type":"text","value":" with ","position":{"start":{"line":30,"column":268,"offset":2777},"end":{"line":30,"column":274,"offset":2783},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">[id]</code>","position":{"start":{"line":30,"column":274,"offset":2783},"end":{"line":30,"column":280,"offset":2789},"indent":[]}},{"type":"text","value":" (see ","position":{"start":{"line":30,"column":280,"offset":2789},"end":{"line":30,"column":286,"offset":2795},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/configuration/output/#output-chunkfilename","children":[{"type":"text","value":"webpack docs","position":{"start":{"line":30,"column":287,"offset":2796},"end":{"line":30,"column":299,"offset":2808},"indent":[]}}],"position":{"start":{"line":30,"column":286,"offset":2795},"end":{"line":30,"column":367,"offset":2876},"indent":[]}},{"type":"text","value":"). But, it gives us the opportunity to specify the name instead as a comment in the ","position":{"start":{"line":30,"column":367,"offset":2876},"end":{"line":30,"column":451,"offset":2960},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">import block</code>","position":{"start":{"line":30,"column":451,"offset":2960},"end":{"line":30,"column":465,"offset":2974},"indent":[]}},{"type":"text","value":". In the example above, that’s what the ","position":{"start":{"line":30,"column":465,"offset":2974},"end":{"line":30,"column":505,"offset":3014},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/* webpackChunkName: &quot;component---src-blog-js&quot; */</code>","position":{"start":{"line":30,"column":505,"offset":3014},"end":{"line":30,"column":556,"offset":3065},"indent":[]}},{"type":"text","value":" is doing.","position":{"start":{"line":30,"column":556,"offset":3065},"end":{"line":30,"column":566,"offset":3075},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2510},"end":{"line":30,"column":566,"offset":3075},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#primer-on-chunkgroups-and-chunks","title":null,"data":{"hProperties":{"aria-label":"primer on chunkgroups and chunks permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Primer on chunkGroups and chunks","position":{"start":{"line":32,"column":4,"offset":3080},"end":{"line":32,"column":36,"offset":3112},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":3077},"end":{"line":32,"column":36,"offset":3112},"indent":[]},"data":{"id":"primer-on-chunkgroups-and-chunks","htmlAttributes":{"id":"primer-on-chunkgroups-and-chunks"},"hProperties":{"id":"primer-on-chunkgroups-and-chunks"}}},{"type":"paragraph","children":[{"type":"text","value":"Before we go on to show how Gatsby maps components to the generated bundle names, we should understand how webpack chunks work. A chunk group represents a logical code split, e.g. a Gatsby page, or the Gatsby core app. The chunk groups might share a bunch of code or libraries. Webpack detects these and creates shared pieces of code. These are chunks, e.g. there might be a chunk for React and other libraries. Then there would be the leftover chunks of core Gatsby JS code for the particular chunk group. This is most easily explained by the below graph.","position":{"start":{"line":34,"column":1,"offset":3114},"end":{"line":34,"column":557,"offset":3670},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":3114},"end":{"line":34,"column":557,"offset":3670},"indent":[]}},{"type":"html","lang":"dot","value":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.40.1 (20161225.0304)\n -->\n<!-- Title: %0 Pages: 1 -->\n<svg width=\"591pt\" height=\"606pt\"\n viewBox=\"0.00 0.00 590.82 606.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 602)\">\n<title>%0</title>\n<polygon fill=\"#ffffff\" stroke=\"transparent\" points=\"-4,4 -4,-602 586.8222,-602 586.8222,4 -4,4\"/>\n<g id=\"clust1\" class=\"cluster\">\n<title>cluster_chunks</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"207.7196,-8 207.7196,-590 574.8222,-590 574.8222,-8 207.7196,-8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-573.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">chunks</text>\n</g>\n<g id=\"clust2\" class=\"cluster\">\n<title>cluster_chunkGroups</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"8,-226 8,-411 187.7196,-411 187.7196,-226 8,-226\"/>\n<text text-anchor=\"middle\" x=\"97.8598\" y=\"-394.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">chunkGroups</text>\n</g>\n<!-- id0 -->\n<g id=\"node1\" class=\"node\">\n<title>id0</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M296.5086,-295.8C296.5086,-295.8 486.0332,-295.8 486.0332,-295.8 492.0332,-295.8 498.0332,-301.8 498.0332,-307.8 498.0332,-307.8 498.0332,-358.2 498.0332,-358.2 498.0332,-364.2 492.0332,-370.2 486.0332,-370.2 486.0332,-370.2 296.5086,-370.2 296.5086,-370.2 290.5086,-370.2 284.5086,-364.2 284.5086,-358.2 284.5086,-358.2 284.5086,-307.8 284.5086,-307.8 284.5086,-301.8 290.5086,-295.8 296.5086,-295.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-353.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 0</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"284.5086,-345.4 498.0332,-345.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-328.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: 0&#45;d55d2d6645e11739b63c.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"284.5086,-320.6 498.0332,-320.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-304\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">common libs (e.g react)</text>\n</g>\n<!-- id1 -->\n<g id=\"node2\" class=\"node\">\n<title>id1</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M297.6867,-388.8C297.6867,-388.8 484.8551,-388.8 484.8551,-388.8 490.8551,-388.8 496.8551,-394.8 496.8551,-400.8 496.8551,-400.8 496.8551,-451.2 496.8551,-451.2 496.8551,-457.2 490.8551,-463.2 484.8551,-463.2 484.8551,-463.2 297.6867,-463.2 297.6867,-463.2 291.6867,-463.2 285.6867,-457.2 285.6867,-451.2 285.6867,-451.2 285.6867,-400.8 285.6867,-400.8 285.6867,-394.8 291.6867,-388.8 297.6867,-388.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-446.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 1</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"285.6867,-438.4 496.8551,-438.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-421.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: 1&#45;4c94a37dc2061cb7beb9.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"285.6867,-413.6 496.8551,-413.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-397\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">more common libs</text>\n</g>\n<!-- id5 -->\n<g id=\"node3\" class=\"node\">\n<title>id5</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M291.4637,-109.8C291.4637,-109.8 491.0781,-109.8 491.0781,-109.8 497.0781,-109.8 503.0781,-115.8 503.0781,-121.8 503.0781,-121.8 503.0781,-172.2 503.0781,-172.2 503.0781,-178.2 497.0781,-184.2 491.0781,-184.2 491.0781,-184.2 291.4637,-184.2 291.4637,-184.2 285.4637,-184.2 279.4637,-178.2 279.4637,-172.2 279.4637,-172.2 279.4637,-121.8 279.4637,-121.8 279.4637,-115.8 285.4637,-109.8 291.4637,-109.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-167.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 5</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"279.4637,-159.4 503.0781,-159.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-142.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: app&#45;2e49587d85e03a033f58.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"279.4637,-134.6 503.0781,-134.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-118\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">Gatsby core app</text>\n</g>\n<!-- id42 -->\n<g id=\"node4\" class=\"node\">\n<title>id42</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M255.3409,-16.8C255.3409,-16.8 527.2009,-16.8 527.2009,-16.8 533.2009,-16.8 539.2009,-22.8 539.2009,-28.8 539.2009,-28.8 539.2009,-79.2 539.2009,-79.2 539.2009,-85.2 533.2009,-91.2 527.2009,-91.2 527.2009,-91.2 255.3409,-91.2 255.3409,-91.2 249.3409,-91.2 243.3409,-85.2 243.3409,-79.2 243.3409,-79.2 243.3409,-28.8 243.3409,-28.8 243.3409,-22.8 249.3409,-16.8 255.3409,-16.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-74.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 42</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"243.3409,-66.4 539.2009,-66.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-49.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: webpack&#45;runtime&#45;e402cdceeae5fad2aa61.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"243.3409,-41.6 539.2009,-41.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-25\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">webpack runtime</text>\n</g>\n<!-- id7 -->\n<g id=\"node5\" class=\"node\">\n<title>id7</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M227.7196,-481.8C227.7196,-481.8 554.8222,-481.8 554.8222,-481.8 560.8222,-481.8 566.8222,-487.8 566.8222,-493.8 566.8222,-493.8 566.8222,-544.2 566.8222,-544.2 566.8222,-550.2 560.8222,-556.2 554.8222,-556.2 554.8222,-556.2 227.7196,-556.2 227.7196,-556.2 221.7196,-556.2 215.7196,-550.2 215.7196,-544.2 215.7196,-544.2 215.7196,-493.8 215.7196,-493.8 215.7196,-487.8 221.7196,-481.8 227.7196,-481.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-539.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 7</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"215.7196,-531.4 566.8222,-531.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-514.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: component&#45;&#45;&#45;src&#45;blog&#45;1&#45;js&#45;cebc3ae7596cbb5b0951.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"215.7196,-506.6 566.8222,-506.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-490\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">js for src/blog/1.js</text>\n</g>\n<!-- id8 -->\n<g id=\"node6\" class=\"node\">\n<title>id8</title>\n<path fill=\"#d3d3d3\" stroke=\"#000000\" d=\"M227.7196,-202.8C227.7196,-202.8 554.8222,-202.8 554.8222,-202.8 560.8222,-202.8 566.8222,-208.8 566.8222,-214.8 566.8222,-214.8 566.8222,-265.2 566.8222,-265.2 566.8222,-271.2 560.8222,-277.2 554.8222,-277.2 554.8222,-277.2 227.7196,-277.2 227.7196,-277.2 221.7196,-277.2 215.7196,-271.2 215.7196,-265.2 215.7196,-265.2 215.7196,-214.8 215.7196,-214.8 215.7196,-208.8 221.7196,-202.8 227.7196,-202.8\"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-260.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">id: 8</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"215.7196,-252.4 566.8222,-252.4 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-235.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">asset: component&#45;&#45;&#45;src&#45;blog&#45;2&#45;js&#45;cebc3ae7596cbb5b0951.js</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"215.7196,-227.6 566.8222,-227.6 \"/>\n<text text-anchor=\"middle\" x=\"391.2709\" y=\"-211\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">js for src/blog/2.js</text>\n</g>\n<!-- app -->\n<g id=\"node7\" class=\"node\">\n<title>app</title>\n<polygon fill=\"#d3d3d3\" stroke=\"#000000\" points=\"124.8598,-270 70.8598,-270 70.8598,-234 124.8598,-234 124.8598,-270\"/>\n<text text-anchor=\"middle\" x=\"97.8598\" y=\"-247.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">app</text>\n</g>\n<!-- app&#45;&gt;id5 -->\n<g id=\"edge1\" class=\"edge\">\n<title>app&#45;&gt;id5</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M124.9515,-234.9996C146.6542,-221.9925 178.2414,-204.4064 207.7196,-193 227.2922,-185.4265 248.5264,-178.7684 269.3742,-173.0403\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"270.4928,-176.364 279.242,-170.3889 268.6763,-169.6038 270.4928,-176.364\"/>\n</g>\n<!-- app&#45;&gt;id42 -->\n<g id=\"edge2\" class=\"edge\">\n<title>app&#45;&gt;id42</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M105.7868,-233.8172C120.792,-201.6142 156.496,-134.6883 207.7196,-100 215.8801,-94.4738 224.6487,-89.611 233.7707,-85.3322\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"235.2746,-88.4941 243.0012,-81.245 232.4404,-82.0935 235.2746,-88.4941\"/>\n</g>\n<!-- component1 -->\n<g id=\"node8\" class=\"node\">\n<title>component1</title>\n<polygon fill=\"#d3d3d3\" stroke=\"#000000\" points=\"179.5796,-378 16.14,-378 16.14,-342 179.5796,-342 179.5796,-378\"/>\n<text text-anchor=\"middle\" x=\"97.8598\" y=\"-355.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">component&#45;&#45;&#45;src&#45;blog&#45;1&#45;js</text>\n</g>\n<!-- component1&#45;&gt;id0 -->\n<g id=\"edge4\" class=\"edge\">\n<title>component1&#45;&gt;id0</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M179.5911,-352.479C208.892,-349.7827 242.5262,-346.6876 274.2313,-343.7701\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"274.8123,-347.2315 284.4495,-342.8298 274.1708,-340.261 274.8123,-347.2315\"/>\n</g>\n<!-- component1&#45;&gt;id1 -->\n<g id=\"edge5\" class=\"edge\">\n<title>component1&#45;&gt;id1</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M178.0357,-378.0348C208.0973,-384.7969 242.8874,-392.6226 275.5337,-399.966\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"275.0646,-403.4479 285.5889,-402.2279 276.6008,-396.6185 275.0646,-403.4479\"/>\n</g>\n<!-- component1&#45;&gt;id7 -->\n<g id=\"edge3\" class=\"edge\">\n<title>component1&#45;&gt;id7</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M110.4872,-378.309C128.8885,-403.5575 165.5152,-448.6939 207.7196,-473 210.2551,-474.4602 212.8363,-475.8745 215.457,-477.2443\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"213.9963,-480.4266 224.5104,-481.7322 217.1053,-474.1549 213.9963,-480.4266\"/>\n</g>\n<!-- component2 -->\n<g id=\"node9\" class=\"node\">\n<title>component2</title>\n<polygon fill=\"#d3d3d3\" stroke=\"#000000\" points=\"179.5796,-324 16.14,-324 16.14,-288 179.5796,-288 179.5796,-324\"/>\n<text text-anchor=\"middle\" x=\"97.8598\" y=\"-301.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">component&#45;&#45;&#45;src&#45;blog&#45;2&#45;js</text>\n</g>\n<!-- component2&#45;&gt;id0 -->\n<g id=\"edge7\" class=\"edge\">\n<title>component2&#45;&gt;id0</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M179.5911,-313.521C208.892,-316.2173 242.5262,-319.3124 274.2313,-322.2299\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"274.1708,-325.739 284.4495,-323.1702 274.8123,-318.7685 274.1708,-325.739\"/>\n</g>\n<!-- component2&#45;&gt;id1 -->\n<g id=\"edge8\" class=\"edge\">\n<title>component2&#45;&gt;id1</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M175.3667,-324.1025C179.7884,-326.6834 183.9572,-329.6318 187.7196,-333 204.6334,-348.142 190.4595,-365.2539 207.7196,-380 226.9035,-396.3898 251.098,-407.0856 275.5698,-414.0288\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"274.7568,-417.434 285.3188,-416.5999 276.542,-410.6654 274.7568,-417.434\"/>\n</g>\n<!-- component2&#45;&gt;id8 -->\n<g id=\"edge6\" class=\"edge\">\n<title>component2&#45;&gt;id8</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M178.0357,-287.9652C190.0017,-285.2736 202.717,-282.4134 215.748,-279.4822\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"216.7792,-282.8378 225.7673,-277.2284 215.243,-276.0084 216.7792,-282.8378\"/>\n</g>\n</g>\n</svg>\n","position":{"start":{"line":36,"column":1,"offset":3672},"end":{"line":71,"column":4,"offset":4834},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In the above graph, we can see 3 chunk groups: 2 pages and the core Gatsby app. The two pages share a bunch of libraries. Webpack found these common dependencies and created chunks for them. These chunks are id 0 and 1. And you’ll see that both page ","position":{"start":{"line":73,"column":1,"offset":4836},"end":{"line":73,"column":251,"offset":5086},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">chunkGroups</code>","position":{"start":{"line":73,"column":251,"offset":5086},"end":{"line":73,"column":264,"offset":5099},"indent":[]}},{"type":"text","value":" depend on them. Each page also depends on its own chunk which represents the page’s core code (from its src code in the Gatsby site). These would be id 7 for ","position":{"start":{"line":73,"column":264,"offset":5099},"end":{"line":73,"column":423,"offset":5258},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component---src-blog-1-js</code>","position":{"start":{"line":73,"column":423,"offset":5258},"end":{"line":73,"column":450,"offset":5285},"indent":[]}},{"type":"text","value":" and 8 for ","position":{"start":{"line":73,"column":450,"offset":5285},"end":{"line":73,"column":461,"offset":5296},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component---src-blog-2-js</code>","position":{"start":{"line":73,"column":461,"offset":5296},"end":{"line":73,"column":488,"offset":5323},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":73,"column":488,"offset":5323},"end":{"line":73,"column":489,"offset":5324},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":4836},"end":{"line":73,"column":489,"offset":5324},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can also see the chunk group for ","position":{"start":{"line":75,"column":1,"offset":5326},"end":{"line":75,"column":37,"offset":5362},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">app</code>","position":{"start":{"line":75,"column":37,"offset":5362},"end":{"line":75,"column":42,"offset":5367},"indent":[]}},{"type":"text","value":". It turns out that this shares no dependencies with the pages. But it does include the webpack runtime whose name is declared in ","position":{"start":{"line":75,"column":42,"offset":5367},"end":{"line":75,"column":172,"offset":5497},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js#L438","children":[{"type":"text","value":"webpack.config.js","position":{"start":{"line":75,"column":173,"offset":5498},"end":{"line":75,"column":190,"offset":5515},"indent":[]}}],"position":{"start":{"line":75,"column":172,"offset":5497},"end":{"line":75,"column":288,"offset":5613},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":75,"column":288,"offset":5613},"end":{"line":75,"column":289,"offset":5614},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":5326},"end":{"line":75,"column":289,"offset":5614},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember that the chunk group name was assigned by the ","position":{"start":{"line":77,"column":1,"offset":5616},"end":{"line":77,"column":56,"offset":5671},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/* webpackChunkName: .../*</code>","position":{"start":{"line":77,"column":56,"offset":5671},"end":{"line":77,"column":84,"offset":5699},"indent":[]}},{"type":"text","value":" in the previous section.","position":{"start":{"line":77,"column":84,"offset":5699},"end":{"line":77,"column":109,"offset":5724},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":5616},"end":{"line":77,"column":109,"offset":5724},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#referencing-chunks-in-build-html","title":null,"data":{"hProperties":{"aria-label":"referencing chunks in build html permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Referencing chunks in build HTML","position":{"start":{"line":79,"column":4,"offset":5729},"end":{"line":79,"column":36,"offset":5761},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":5726},"end":{"line":79,"column":36,"offset":5761},"indent":[]},"data":{"id":"referencing-chunks-in-build-html","htmlAttributes":{"id":"referencing-chunks-in-build-html"},"hProperties":{"id":"referencing-chunks-in-build-html"}}},{"type":"paragraph","children":[{"type":"text","value":"Webpack can now split our code into different bundles, and we’ve named them appropriately. But those bundles will still be named with a content hash. E.g for a component ","position":{"start":{"line":81,"column":1,"offset":5763},"end":{"line":81,"column":171,"offset":5933},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component--src-blog-js</code>","position":{"start":{"line":81,"column":171,"offset":5933},"end":{"line":81,"column":195,"offset":5957},"indent":[]}},{"type":"text","value":", the output chunk bundle might be named something like ","position":{"start":{"line":81,"column":195,"offset":5957},"end":{"line":81,"column":251,"offset":6013},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component--src-blog-js-2e49587d85e03a033f58.js</code>","position":{"start":{"line":81,"column":251,"offset":6013},"end":{"line":81,"column":299,"offset":6061},"indent":[]}},{"type":"text","value":". Webpack will replace ","position":{"start":{"line":81,"column":299,"offset":6061},"end":{"line":81,"column":322,"offset":6084},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">import()</code>","position":{"start":{"line":81,"column":322,"offset":6084},"end":{"line":81,"column":332,"offset":6094},"indent":[]}},{"type":"text","value":" calls with links to the generated bundle filenames. This works great for our pure JavaScript bundles. But things get complicated when generating our page HTML files.","position":{"start":{"line":81,"column":332,"offset":6094},"end":{"line":81,"column":498,"offset":6260},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":5763},"end":{"line":81,"column":498,"offset":6260},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"HTML file generation is covered under the ","position":{"start":{"line":83,"column":1,"offset":6262},"end":{"line":83,"column":43,"offset":6304},"indent":[]}},{"type":"link","title":null,"url":"/docs/html-generation/","children":[{"type":"text","value":"Page HTML Generation","position":{"start":{"line":83,"column":44,"offset":6305},"end":{"line":83,"column":64,"offset":6325},"indent":[]}}],"position":{"start":{"line":83,"column":43,"offset":6304},"end":{"line":83,"column":89,"offset":6350},"indent":[]}},{"type":"text","value":" docs. In summary, webpack builds ","position":{"start":{"line":83,"column":89,"offset":6350},"end":{"line":83,"column":123,"offset":6384},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">static-entry.js</code>","position":{"start":{"line":83,"column":123,"offset":6384},"end":{"line":83,"column":140,"offset":6401},"indent":[]}},{"type":"text","value":" which produces a ","position":{"start":{"line":83,"column":140,"offset":6401},"end":{"line":83,"column":158,"offset":6419},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">page-renderer.js</code>","position":{"start":{"line":83,"column":158,"offset":6419},"end":{"line":83,"column":176,"offset":6437},"indent":[]}},{"type":"text","value":" bundle. This is a function that accepts a page and renders its HTML. The HTML is enough to drive a site, and enhance SEO, but once the page is loaded, Gatsby also loads the JavaScript bundle so that page rendering occurs clientside from then on. This gives the advantage of fast initial page loads combined with client side rendering for future page clicks.","position":{"start":{"line":83,"column":176,"offset":6437},"end":{"line":83,"column":534,"offset":6795},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":6262},"end":{"line":83,"column":534,"offset":6795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To do this, we need to be able to create ","position":{"start":{"line":85,"column":1,"offset":6797},"end":{"line":85,"column":42,"offset":6838},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;link&gt;</code>","position":{"start":{"line":85,"column":42,"offset":6838},"end":{"line":85,"column":50,"offset":6846},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":85,"column":50,"offset":6846},"end":{"line":85,"column":55,"offset":6851},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;script&gt;</code>","position":{"start":{"line":85,"column":55,"offset":6851},"end":{"line":85,"column":65,"offset":6861},"indent":[]}},{"type":"text","value":" tags in the HTML the Gatsby runtime chunk, and the page chunk (e.g index). But as mentioned above, only webpack knows the name of the generated filename for each chunk. All Gatsby knows is the ","position":{"start":{"line":85,"column":65,"offset":6861},"end":{"line":85,"column":259,"offset":7055},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">componentChunkName</code>","position":{"start":{"line":85,"column":259,"offset":7055},"end":{"line":85,"column":279,"offset":7075},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":85,"column":279,"offset":7075},"end":{"line":85,"column":280,"offset":7076},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":6797},"end":{"line":85,"column":280,"offset":7076},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#webpackstatsjson","title":null,"data":{"hProperties":{"aria-label":"webpackstatsjson permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"webpack.stats.json","position":{"start":{"line":87,"column":6,"offset":7083},"end":{"line":87,"column":24,"offset":7101},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":7078},"end":{"line":87,"column":24,"offset":7101},"indent":[]},"data":{"id":"webpackstatsjson","htmlAttributes":{"id":"webpackstatsjson"},"hProperties":{"id":"webpackstatsjson"}}},{"type":"paragraph","children":[{"type":"text","value":"It turns out that webpack provides a way to record the mapping. It provides a compilation hook called ","position":{"start":{"line":89,"column":1,"offset":7103},"end":{"line":89,"column":103,"offset":7205},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/api/compiler-hooks/#done","children":[{"type":"text","value":"done","position":{"start":{"line":89,"column":104,"offset":7206},"end":{"line":89,"column":108,"offset":7210},"indent":[]}}],"position":{"start":{"line":89,"column":103,"offset":7205},"end":{"line":89,"column":158,"offset":7260},"indent":[]}},{"type":"text","value":" that you can register for. It provides a ","position":{"start":{"line":89,"column":158,"offset":7260},"end":{"line":89,"column":200,"offset":7302},"indent":[]}},{"type":"link","title":null,"url":"https://webpack.js.org/api/stats/","children":[{"type":"text","value":"stats","position":{"start":{"line":89,"column":201,"offset":7303},"end":{"line":89,"column":206,"offset":7308},"indent":[]}}],"position":{"start":{"line":89,"column":200,"offset":7302},"end":{"line":89,"column":242,"offset":7344},"indent":[]}},{"type":"text","value":" data structure that contains all the ","position":{"start":{"line":89,"column":242,"offset":7344},"end":{"line":89,"column":280,"offset":7382},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">chunkGroups</code>","position":{"start":{"line":89,"column":280,"offset":7382},"end":{"line":89,"column":293,"offset":7395},"indent":[]}},{"type":"text","value":" (remember that the chunk Group is the ","position":{"start":{"line":89,"column":293,"offset":7395},"end":{"line":89,"column":332,"offset":7434},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">componentChunkName</code>","position":{"start":{"line":89,"column":332,"offset":7434},"end":{"line":89,"column":352,"offset":7454},"indent":[]}},{"type":"text","value":"). Each chunk group contains a list of the chunks it depends on. Gatsby provides a custom webpack plugin called ","position":{"start":{"line":89,"column":352,"offset":7454},"end":{"line":89,"column":464,"offset":7566},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/gatsby-webpack-stats-extractor.js","children":[{"type":"text","value":"GatsbyWebpackStatsExtractor","position":{"start":{"line":89,"column":465,"offset":7567},"end":{"line":89,"column":492,"offset":7594},"indent":[]}}],"position":{"start":{"line":89,"column":464,"offset":7566},"end":{"line":89,"column":601,"offset":7703},"indent":[]}},{"type":"text","value":" that implements this hook and writes the chunk information to ","position":{"start":{"line":89,"column":601,"offset":7703},"end":{"line":89,"column":664,"offset":7766},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/public/webpack.stats.json</code>","position":{"start":{"line":89,"column":664,"offset":7766},"end":{"line":89,"column":692,"offset":7794},"indent":[]}},{"type":"text","value":" (under the ","position":{"start":{"line":89,"column":692,"offset":7794},"end":{"line":89,"column":704,"offset":7806},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">assetsByChunkName</code>","position":{"start":{"line":89,"column":704,"offset":7806},"end":{"line":89,"column":723,"offset":7825},"indent":[]}},{"type":"text","value":" key). E.g","position":{"start":{"line":89,"column":723,"offset":7825},"end":{"line":89,"column":733,"offset":7835},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":7103},"end":{"line":89,"column":733,"offset":7835},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"assetsByChunkName\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"app\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"webpack-runtime-e402cdceeae5fad2aa61.js\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"app-2e49587d85e03a033f58.js\"</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"component---src-blog-2-js\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"0.f8e7f9e53550f997bc53.css\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"0-d55d2d6645e11739b63c.js\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"1.93002d5bafe5ca491b1a.css\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"1-4c94a37dc2061cb7beb9.js\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"component---src-blog-2-js-cebc3ae7596cbb5b0951.js\"</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":91,"column":1,"offset":7837},"end":{"line":107,"column":4,"offset":8233},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":5,"children":[{"type":"link","url":"#chunk-mapjson","title":null,"data":{"hProperties":{"aria-label":"chunk mapjson permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"chunk-map.json","position":{"start":{"line":109,"column":7,"offset":8241},"end":{"line":109,"column":21,"offset":8255},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":8235},"end":{"line":109,"column":21,"offset":8255},"indent":[]},"data":{"id":"chunk-mapjson","htmlAttributes":{"id":"chunk-mapjson"},"hProperties":{"id":"chunk-mapjson"}}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">webpack.stats.json</code>","position":{"start":{"line":111,"column":1,"offset":8257},"end":{"line":111,"column":21,"offset":8277},"indent":[]}},{"type":"text","value":" maps chunk groups (componentChunkNames) to the chunk asset names they depend on. Our ","position":{"start":{"line":111,"column":21,"offset":8277},"end":{"line":111,"column":107,"offset":8363},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js#L234","children":[{"type":"text","value":"Gatsby webpack compiler hook","position":{"start":{"line":111,"column":108,"offset":8364},"end":{"line":111,"column":136,"offset":8392},"indent":[]}}],"position":{"start":{"line":111,"column":107,"offset":8363},"end":{"line":111,"column":234,"offset":8490},"indent":[]}},{"type":"text","value":" also outputs ","position":{"start":{"line":111,"column":234,"offset":8490},"end":{"line":111,"column":248,"offset":8504},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">chunk-map.json</code>","position":{"start":{"line":111,"column":248,"offset":8504},"end":{"line":111,"column":264,"offset":8520},"indent":[]}},{"type":"text","value":" which is a mapping from chunkGroup to the core chunk for the component, as opposed to the shared chunks (id0 and id1 in ","position":{"start":{"line":111,"column":264,"offset":8520},"end":{"line":111,"column":385,"offset":8641},"indent":[]}},{"type":"link","title":null,"url":"/docs/how-code-splitting-works/#primer-on-chunkgroups-and-chunks","children":[{"type":"text","value":"primer diagram","position":{"start":{"line":111,"column":386,"offset":8642},"end":{"line":111,"column":400,"offset":8656},"indent":[]}}],"position":{"start":{"line":111,"column":385,"offset":8641},"end":{"line":111,"column":467,"offset":8723},"indent":[]}},{"type":"text","value":"). This will render a single component chunk for JavaScript and CSS within each chunk group. E.g","position":{"start":{"line":111,"column":467,"offset":8723},"end":{"line":111,"column":563,"offset":8819},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":8257},"end":{"line":111,"column":563,"offset":8819},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"app\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"/app-2e49587d85e03a033f58.js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"component---src-blog-2-js\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"/component---src-blog-2-js-cebc3ae7596cbb5b0951.css\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"/component---src-blog-2-js-860f9fbc5c3881586b5d.js\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":113,"column":1,"offset":8821},"end":{"line":121,"column":4,"offset":9037},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#referencing-chunks","title":null,"data":{"hProperties":{"aria-label":"referencing chunks permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Referencing Chunks","position":{"start":{"line":123,"column":6,"offset":9044},"end":{"line":123,"column":24,"offset":9062},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":9039},"end":{"line":123,"column":24,"offset":9062},"indent":[]},"data":{"id":"referencing-chunks","htmlAttributes":{"id":"referencing-chunks"},"hProperties":{"id":"referencing-chunks"}}},{"type":"paragraph","children":[{"type":"text","value":"These two files are loaded by ","position":{"start":{"line":125,"column":1,"offset":9064},"end":{"line":125,"column":31,"offset":9094},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L16","children":[{"type":"text","value":"static-entry.js","position":{"start":{"line":125,"column":32,"offset":9095},"end":{"line":125,"column":47,"offset":9110},"indent":[]}}],"position":{"start":{"line":125,"column":31,"offset":9094},"end":{"line":125,"column":142,"offset":9205},"indent":[]}},{"type":"text","value":" so that it can lookup chunk assets for componentChunkNames. This occurs in two places.","position":{"start":{"line":125,"column":142,"offset":9205},"end":{"line":125,"column":229,"offset":9292},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":9064},"end":{"line":125,"column":229,"offset":9292},"indent":[]}},{"type":"heading","depth":5,"children":[{"type":"link","url":"#construct-link-and-script-tags-for-current-page","title":null,"data":{"hProperties":{"aria-label":"construct link and script tags for current page permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Construct link and script tags for current page","position":{"start":{"line":127,"column":7,"offset":9300},"end":{"line":127,"column":54,"offset":9347},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":9294},"end":{"line":127,"column":54,"offset":9347},"indent":[]},"data":{"id":"construct-link-and-script-tags-for-current-page","htmlAttributes":{"id":"construct-link-and-script-tags-for-current-page"},"hProperties":{"id":"construct-link-and-script-tags-for-current-page"}}},{"type":"paragraph","children":[{"type":"text","value":"As mentioned above, ","position":{"start":{"line":129,"column":1,"offset":9349},"end":{"line":129,"column":21,"offset":9369},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">static-entry.js</code>","position":{"start":{"line":129,"column":21,"offset":9369},"end":{"line":129,"column":38,"offset":9386},"indent":[]}},{"type":"text","value":" generates HTML, but also loads the Gatsby JavaScript runtime and the JavaScript for the page we’re generating HTML for. These are added as a ","position":{"start":{"line":129,"column":38,"offset":9386},"end":{"line":129,"column":180,"offset":9528},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">link</code>","position":{"start":{"line":129,"column":180,"offset":9528},"end":{"line":129,"column":186,"offset":9534},"indent":[]}},{"type":"text","value":" tags in the ","position":{"start":{"line":129,"column":186,"offset":9534},"end":{"line":129,"column":199,"offset":9547},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;head&gt;</code>","position":{"start":{"line":129,"column":199,"offset":9547},"end":{"line":129,"column":207,"offset":9555},"indent":[]}},{"type":"text","value":" (see ","position":{"start":{"line":129,"column":207,"offset":9555},"end":{"line":129,"column":213,"offset":9561},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content","children":[{"type":"text","value":"link tag preloading","position":{"start":{"line":129,"column":214,"offset":9562},"end":{"line":129,"column":233,"offset":9581},"indent":[]}}],"position":{"start":{"line":129,"column":213,"offset":9561},"end":{"line":129,"column":304,"offset":9652},"indent":[]}},{"type":"text","value":"), and then referenced at the bottom of the body in ","position":{"start":{"line":129,"column":304,"offset":9652},"end":{"line":129,"column":356,"offset":9704},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">script</code>","position":{"start":{"line":129,"column":356,"offset":9704},"end":{"line":129,"column":364,"offset":9712},"indent":[]}},{"type":"text","value":" tags.","position":{"start":{"line":129,"column":364,"offset":9712},"end":{"line":129,"column":370,"offset":9718},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":9349},"end":{"line":129,"column":370,"offset":9718},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Gatsby runtime bundle is called ","position":{"start":{"line":131,"column":1,"offset":9720},"end":{"line":131,"column":37,"offset":9756},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">app</code>","position":{"start":{"line":131,"column":37,"offset":9756},"end":{"line":131,"column":42,"offset":9761},"indent":[]}},{"type":"text","value":" (output name from ","position":{"start":{"line":131,"column":42,"offset":9761},"end":{"line":131,"column":61,"offset":9780},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js#L164","children":[{"type":"text","value":"webpack.config.js","position":{"start":{"line":131,"column":62,"offset":9781},"end":{"line":131,"column":79,"offset":9798},"indent":[]}}],"position":{"start":{"line":131,"column":61,"offset":9780},"end":{"line":131,"column":177,"offset":9896},"indent":[]}},{"type":"text","value":"). We ","position":{"start":{"line":131,"column":177,"offset":9896},"end":{"line":131,"column":183,"offset":9902},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L195","children":[{"type":"text","value":"lookup assetsByChunkName","position":{"start":{"line":131,"column":184,"offset":9903},"end":{"line":131,"column":208,"offset":9927},"indent":[]}}],"position":{"start":{"line":131,"column":183,"offset":9902},"end":{"line":131,"column":304,"offset":10023},"indent":[]}},{"type":"text","value":" by ","position":{"start":{"line":131,"column":304,"offset":10023},"end":{"line":131,"column":308,"offset":10027},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">app</code>","position":{"start":{"line":131,"column":308,"offset":10027},"end":{"line":131,"column":313,"offset":10032},"indent":[]}},{"type":"text","value":" to get its chunk asset files. Then we do the same for the component by looking up the same collection by ","position":{"start":{"line":131,"column":313,"offset":10032},"end":{"line":131,"column":419,"offset":10138},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">componentChunkName</code>","position":{"start":{"line":131,"column":419,"offset":10138},"end":{"line":131,"column":439,"offset":10158},"indent":[]}},{"type":"text","value":" (e.g. ","position":{"start":{"line":131,"column":439,"offset":10158},"end":{"line":131,"column":446,"offset":10165},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component---src-blog-2-js</code>","position":{"start":{"line":131,"column":446,"offset":10165},"end":{"line":131,"column":473,"offset":10192},"indent":[]}},{"type":"text","value":"). These two chunk asset arrays are merged together. For each chunk in it, we create the following link and add it to the ","position":{"start":{"line":131,"column":473,"offset":10192},"end":{"line":131,"column":595,"offset":10314},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L259","children":[{"type":"text","value":"headComponents","position":{"start":{"line":131,"column":596,"offset":10315},"end":{"line":131,"column":610,"offset":10329},"indent":[]}}],"position":{"start":{"line":131,"column":595,"offset":10314},"end":{"line":131,"column":706,"offset":10425},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":131,"column":706,"offset":10425},"end":{"line":131,"column":707,"offset":10426},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":9720},"end":{"line":131,"column":707,"offset":10426},"indent":[]}},{"type":"html","lang":"html","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n  <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>script<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-2e49587d85e03a033f58.js<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/app-2e49587d85e03a033f58.js<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>","position":{"start":{"line":133,"column":1,"offset":10428},"end":{"line":140,"column":4,"offset":10552},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">rel=&quot;preload&quot;</code>","position":{"start":{"line":142,"column":1,"offset":10554},"end":{"line":142,"column":16,"offset":10569},"indent":[]}},{"type":"text","value":" tells the browser to start downloading this resource with a high priority as it will likely be referenced further down in the document. So hopefully by the time we get there, the resource will be returned from the server already.","position":{"start":{"line":142,"column":16,"offset":10569},"end":{"line":142,"column":246,"offset":10799},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":10554},"end":{"line":142,"column":246,"offset":10799},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Then, at the ","position":{"start":{"line":144,"column":1,"offset":10801},"end":{"line":144,"column":14,"offset":10814},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L331","children":[{"type":"text","value":"end of the body","position":{"start":{"line":144,"column":15,"offset":10815},"end":{"line":144,"column":30,"offset":10830},"indent":[]}}],"position":{"start":{"line":144,"column":14,"offset":10814},"end":{"line":144,"column":126,"offset":10926},"indent":[]}},{"type":"text","value":", we include the actual script tag that references the preloaded asset.","position":{"start":{"line":144,"column":126,"offset":10926},"end":{"line":144,"column":197,"offset":10997},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":10801},"end":{"line":144,"column":197,"offset":10997},"indent":[]}},{"type":"html","lang":"html","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n  <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-2e49587d85e03a033f58.js<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-2e49587d85e03a033f58.js<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">async</span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>","position":{"start":{"line":146,"column":1,"offset":10999},"end":{"line":152,"column":4,"offset":11101},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If the asset is CSS, we ","position":{"start":{"line":154,"column":1,"offset":11103},"end":{"line":154,"column":25,"offset":11127},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L302","children":[{"type":"text","value":"inject it inline in the head","position":{"start":{"line":154,"column":26,"offset":11128},"end":{"line":154,"column":54,"offset":11156},"indent":[]}}],"position":{"start":{"line":154,"column":25,"offset":11127},"end":{"line":154,"column":150,"offset":11252},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":154,"column":150,"offset":11252},"end":{"line":154,"column":151,"offset":11253},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":11103},"end":{"line":154,"column":151,"offset":11253},"indent":[]}},{"type":"html","lang":"html","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span>\n  <span class=\"token attr-name\">data-href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/1.93002d5bafe5ca491b1a.css<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">dangerouslySetInnerHTML</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>...contents of public/1.93002d5bafe5ca491b1a.css<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>","position":{"start":{"line":156,"column":1,"offset":11255},"end":{"line":161,"column":4,"offset":11395},"indent":[1,1,1,1,1]}},{"type":"heading","depth":5,"children":[{"type":"link","url":"#prefetching-chunks","title":null,"data":{"hProperties":{"aria-label":"prefetching chunks permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Prefetching chunks","position":{"start":{"line":163,"column":7,"offset":11403},"end":{"line":163,"column":25,"offset":11421},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":11397},"end":{"line":163,"column":25,"offset":11421},"indent":[]},"data":{"id":"prefetching-chunks","htmlAttributes":{"id":"prefetching-chunks"},"hProperties":{"id":"prefetching-chunks"}}},{"type":"paragraph","children":[{"type":"text","value":"As shown above, Gatsby uses “preload” to speed up loading of resources required by the page. These are its CSS and its core JavaScript needed to run the page. But if we stopped there, then when a user clicked a link to another page, we would have to wait for that pages resources to download before showing it. To speed this up, once the current page has loaded, Gatsby looks for all links on the page, and for each starts prefetching the page that the link points to.","position":{"start":{"line":165,"column":1,"offset":11423},"end":{"line":165,"column":469,"offset":11891},"indent":[]}}],"position":{"start":{"line":165,"column":1,"offset":11423},"end":{"line":165,"column":469,"offset":11891},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It does this using the ","position":{"start":{"line":167,"column":1,"offset":11893},"end":{"line":167,"column":24,"offset":11916},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;link rel=&quot;prefetch&quot; href=&quot;...&quot; /&gt;</code>","position":{"start":{"line":167,"column":24,"offset":11916},"end":{"line":167,"column":60,"offset":11952},"indent":[]}},{"type":"text","value":" parameter. When the browser sees this tag, it will start downloading the resource but at an extremely low priority and only when the resources for the current page have finished loading. Check out the ","position":{"start":{"line":167,"column":60,"offset":11952},"end":{"line":167,"column":262,"offset":12154},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Link_prefetching_FAQ","children":[{"type":"text","value":"MDN prefetch docs","position":{"start":{"line":167,"column":263,"offset":12155},"end":{"line":167,"column":280,"offset":12172},"indent":[]}}],"position":{"start":{"line":167,"column":262,"offset":12154},"end":{"line":167,"column":353,"offset":12245},"indent":[]}},{"type":"text","value":" for more.","position":{"start":{"line":167,"column":353,"offset":12245},"end":{"line":167,"column":363,"offset":12255},"indent":[]}}],"position":{"start":{"line":167,"column":1,"offset":11893},"end":{"line":167,"column":363,"offset":12255},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here’s how it works. All links on Gatsby sites use the ","position":{"start":{"line":169,"column":1,"offset":12257},"end":{"line":169,"column":56,"offset":12312},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-link","children":[{"type":"text","value":"gatsby-link","position":{"start":{"line":169,"column":57,"offset":12313},"end":{"line":169,"column":68,"offset":12324},"indent":[]}}],"position":{"start":{"line":169,"column":56,"offset":12312},"end":{"line":169,"column":138,"offset":12394},"indent":[]}},{"type":"text","value":" plugin which provides a ","position":{"start":{"line":169,"column":138,"offset":12394},"end":{"line":169,"column":163,"offset":12419},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">GatsbyLink</code>","position":{"start":{"line":169,"column":163,"offset":12419},"end":{"line":169,"column":175,"offset":12431},"indent":[]}},{"type":"text","value":" component that uses reach router. The “to” attribute is the page the browser will navigate to if clicked. So once the Link ","position":{"start":{"line":169,"column":175,"offset":12431},"end":{"line":169,"column":299,"offset":12555},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-link/src/index.js#L57","children":[{"type":"text","value":"componentDidMount","position":{"start":{"line":169,"column":300,"offset":12556},"end":{"line":169,"column":317,"offset":12573},"indent":[]}}],"position":{"start":{"line":169,"column":299,"offset":12555},"end":{"line":169,"column":404,"offset":12660},"indent":[]}},{"type":"text","value":" callback is invoked, we enqueue the “to” path into the ","position":{"start":{"line":169,"column":404,"offset":12660},"end":{"line":169,"column":460,"offset":12716},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L188","children":[{"type":"text","value":"production-app loader","position":{"start":{"line":169,"column":461,"offset":12717},"end":{"line":169,"column":482,"offset":12738},"indent":[]}}],"position":{"start":{"line":169,"column":460,"offset":12716},"end":{"line":169,"column":572,"offset":12828},"indent":[]}},{"type":"text","value":" for prefetching.","position":{"start":{"line":169,"column":572,"offset":12828},"end":{"line":169,"column":589,"offset":12845},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":12257},"end":{"line":169,"column":589,"offset":12845},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At this stage, we know the page that we’re navigating to, and can retrieve its ","position":{"start":{"line":171,"column":1,"offset":12847},"end":{"line":171,"column":80,"offset":12926},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">componentChunkName</code>","position":{"start":{"line":171,"column":80,"offset":12926},"end":{"line":171,"column":100,"offset":12946},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":171,"column":100,"offset":12946},"end":{"line":171,"column":105,"offset":12951},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">jsonName</code>","position":{"start":{"line":171,"column":105,"offset":12951},"end":{"line":171,"column":115,"offset":12961},"indent":[]}},{"type":"text","value":", but how do we figure out the generated chunkGroup for the component?","position":{"start":{"line":171,"column":115,"offset":12961},"end":{"line":171,"column":185,"offset":13031},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":12847},"end":{"line":171,"column":185,"offset":13031},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">static-entry.js</code>","position":{"start":{"line":173,"column":1,"offset":13033},"end":{"line":173,"column":18,"offset":13050},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":173,"column":18,"offset":13050},"end":{"line":173,"column":19,"offset":13051},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L20","children":[{"type":"text","value":"requires ","position":{"start":{"line":173,"column":20,"offset":13052},"end":{"line":173,"column":29,"offset":13061},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">chunk-map.json</code>","position":{"start":{"line":173,"column":29,"offset":13061},"end":{"line":173,"column":45,"offset":13077},"indent":[]}}],"position":{"start":{"line":173,"column":19,"offset":13051},"end":{"line":173,"column":140,"offset":13172},"indent":[]}},{"type":"text","value":" and then ","position":{"start":{"line":173,"column":140,"offset":13172},"end":{"line":173,"column":150,"offset":13182},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/static-entry.js#L342","children":[{"type":"text","value":"injects it into the CDATA","position":{"start":{"line":173,"column":151,"offset":13183},"end":{"line":173,"column":176,"offset":13208},"indent":[]}}],"position":{"start":{"line":173,"column":150,"offset":13182},"end":{"line":173,"column":272,"offset":13304},"indent":[]}},{"type":"text","value":" of the html as ","position":{"start":{"line":173,"column":272,"offset":13304},"end":{"line":173,"column":288,"offset":13320},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">window.___chunkMapping</code>","position":{"start":{"line":173,"column":288,"offset":13320},"end":{"line":173,"column":312,"offset":13344},"indent":[]}},{"type":"text","value":" so that it is available to all code in ","position":{"start":{"line":173,"column":312,"offset":13344},"end":{"line":173,"column":352,"offset":13384},"indent":[]}},{"type":"link","title":null,"url":"/docs/production-app/","children":[{"type":"text","value":"production-app.js","position":{"start":{"line":173,"column":353,"offset":13385},"end":{"line":173,"column":370,"offset":13402},"indent":[]}}],"position":{"start":{"line":173,"column":352,"offset":13384},"end":{"line":173,"column":394,"offset":13426},"indent":[]}},{"type":"text","value":". E.g:","position":{"start":{"line":173,"column":394,"offset":13426},"end":{"line":173,"column":400,"offset":13432},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":13033},"end":{"line":173,"column":400,"offset":13432},"indent":[]}},{"type":"html","lang":"html","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">/*\n&lt;![\n  CDATA[ */\n    window.___chunkMapping={\n      \"app\":[\n        \"/app-2e49587d85e03a033f58.js\"\n      ],\n      \"component---src-blog-2-js\": [\n        \"/component---src-blog-2-js-cebc3ae7596cbb5b0951.css\",\n        \"/component---src-blog-2-js-860f9fbc5c3881586b5d.js\"\n      ]\n    }\n  */ ]\n]>\n*/</code></pre></div>","position":{"start":{"line":175,"column":1,"offset":13434},"end":{"line":191,"column":4,"offset":13743},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now the loader can create the full component asset path using ","position":{"start":{"line":193,"column":1,"offset":13745},"end":{"line":193,"column":63,"offset":13807},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L51","children":[{"type":"text","value":"chunkMapping","position":{"start":{"line":193,"column":64,"offset":13808},"end":{"line":193,"column":76,"offset":13820},"indent":[]}}],"position":{"start":{"line":193,"column":63,"offset":13807},"end":{"line":193,"column":165,"offset":13909},"indent":[]}},{"type":"text","value":". It then dynamically constructs a ","position":{"start":{"line":193,"column":165,"offset":13909},"end":{"line":193,"column":200,"offset":13944},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;link rel=&quot;prefetch&quot; ... /&gt;</code>","position":{"start":{"line":193,"column":200,"offset":13944},"end":{"line":193,"column":229,"offset":13973},"indent":[]}},{"type":"text","value":" tag and adds it to the DOM (in ","position":{"start":{"line":193,"column":229,"offset":13973},"end":{"line":193,"column":261,"offset":14005},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/prefetch.js","children":[{"type":"text","value":"prefetch.js","position":{"start":{"line":193,"column":262,"offset":14006},"end":{"line":193,"column":273,"offset":14017},"indent":[]}}],"position":{"start":{"line":193,"column":261,"offset":14005},"end":{"line":193,"column":360,"offset":14104},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":193,"column":360,"offset":14104},"end":{"line":193,"column":362,"offset":14106},"indent":[]}}],"position":{"start":{"line":193,"column":1,"offset":13745},"end":{"line":193,"column":362,"offset":14106},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You may notice that prefetching doesn’t prefetch the shared chunks (e.g ","position":{"start":{"line":195,"column":1,"offset":14108},"end":{"line":195,"column":73,"offset":14180},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">id0</code>","position":{"start":{"line":195,"column":73,"offset":14180},"end":{"line":195,"column":78,"offset":14185},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":195,"column":78,"offset":14185},"end":{"line":195,"column":83,"offset":14190},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">id1</code>","position":{"start":{"line":195,"column":83,"offset":14190},"end":{"line":195,"column":88,"offset":14195},"indent":[]}},{"type":"text","value":"). Why? This is a punt. We’re guessing that shared chunks will have been loaded earlier for other pages. And if not, then the main page loading logic will download it. It just won’t be prefetched.","position":{"start":{"line":195,"column":88,"offset":14195},"end":{"line":195,"column":284,"offset":14391},"indent":[]}}],"position":{"start":{"line":195,"column":1,"offset":14108},"end":{"line":195,"column":284,"offset":14391},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"One more thing, prefetching can be disabled by implementing the ","position":{"start":{"line":197,"column":1,"offset":14393},"end":{"line":197,"column":65,"offset":14457},"indent":[]}},{"type":"link","title":null,"url":"/docs/browser-apis/#disableCorePrefetching","children":[{"type":"text","value":"disableCorePrefetching","position":{"start":{"line":197,"column":66,"offset":14458},"end":{"line":197,"column":88,"offset":14480},"indent":[]}}],"position":{"start":{"line":197,"column":65,"offset":14457},"end":{"line":197,"column":133,"offset":14525},"indent":[]}},{"type":"text","value":" browser API and returning true. This value is checked in ","position":{"start":{"line":197,"column":133,"offset":14525},"end":{"line":197,"column":191,"offset":14583},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L203","children":[{"type":"text","value":"loader.enqueue","position":{"start":{"line":197,"column":192,"offset":14584},"end":{"line":197,"column":206,"offset":14598},"indent":[]}}],"position":{"start":{"line":197,"column":191,"offset":14583},"end":{"line":197,"column":296,"offset":14688},"indent":[]}},{"type":"text","value":". An example plugin that implements this is ","position":{"start":{"line":197,"column":296,"offset":14688},"end":{"line":197,"column":340,"offset":14732},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-plugin-guess-js/src/gatsby-browser.js#L3","children":[{"type":"text","value":"gatsby-plugin-guess-js","position":{"start":{"line":197,"column":341,"offset":14733},"end":{"line":197,"column":363,"offset":14755},"indent":[]}}],"position":{"start":{"line":197,"column":340,"offset":14732},"end":{"line":197,"column":469,"offset":14861},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":197,"column":469,"offset":14861},"end":{"line":197,"column":470,"offset":14862},"indent":[]}}],"position":{"start":{"line":197,"column":1,"offset":14393},"end":{"line":197,"column":470,"offset":14862},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":198,"column":1,"offset":14863}}}}