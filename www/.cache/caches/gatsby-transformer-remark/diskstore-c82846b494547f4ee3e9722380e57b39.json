{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-html-ast-6210b04df134054fabdce2901b909384-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"gatsby-source-graphql-universal"},"children":[{"type":"element","tagName":"a","properties":{"href":"#gatsby-source-graphql-universal","aria-label":"gatsby source graphql universal permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"gatsby-source-graphql-universal","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":34,"offset":33}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":34,"offset":33}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NOTE: This is an universal version of the official ","position":{"start":{"line":3,"column":3,"offset":37},"end":{"line":3,"column":54,"offset":88}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-source-graphql</code>","position":{"start":{"line":3,"column":54,"offset":88},"end":{"line":3,"column":77,"offset":111}}},{"type":"text","value":" source plugin. It modifies the babel plugins to skip the removal of graphql queries so they can be re-used.","position":{"start":{"line":3,"column":77,"offset":111},"end":{"line":3,"column":185,"offset":219}}}],"position":{"start":{"line":3,"column":3,"offset":37},"end":{"line":3,"column":185,"offset":219}}},{"type":"text","value":"\n"}],"position":{"start":{"line":3,"column":1,"offset":35},"end":{"line":3,"column":185,"offset":219}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"how-to-use"},"children":[{"type":"element","tagName":"a","properties":{"href":"#how-to-use","aria-label":"how to use permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How to use","position":{"start":{"line":5,"column":4,"offset":224},"end":{"line":5,"column":14,"offset":234}}}],"position":{"start":{"line":5,"column":1,"offset":221},"end":{"line":5,"column":14,"offset":234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The plugin provides higher order component as well as direct manipulation tools for custom operations","position":{"start":{"line":7,"column":1,"offset":236},"end":{"line":7,"column":102,"offset":337}}}],"position":{"start":{"line":7,"column":1,"offset":236},"end":{"line":7,"column":102,"offset":337}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/index.d.ts"},"children":[{"type":"text","value":"See TypeScript definitions for more details","position":{"start":{"line":9,"column":2,"offset":340},"end":{"line":9,"column":45,"offset":383}}}],"position":{"start":{"line":9,"column":1,"offset":339},"end":{"line":9,"column":59,"offset":397}}}],"position":{"start":{"line":9,"column":1,"offset":339},"end":{"line":9,"column":59,"offset":397}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"higher-order-component"},"children":[{"type":"element","tagName":"a","properties":{"href":"#higher-order-component","aria-label":"higher order component permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Higher-Order Component","position":{"start":{"line":12,"column":5,"offset":404},"end":{"line":12,"column":27,"offset":426}}}],"position":{"start":{"line":12,"column":1,"offset":400},"end":{"line":12,"column":27,"offset":426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There is a higher order component to wrap components to get access to graphql queries in the browser.","position":{"start":{"line":14,"column":1,"offset":428},"end":{"line":14,"column":102,"offset":529}}}],"position":{"start":{"line":14,"column":1,"offset":428},"end":{"line":14,"column":102,"offset":529}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withGraphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-source-graphql-universal'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> fooFragment <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n  fragment Planet on ...SWAPI_Planet {\n    id\n    title\n  }\n`</span></span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n{\n  swapi {\n    ...\n  }\n}\n`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Demo <span class=\"token operator\">=</span> <span class=\"token function\">withGraphql</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token string\">'swapi'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      query<span class=\"token punctuation\">,</span>\n      fragments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>fooFragment<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      fetchPolicy<span class=\"token punctuation\">:</span> <span class=\"token string\">'network-only'</span><span class=\"token punctuation\">,</span>\n      variables<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Reload</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":16,"column":1,"offset":531},"end":{"line":49,"column":4,"offset":1096}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"props"},"children":[{"type":"element","tagName":"a","properties":{"href":"#props","aria-label":"props permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Props","position":{"start":{"line":51,"column":6,"offset":1103},"end":{"line":51,"column":11,"offset":1108}}}],"position":{"start":{"line":51,"column":1,"offset":1098},"end":{"line":51,"column":11,"offset":1108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">data</code>","position":{"start":{"line":53,"column":6,"offset":1115},"end":{"line":53,"column":12,"offset":1121}}}],"position":{"start":{"line":53,"column":4,"offset":1113},"end":{"line":53,"column":14,"offset":1123}}},{"type":"text","value":": Same as data from gatsby, but when ","position":{"start":{"line":53,"column":14,"offset":1123},"end":{"line":53,"column":51,"offset":1160}}},{"type":"raw","value":"<code class=\"language-text\">graphql()</code>","position":{"start":{"line":53,"column":51,"offset":1160},"end":{"line":53,"column":62,"offset":1171}}},{"type":"text","value":" (below) is called, it will be overwritten with new data when ","position":{"start":{"line":53,"column":62,"offset":1171},"end":{"line":53,"column":124,"offset":1233}}},{"type":"raw","value":"<code class=\"language-text\">composeData</code>","position":{"start":{"line":53,"column":124,"offset":1233},"end":{"line":53,"column":137,"offset":1246}}},{"type":"text","value":" prop is set to true.","position":{"start":{"line":53,"column":137,"offset":1246},"end":{"line":53,"column":158,"offset":1267}}}],"position":{"start":{"line":53,"column":4,"offset":1113},"end":{"line":53,"column":158,"offset":1267}}},{"type":"text","value":"\n"}],"position":{"start":{"line":53,"column":1,"offset":1110},"end":{"line":54,"column":1,"offset":1268}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">graphql(fieldName, options): Promise</code>","position":{"start":{"line":55,"column":6,"offset":1274},"end":{"line":55,"column":44,"offset":1312}}}],"position":{"start":{"line":55,"column":4,"offset":1272},"end":{"line":55,"column":46,"offset":1314}}}],"position":{"start":{"line":55,"column":4,"offset":1272},"end":{"line":55,"column":46,"offset":1314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">fieldName</code>","position":{"start":{"line":56,"column":8,"offset":1322},"end":{"line":56,"column":19,"offset":1333}}}],"position":{"start":{"line":56,"column":6,"offset":1320},"end":{"line":56,"column":21,"offset":1335}}},{"type":"text","value":": the same fieldName as provided in gatsby-config.js","position":{"start":{"line":56,"column":21,"offset":1335},"end":{"line":56,"column":73,"offset":1387}}}],"position":{"start":{"line":56,"column":4,"offset":1318},"end":{"line":56,"column":73,"offset":1387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">options.query</code>","position":{"start":{"line":57,"column":8,"offset":1395},"end":{"line":57,"column":23,"offset":1410}}}],"position":{"start":{"line":57,"column":6,"offset":1393},"end":{"line":57,"column":25,"offset":1412}}},{"type":"text","value":": the query variable defined above the component","position":{"start":{"line":57,"column":25,"offset":1412},"end":{"line":57,"column":73,"offset":1460}}}],"position":{"start":{"line":57,"column":4,"offset":1391},"end":{"line":57,"column":73,"offset":1460}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">options.fragments</code>","position":{"start":{"line":58,"column":8,"offset":1468},"end":{"line":58,"column":27,"offset":1487}}}],"position":{"start":{"line":58,"column":6,"offset":1466},"end":{"line":58,"column":29,"offset":1489}}},{"type":"text","value":": list of fragments to inject into the query","position":{"start":{"line":58,"column":29,"offset":1489},"end":{"line":58,"column":73,"offset":1533}}}],"position":{"start":{"line":58,"column":4,"offset":1464},"end":{"line":58,"column":73,"offset":1533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">options.composeData</code>","position":{"start":{"line":59,"column":8,"offset":1541},"end":{"line":59,"column":29,"offset":1562}}}],"position":{"start":{"line":59,"column":6,"offset":1539},"end":{"line":59,"column":31,"offset":1564}}},{"type":"text","value":": ","position":{"start":{"line":59,"column":31,"offset":1564},"end":{"line":59,"column":33,"offset":1566}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(default: true)","position":{"start":{"line":59,"column":34,"offset":1567},"end":{"line":59,"column":49,"offset":1582}}}],"position":{"start":{"line":59,"column":33,"offset":1566},"end":{"line":59,"column":50,"offset":1583}}},{"type":"text","value":"  will overwrite component gatsby data with composed data from the browser when true","position":{"start":{"line":59,"column":50,"offset":1583},"end":{"line":59,"column":134,"offset":1667}}}],"position":{"start":{"line":59,"column":4,"offset":1537},"end":{"line":59,"column":134,"offset":1667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">...options</code>","position":{"start":{"line":60,"column":8,"offset":1675},"end":{"line":60,"column":20,"offset":1687}}}],"position":{"start":{"line":60,"column":6,"offset":1673},"end":{"line":60,"column":22,"offset":1689}}},{"type":"text","value":" optional parameters to pass to ","position":{"start":{"line":60,"column":22,"offset":1689},"end":{"line":60,"column":54,"offset":1721}}},{"type":"raw","value":"<code class=\"language-text\">ApolloClient.query</code>","position":{"start":{"line":60,"column":54,"offset":1721},"end":{"line":60,"column":74,"offset":1741}}},{"type":"text","value":" (sets fetchPolicy to ‘network-only’ by default)","position":{"start":{"line":60,"column":74,"offset":1741},"end":{"line":60,"column":122,"offset":1789}}}],"position":{"start":{"line":60,"column":4,"offset":1671},"end":{"line":60,"column":122,"offset":1789}}},{"type":"text","value":"\n"}],"position":{"start":{"line":56,"column":4,"offset":1318},"end":{"line":60,"column":122,"offset":1789}}},{"type":"text","value":"\n"}],"position":{"start":{"line":55,"column":1,"offset":1269},"end":{"line":60,"column":122,"offset":1789}}},{"type":"text","value":"\n"}],"position":{"start":{"line":53,"column":1,"offset":1110},"end":{"line":60,"column":122,"offset":1789}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"getisolatedquery"},"children":[{"type":"element","tagName":"a","properties":{"href":"#getisolatedquery","aria-label":"getisolatedquery permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"getIsolatedQuery","position":{"start":{"line":63,"column":5,"offset":1796},"end":{"line":63,"column":21,"offset":1812}}}],"position":{"start":{"line":63,"column":1,"offset":1792},"end":{"line":63,"column":21,"offset":1812}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following code will now result in an object that has the original graphql query source accessible where you are free to do anything with it.","position":{"start":{"line":65,"column":1,"offset":1814},"end":{"line":65,"column":145,"offset":1958}}}],"position":{"start":{"line":65,"column":1,"offset":1814},"end":{"line":65,"column":145,"offset":1958}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql\\`<span class=\"token operator\">...</span>\\`<span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":67,"column":1,"offset":1960},"end":{"line":69,"column":4,"offset":1999}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1234567\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{ \\\"swapi\\\": { ... } }\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":71,"column":1,"offset":2001},"end":{"line":76,"column":4,"offset":2072}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can get isolated query to your graphql endpoint by re-using the composing function:","position":{"start":{"line":78,"column":1,"offset":2074},"end":{"line":78,"column":88,"offset":2161}}}],"position":{"start":{"line":78,"column":1,"offset":2074},"end":{"line":78,"column":88,"offset":2161}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getIsolatedQuery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-source-graphql-universal'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> gatsby<span class=\"token template-string\"><span class=\"token string\">`\nquery {\n  siteMetadata {\n    title\n  }\n  swapi {\n    allPersons {\n      ... on SWAPI_Person {\n        id\n      }\n    }\n  }\n}\n`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> onlySwapi <span class=\"token operator\">=</span> <span class=\"token function\">getIsolatedQuery</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">,</span> <span class=\"token string\">'swapi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'SWAPI'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Output:</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// query {</span>\n<span class=\"token comment\">//   allPersons {</span>\n<span class=\"token comment\">//     ... on Person {</span>\n<span class=\"token comment\">//       id</span>\n<span class=\"token comment\">//     }</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">// }</span></code></pre></div>","position":{"start":{"line":80,"column":1,"offset":2163},"end":{"line":110,"column":4,"offset":2594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":114,"column":1,"offset":2598},"end":{"line":114,"column":4,"offset":2601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":116,"column":1,"offset":2603},"end":{"line":116,"column":4,"offset":2606}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"gatsby-source-graphql-previous-documentation"},"children":[{"type":"element","tagName":"a","properties":{"href":"#gatsby-source-graphql-previous-documentation","aria-label":"gatsby source graphql previous documentation permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"gatsby-source-graphql (previous documentation)","position":{"start":{"line":118,"column":5,"offset":2612},"end":{"line":118,"column":51,"offset":2658}}}],"position":{"start":{"line":118,"column":1,"offset":2608},"end":{"line":118,"column":51,"offset":2658}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Plugin for connecting arbitrary GraphQL APIs to Gatsby GraphQL. Remote schemas are stitched together by adding a type that wraps the remote schema\nQuery type and putting it under field of Gatsby GraphQL Query.","position":{"start":{"line":120,"column":1,"offset":2660},"end":{"line":121,"column":63,"offset":2870}}}],"position":{"start":{"line":120,"column":1,"offset":2660},"end":{"line":121,"column":63,"offset":2870}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://using-gatsby-source-graphql.netlify.com/"},"children":[{"type":"text","value":"Example website","position":{"start":{"line":123,"column":4,"offset":2875},"end":{"line":123,"column":19,"offset":2890}}}],"position":{"start":{"line":123,"column":3,"offset":2874},"end":{"line":123,"column":70,"offset":2941}}}],"position":{"start":{"line":123,"column":1,"offset":2872},"end":{"line":123,"column":70,"offset":2941}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/tree/master/examples/using-gatsby-source-graphql"},"children":[{"type":"text","value":"Example website source","position":{"start":{"line":124,"column":4,"offset":2945},"end":{"line":124,"column":26,"offset":2967}}}],"position":{"start":{"line":124,"column":3,"offset":2944},"end":{"line":124,"column":112,"offset":3053}}}],"position":{"start":{"line":124,"column":1,"offset":2942},"end":{"line":124,"column":112,"offset":3053}}},{"type":"text","value":"\n"}],"position":{"start":{"line":123,"column":1,"offset":2872},"end":{"line":124,"column":112,"offset":3053}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"install"},"children":[{"type":"element","tagName":"a","properties":{"href":"#install","aria-label":"install permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Install","position":{"start":{"line":127,"column":4,"offset":3059},"end":{"line":127,"column":11,"offset":3066}}}],"position":{"start":{"line":127,"column":1,"offset":3056},"end":{"line":127,"column":11,"offset":3066}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">npm install --save gatsby-source-graphql-universal</code>","position":{"start":{"line":129,"column":1,"offset":3068},"end":{"line":129,"column":53,"offset":3120}}}],"position":{"start":{"line":129,"column":1,"offset":3068},"end":{"line":129,"column":53,"offset":3120}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"how-to-use-1"},"children":[{"type":"element","tagName":"a","properties":{"href":"#how-to-use-1","aria-label":"how to use 1 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How to use","position":{"start":{"line":131,"column":4,"offset":3125},"end":{"line":131,"column":14,"offset":3135}}}],"position":{"start":{"line":131,"column":1,"offset":3122},"end":{"line":131,"column":14,"offset":3135}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First, you need a way to pass environment variables to the build process, so secrets and other secured data aren’t committed to source control. We\nrecommend using ","position":{"start":{"line":133,"column":1,"offset":3137},"end":{"line":134,"column":17,"offset":3301}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/motdotla/dotenv"},"children":[{"type":"raw","value":"<code class=\"language-text\">dotenv</code>","position":{"start":{"line":134,"column":18,"offset":3302},"end":{"line":134,"column":26,"offset":3310}}}],"position":{"start":{"line":134,"column":17,"offset":3301},"end":{"line":134,"column":35,"offset":3319}}},{"type":"text","value":" which will then expose environment variables. ","position":{"start":{"line":134,"column":35,"offset":3319},"end":{"line":134,"column":82,"offset":3366}}},{"type":"element","tagName":"a","properties":{"href":"https://gatsby.app/env-vars"},"children":[{"type":"text","value":"Read more about dotenv and using environment variables\nhere","position":{"start":{"line":134,"column":83,"offset":3367},"end":{"line":135,"column":5,"offset":3427}}}],"position":{"start":{"line":134,"column":82,"offset":3366},"end":{"line":135,"column":15,"offset":3437}}},{"type":"text","value":". Then we can ","position":{"start":{"line":135,"column":15,"offset":3437},"end":{"line":135,"column":29,"offset":3451}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"use","position":{"start":{"line":135,"column":30,"offset":3452},"end":{"line":135,"column":33,"offset":3455}}}],"position":{"start":{"line":135,"column":29,"offset":3451},"end":{"line":135,"column":34,"offset":3456}}},{"type":"text","value":" these environment variables and configure our plugin.","position":{"start":{"line":135,"column":34,"offset":3456},"end":{"line":135,"column":88,"offset":3510}}}],"position":{"start":{"line":133,"column":1,"offset":3137},"end":{"line":135,"column":88,"offset":3510}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// Simple config, passing URL</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// This type will contain remote schema Query type</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"SWAPI\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// This is field under which it's accessible</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"swapi\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Url to query from</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://api.graphcms.com/simple/v1/swapi\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Passing paramaters (passed to apollo-link)</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"GitHub\"</span><span class=\"token punctuation\">,</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"github\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Url to query from</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://api.github.com/graphql\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// HTTP headers</span>\n        headers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// Learn about environment variables: https://gatsby.app/env-vars</span>\n          Authorization<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`bearer </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_TOKEN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Additional options to pass to node-fetch</span>\n        fetchOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Creating arbitrary Apollo Link (for advanced situations)</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"GitHub\"</span><span class=\"token punctuation\">,</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"github\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Create Apollo Link manually. Can return a Promise.</span>\n        createLink<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>pluginOptions<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token function\">createHttpLink</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            uri<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://api.github.com/graphql'</span><span class=\"token punctuation\">,</span>\n            headers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token string\">'Authorization'</span><span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`bearer </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_TOKEN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            fetch<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":137,"column":1,"offset":3512},"end":{"line":189,"column":4,"offset":5052}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"how-to-query"},"children":[{"type":"element","tagName":"a","properties":{"href":"#how-to-query","aria-label":"how to query permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How to Query","position":{"start":{"line":191,"column":4,"offset":5057},"end":{"line":191,"column":16,"offset":5069}}}],"position":{"start":{"line":191,"column":1,"offset":5054},"end":{"line":191,"column":16,"offset":5069}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\"># Field name parameter defines how you can access third party api</span>\n  swapi <span class=\"token punctuation\">{</span>\n    allSpecies <span class=\"token punctuation\">{</span>\n      name\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  github <span class=\"token punctuation\">{</span>\n    viewer <span class=\"token punctuation\">{</span>\n      email\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":193,"column":1,"offset":5071},"end":{"line":207,"column":4,"offset":5251}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"schema-definitions"},"children":[{"type":"element","tagName":"a","properties":{"href":"#schema-definitions","aria-label":"schema definitions permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Schema definitions","position":{"start":{"line":209,"column":4,"offset":5256},"end":{"line":209,"column":22,"offset":5274}}}],"position":{"start":{"line":209,"column":1,"offset":5253},"end":{"line":209,"column":22,"offset":5274}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default schema is introspected from the remote schema. Schema is cached in ","position":{"start":{"line":211,"column":1,"offset":5276},"end":{"line":211,"column":79,"offset":5354}}},{"type":"raw","value":"<code class=\"language-text\">.cache</code>","position":{"start":{"line":211,"column":79,"offset":5354},"end":{"line":211,"column":87,"offset":5362}}},{"type":"text","value":" in this case and refreshing the schema requires deleting the\ncache.","position":{"start":{"line":211,"column":87,"offset":5362},"end":{"line":212,"column":7,"offset":5431}}}],"position":{"start":{"line":211,"column":1,"offset":5276},"end":{"line":212,"column":7,"offset":5431}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To control schema consumption, you can alternatively construct schema definition by passing ","position":{"start":{"line":214,"column":1,"offset":5433},"end":{"line":214,"column":93,"offset":5525}}},{"type":"raw","value":"<code class=\"language-text\">createSchema</code>","position":{"start":{"line":214,"column":93,"offset":5525},"end":{"line":214,"column":107,"offset":5539}}},{"type":"text","value":" callback. This way you could, for\nexample, read schema SDL or introspection JSON. When ","position":{"start":{"line":214,"column":107,"offset":5539},"end":{"line":215,"column":54,"offset":5628}}},{"type":"raw","value":"<code class=\"language-text\">createSchema</code>","position":{"start":{"line":215,"column":54,"offset":5628},"end":{"line":215,"column":68,"offset":5642}}},{"type":"text","value":" callback is used, schema isn’t cached. ","position":{"start":{"line":215,"column":68,"offset":5642},"end":{"line":215,"column":108,"offset":5682}}},{"type":"raw","value":"<code class=\"language-text\">createSchema</code>","position":{"start":{"line":215,"column":108,"offset":5682},"end":{"line":215,"column":122,"offset":5696}}},{"type":"text","value":" can return a Promise to\nGraphQLSchema instance or GraphQLSchema instance.","position":{"start":{"line":215,"column":122,"offset":5696},"end":{"line":216,"column":50,"offset":5771}}}],"position":{"start":{"line":214,"column":1,"offset":5433},"end":{"line":216,"column":50,"offset":5771}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> buildSchema<span class=\"token punctuation\">,</span> buildClientSchema <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"graphql\"</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"SWAPI\"</span><span class=\"token punctuation\">,</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"swapi\"</span><span class=\"token punctuation\">,</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://api.graphcms.com/simple/v1/swapi\"</span><span class=\"token punctuation\">,</span>\n\n        createSchema<span class=\"token punctuation\">:</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> json <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>\n            fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/introspection.json`</span></span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">return</span> <span class=\"token function\">buildClientSchema</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"SWAPI\"</span><span class=\"token punctuation\">,</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"swapi\"</span><span class=\"token punctuation\">,</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://api.graphcms.com/simple/v1/swapi\"</span><span class=\"token punctuation\">,</span>\n\n        createSchema<span class=\"token punctuation\">:</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> sdl <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/schema.sdl`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">return</span> <span class=\"token function\">buildSchema</span><span class=\"token punctuation\">(</span>sdl<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":218,"column":1,"offset":5773},"end":{"line":254,"column":4,"offset":6673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"refetching-data"},"children":[{"type":"element","tagName":"a","properties":{"href":"#refetching-data","aria-label":"refetching data permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Refetching data","position":{"start":{"line":256,"column":3,"offset":6677},"end":{"line":256,"column":18,"offset":6692}}}],"position":{"start":{"line":256,"column":1,"offset":6675},"end":{"line":256,"column":18,"offset":6692}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default, ","position":{"start":{"line":258,"column":1,"offset":6694},"end":{"line":258,"column":13,"offset":6706}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-source-graphql-universal</code>","position":{"start":{"line":258,"column":13,"offset":6706},"end":{"line":258,"column":46,"offset":6739}}},{"type":"text","value":" will only refetch the data once the server is restarted. It’s also possible to configure the plugin to\nperiodically refetch the data. The option is called ","position":{"start":{"line":258,"column":46,"offset":6739},"end":{"line":259,"column":53,"offset":6896}}},{"type":"raw","value":"<code class=\"language-text\">refetchInterval</code>","position":{"start":{"line":259,"column":53,"offset":6896},"end":{"line":259,"column":70,"offset":6913}}},{"type":"text","value":" and specifies the timeout in seconds.","position":{"start":{"line":259,"column":70,"offset":6913},"end":{"line":259,"column":108,"offset":6951}}}],"position":{"start":{"line":258,"column":1,"offset":6694},"end":{"line":259,"column":108,"offset":6951}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// Simple config, passing URL</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-graphql-universal\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// This type will contain remote schema Query type</span>\n        typeName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"SWAPI\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// This is field under which it's accessible</span>\n        fieldName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"swapi\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Url to query from</span>\n        url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://api.graphcms.com/simple/v1/swapi\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// refetch interval in seconds</span>\n        refetchInterval<span class=\"token punctuation\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":261,"column":1,"offset":6953},"end":{"line":281,"column":4,"offset":7446}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":286,"column":1,"offset":7533}}}}