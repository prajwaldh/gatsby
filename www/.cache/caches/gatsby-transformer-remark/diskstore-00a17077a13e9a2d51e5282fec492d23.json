{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-4ae28f39fc4ef3731252167ab4f42729-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#gatsby-plugin-layout","title":null,"data":{"hProperties":{"aria-label":"gatsby plugin layout permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-plugin-layout","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":23,"offset":22},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":23,"offset":22},"indent":[]},"data":{"id":"gatsby-plugin-layout","htmlAttributes":{"id":"gatsby-plugin-layout"},"hProperties":{"id":"gatsby-plugin-layout"}}},{"type":"paragraph","children":[{"type":"text","value":"This plugin enables adding components which live above the page components and persist across page changes.","position":{"start":{"line":3,"column":1,"offset":24},"end":{"line":3,"column":108,"offset":131},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":24},"end":{"line":3,"column":108,"offset":131},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This can be helpful for:","position":{"start":{"line":5,"column":1,"offset":133},"end":{"line":5,"column":25,"offset":157},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":133},"end":{"line":5,"column":25,"offset":157},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Persisting layout between page changes for e.g. animating navigation","position":{"start":{"line":7,"column":3,"offset":161},"end":{"line":7,"column":71,"offset":229},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":161},"end":{"line":7,"column":71,"offset":229},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":159},"end":{"line":7,"column":71,"offset":229},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Storing state when navigating pages","position":{"start":{"line":8,"column":3,"offset":232},"end":{"line":8,"column":38,"offset":267},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":232},"end":{"line":8,"column":38,"offset":267},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":230},"end":{"line":8,"column":38,"offset":267},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Custom error handling using componentDidCatch","position":{"start":{"line":9,"column":3,"offset":270},"end":{"line":9,"column":48,"offset":315},"indent":[]}}],"position":{"start":{"line":9,"column":3,"offset":270},"end":{"line":9,"column":48,"offset":315},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":268},"end":{"line":9,"column":48,"offset":315},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Inject additional data into pages using React Context.","position":{"start":{"line":10,"column":3,"offset":318},"end":{"line":10,"column":57,"offset":372},"indent":[]}}],"position":{"start":{"line":10,"column":3,"offset":318},"end":{"line":10,"column":57,"offset":372},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":316},"end":{"line":10,"column":57,"offset":372},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":159},"end":{"line":10,"column":57,"offset":372},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This plugin reimplements the behavior of layout components in ","position":{"start":{"line":12,"column":1,"offset":374},"end":{"line":12,"column":63,"offset":436},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby@1</code>","position":{"start":{"line":12,"column":63,"offset":436},"end":{"line":12,"column":73,"offset":446},"indent":[]}},{"type":"text","value":", which ","position":{"start":{"line":12,"column":73,"offset":446},"end":{"line":12,"column":81,"offset":454},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/rfcs/blob/master/text/0002-remove-special-layout-components.md","children":[{"type":"text","value":"was removed in version 2","position":{"start":{"line":12,"column":82,"offset":455},"end":{"line":12,"column":106,"offset":479},"indent":[]}}],"position":{"start":{"line":12,"column":81,"offset":454},"end":{"line":12,"column":199,"offset":572},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":12,"column":199,"offset":572},"end":{"line":12,"column":200,"offset":573},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":374},"end":{"line":12,"column":200,"offset":573},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#install","title":null,"data":{"hProperties":{"aria-label":"install permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Install","position":{"start":{"line":14,"column":4,"offset":578},"end":{"line":14,"column":11,"offset":585},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":575},"end":{"line":14,"column":11,"offset":585},"indent":[]},"data":{"id":"install","htmlAttributes":{"id":"install"},"hProperties":{"id":"install"}}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save gatsby-plugin-layout</code></pre></div>","position":{"start":{"line":16,"column":1,"offset":587},"end":{"line":18,"column":4,"offset":634},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#how-to-use","title":null,"data":{"hProperties":{"aria-label":"how to use permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How to use","position":{"start":{"line":20,"column":4,"offset":639},"end":{"line":20,"column":14,"offset":649},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":636},"end":{"line":20,"column":14,"offset":649},"indent":[]},"data":{"id":"how-to-use","htmlAttributes":{"id":"how-to-use"},"hProperties":{"id":"how-to-use"}}},{"type":"paragraph","children":[{"type":"text","value":"Add the plugin to your ","position":{"start":{"line":22,"column":1,"offset":651},"end":{"line":22,"column":24,"offset":674},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":22,"column":24,"offset":674},"end":{"line":22,"column":42,"offset":692},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":22,"column":42,"offset":692},"end":{"line":22,"column":43,"offset":693},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":651},"end":{"line":22,"column":43,"offset":693},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default plugin will try to use Layout component located in ","position":{"start":{"line":24,"column":1,"offset":695},"end":{"line":24,"column":63,"offset":757},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">src/layouts/index.js</code>","position":{"start":{"line":24,"column":63,"offset":757},"end":{"line":24,"column":85,"offset":779},"indent":[]}},{"type":"text","value":" (same as Gatsby v1)","position":{"start":{"line":24,"column":85,"offset":779},"end":{"line":24,"column":105,"offset":799},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":695},"end":{"line":24,"column":105,"offset":799},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-layout`</span></span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":26,"column":1,"offset":801},"end":{"line":32,"column":4,"offset":882},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you prefer to keep layout in different place, you can use ","position":{"start":{"line":34,"column":1,"offset":884},"end":{"line":34,"column":62,"offset":945},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">component</code>","position":{"start":{"line":34,"column":62,"offset":945},"end":{"line":34,"column":73,"offset":956},"indent":[]}},{"type":"text","value":" option:","position":{"start":{"line":34,"column":73,"offset":956},"end":{"line":34,"column":81,"offset":964},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":884},"end":{"line":34,"column":81,"offset":964},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-layout`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                component<span class=\"token punctuation\">:</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`./relative/path/to/layout/component`</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":36,"column":1,"offset":966},"end":{"line":47,"column":4,"offset":1202},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once the plugin is added, you don’t need to manually wrap your pages with the Layout component. The plugin does this automatically.","position":{"start":{"line":49,"column":1,"offset":1204},"end":{"line":49,"column":132,"offset":1335},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1204},"end":{"line":49,"column":132,"offset":1335},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#why-would-you-want-to-reimplement-the-v1-layout-behavior","title":null,"data":{"hProperties":{"aria-label":"why would you want to reimplement the v1 layout behavior permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why would you want to reimplement the V1 layout behavior?","position":{"start":{"line":51,"column":4,"offset":1340},"end":{"line":51,"column":61,"offset":1397},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1337},"end":{"line":51,"column":61,"offset":1397},"indent":[]},"data":{"id":"why-would-you-want-to-reimplement-the-v1-layout-behavior","htmlAttributes":{"id":"why-would-you-want-to-reimplement-the-v1-layout-behavior"},"hProperties":{"id":"why-would-you-want-to-reimplement-the-v1-layout-behavior"}}},{"type":"paragraph","children":[{"type":"text","value":"There are a few scenarios where it makes sense to reimplement the V1 layout handling:","position":{"start":{"line":53,"column":1,"offset":1399},"end":{"line":53,"column":86,"offset":1484},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1399},"end":{"line":53,"column":86,"offset":1484},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You have a large or complex V1 site and ","position":{"start":{"line":55,"column":5,"offset":1490},"end":{"line":55,"column":45,"offset":1530},"indent":[]}},{"type":"link","title":null,"url":"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/#remove-or-refactor-layout-components","children":[{"type":"text","value":"refactoring to the new layout component","position":{"start":{"line":55,"column":46,"offset":1531},"end":{"line":55,"column":85,"offset":1570},"indent":[]}}],"position":{"start":{"line":55,"column":45,"offset":1530},"end":{"line":55,"column":179,"offset":1664},"indent":[]}},{"type":"text","value":" is not feasible","position":{"start":{"line":55,"column":179,"offset":1664},"end":{"line":55,"column":195,"offset":1680},"indent":[]}}],"position":{"start":{"line":55,"column":5,"offset":1490},"end":{"line":55,"column":195,"offset":1680},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1486},"end":{"line":55,"column":195,"offset":1680},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your site uses page transitions or other transitions that break if the layout component is unmounted and remounted when routes change","position":{"start":{"line":56,"column":5,"offset":1685},"end":{"line":56,"column":138,"offset":1818},"indent":[]}}],"position":{"start":{"line":56,"column":5,"offset":1685},"end":{"line":56,"column":138,"offset":1818},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1681},"end":{"line":56,"column":138,"offset":1818},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your site attaches global state in the layout that doesn’t persist if the component is unmounted and remounted","position":{"start":{"line":57,"column":5,"offset":1823},"end":{"line":57,"column":115,"offset":1933},"indent":[]}}],"position":{"start":{"line":57,"column":5,"offset":1823},"end":{"line":57,"column":115,"offset":1933},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1819},"end":{"line":57,"column":115,"offset":1933},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1486},"end":{"line":57,"column":115,"offset":1933},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#how-layouts-worked-in-version-1","title":null,"data":{"hProperties":{"aria-label":"how layouts worked in version 1 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How layouts worked in version 1","position":{"start":{"line":59,"column":5,"offset":1939},"end":{"line":59,"column":36,"offset":1970},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1935},"end":{"line":59,"column":36,"offset":1970},"indent":[]},"data":{"id":"how-layouts-worked-in-version-1","htmlAttributes":{"id":"how-layouts-worked-in-version-1"},"hProperties":{"id":"how-layouts-worked-in-version-1"}}},{"type":"paragraph","children":[{"type":"text","value":"In the original implementation, the layout component was wrapped around the outside of the page component, which, in pseudo-code, looked something like this:","position":{"start":{"line":61,"column":1,"offset":1972},"end":{"line":61,"column":158,"offset":2129},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1972},"end":{"line":61,"column":158,"offset":2129},"indent":[]}},{"type":"html","lang":"jsx","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Root</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span><span class=\"token comment\">/* layout is not affected when the page template changes */</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PageElement</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token comment\">/* page content here */</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PageElement</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Root</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":63,"column":1,"offset":2131},"end":{"line":70,"column":4,"offset":2302},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This meant that the layout component could manage things like transitions and persistent state without any special workarounds, because it never rerendered.","position":{"start":{"line":72,"column":1,"offset":2304},"end":{"line":72,"column":157,"offset":2460},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2304},"end":{"line":72,"column":157,"offset":2460},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#how-layouts-work-in-version-2","title":null,"data":{"hProperties":{"aria-label":"how layouts work in version 2 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How layouts work in version 2","position":{"start":{"line":74,"column":5,"offset":2466},"end":{"line":74,"column":34,"offset":2495},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":2462},"end":{"line":74,"column":34,"offset":2495},"indent":[]},"data":{"id":"how-layouts-work-in-version-2","htmlAttributes":{"id":"how-layouts-work-in-version-2"},"hProperties":{"id":"how-layouts-work-in-version-2"}}},{"type":"paragraph","children":[{"type":"text","value":"In version 2, the layout component is no longer special, and it’s included in every page that wants to display it. This means that it ","position":{"start":{"line":76,"column":1,"offset":2497},"end":{"line":76,"column":135,"offset":2631},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"does","position":{"start":{"line":76,"column":136,"offset":2632},"end":{"line":76,"column":140,"offset":2636},"indent":[]}}],"position":{"start":{"line":76,"column":135,"offset":2631},"end":{"line":76,"column":141,"offset":2637},"indent":[]}},{"type":"text","value":" rerender on every route change:","position":{"start":{"line":76,"column":141,"offset":2637},"end":{"line":76,"column":173,"offset":2669},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2497},"end":{"line":76,"column":173,"offset":2669},"indent":[]}},{"type":"html","lang":"jsx","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Root</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PageElement</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span><span class=\"token comment\">/* layout will rerender each time the page template changes */</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token comment\">/* page content here */</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PageElement</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Root</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":78,"column":1,"offset":2671},"end":{"line":85,"column":4,"offset":2845},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This can make it complicated to support transitions or state without using the ","position":{"start":{"line":87,"column":1,"offset":2847},"end":{"line":87,"column":80,"offset":2926},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/browser-apis/#wrapPageElement","children":[{"type":"html","value":"<code class=\"language-text\">wrapPageElement</code>","position":{"start":{"line":87,"column":81,"offset":2927},"end":{"line":87,"column":98,"offset":2944},"indent":[]}},{"type":"text","value":" browser API","position":{"start":{"line":87,"column":98,"offset":2944},"end":{"line":87,"column":110,"offset":2956},"indent":[]}}],"position":{"start":{"line":87,"column":80,"offset":2926},"end":{"line":87,"column":168,"offset":3014},"indent":[]}},{"type":"text","value":" (and the ","position":{"start":{"line":87,"column":168,"offset":3014},"end":{"line":87,"column":178,"offset":3024},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/ssr-apis/#wrapPageElement","children":[{"type":"text","value":"SSR equivalent","position":{"start":{"line":87,"column":179,"offset":3025},"end":{"line":87,"column":193,"offset":3039},"indent":[]}}],"position":{"start":{"line":87,"column":178,"offset":3024},"end":{"line":87,"column":247,"offset":3093},"indent":[]}},{"type":"text","value":"). This plugin implements those APIs for you, which reimplements the behavior of Gatsby V1.","position":{"start":{"line":87,"column":247,"offset":3093},"end":{"line":87,"column":338,"offset":3184},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":2847},"end":{"line":87,"column":338,"offset":3184},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#troubleshooting","title":null,"data":{"hProperties":{"aria-label":"troubleshooting permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Troubleshooting","position":{"start":{"line":89,"column":4,"offset":3189},"end":{"line":89,"column":19,"offset":3204},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":3186},"end":{"line":89,"column":19,"offset":3204},"indent":[]},"data":{"id":"troubleshooting","htmlAttributes":{"id":"troubleshooting"},"hProperties":{"id":"troubleshooting"}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#passing-data-from-layout-to-page--from-page-to-layout","title":null,"data":{"hProperties":{"aria-label":"passing data from layout to page  from page to layout permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Passing data from Layout to Page / from Page to Layout","position":{"start":{"line":91,"column":5,"offset":3210},"end":{"line":91,"column":59,"offset":3264},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":3206},"end":{"line":91,"column":59,"offset":3264},"indent":[]},"data":{"id":"passing-data-from-layout-to-page--from-page-to-layout","htmlAttributes":{"id":"passing-data-from-layout-to-page--from-page-to-layout"},"hProperties":{"id":"passing-data-from-layout-to-page--from-page-to-layout"}}},{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":93,"column":1,"offset":3266},"end":{"line":93,"column":5,"offset":3270},"indent":[]}},{"type":"link","title":null,"url":"https://reactjs.org/docs/context.html","children":[{"type":"text","value":"React Context","position":{"start":{"line":93,"column":6,"offset":3271},"end":{"line":93,"column":19,"offset":3284},"indent":[]}}],"position":{"start":{"line":93,"column":5,"offset":3270},"end":{"line":93,"column":59,"offset":3324},"indent":[]}},{"type":"text","value":" to pass data both ways.","position":{"start":{"line":93,"column":59,"offset":3324},"end":{"line":93,"column":83,"offset":3348},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3266},"end":{"line":93,"column":83,"offset":3348},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example you can use this boilerplate:","position":{"start":{"line":95,"column":1,"offset":3350},"end":{"line":95,"column":42,"offset":3391},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3350},"end":{"line":95,"column":42,"offset":3391},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Context.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> defaultContextValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// set your initial data shape here</span>\n    menuOpen<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">set</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Provider<span class=\"token punctuation\">,</span> Consumer <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span>defaultContextValue<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ContextProviderComponent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>setData <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>setData<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>defaultContextValue<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">set</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>setData<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>newData<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>state <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span>\n        <span class=\"token operator\">...</span>newData<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Provider value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> Consumer <span class=\"token keyword\">as</span> <span class=\"token keyword\">default</span><span class=\"token punctuation\">,</span> ContextProviderComponent <span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":97,"column":1,"offset":3393},"end":{"line":137,"column":4,"offset":4138},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Use Provider in Layout Component:","position":{"start":{"line":139,"column":1,"offset":4140},"end":{"line":139,"column":34,"offset":4173},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":4140},"end":{"line":139,"column":34,"offset":4173},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ContextProviderComponent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Context\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>ContextProviderComponent<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Header <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span>Footer <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ContextProviderComponent<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":141,"column":1,"offset":4175},"end":{"line":151,"column":4,"offset":4379},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And then you can use it anywhere:","position":{"start":{"line":153,"column":1,"offset":4381},"end":{"line":153,"column":34,"offset":4414},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":4381},"end":{"line":153,"column":34,"offset":4414},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To read state:","position":{"start":{"line":155,"column":3,"offset":4418},"end":{"line":155,"column":17,"offset":4432},"indent":[]}}],"position":{"start":{"line":155,"column":3,"offset":4418},"end":{"line":155,"column":17,"offset":4432},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":4416},"end":{"line":155,"column":17,"offset":4432},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":4416},"end":{"line":155,"column":17,"offset":4432},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> ContextConsumer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Context\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ComponentThatReadState</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>ContextConsumer<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      data<span class=\"token punctuation\">.</span>menuOpen <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>Menu <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ContextConsumer<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":157,"column":1,"offset":4434},"end":{"line":167,"column":4,"offset":4632},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To read and set state:","position":{"start":{"line":169,"column":3,"offset":4636},"end":{"line":169,"column":25,"offset":4658},"indent":[]}}],"position":{"start":{"line":169,"column":3,"offset":4636},"end":{"line":169,"column":25,"offset":4658},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":4634},"end":{"line":169,"column":25,"offset":4658},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":4634},"end":{"line":169,"column":25,"offset":4658},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> ContextConsumer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Context\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ComponentThatChangeState</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>ContextConsumer<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> menuOpen<span class=\"token punctuation\">:</span> <span class=\"token operator\">!</span>data<span class=\"token punctuation\">.</span>menuOpen <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>menuOpen <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token string\">`Opened Menu`</span></span> <span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`Closed Menu`</span></span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ContextConsumer<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":171,"column":1,"offset":4660},"end":{"line":183,"column":4,"offset":4958},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#handling-multiple-layouts","title":null,"data":{"hProperties":{"aria-label":"handling multiple layouts permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Handling multiple layouts","position":{"start":{"line":185,"column":5,"offset":4964},"end":{"line":185,"column":30,"offset":4989},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":4960},"end":{"line":185,"column":30,"offset":4989},"indent":[]},"data":{"id":"handling-multiple-layouts","htmlAttributes":{"id":"handling-multiple-layouts"},"hProperties":{"id":"handling-multiple-layouts"}}},{"type":"paragraph","children":[{"type":"text","value":"If you want to use different layouts for different pages, you can pass this information in the context of the pages you create, and then conditionally render in your layout file.","position":{"start":{"line":187,"column":1,"offset":4991},"end":{"line":187,"column":179,"offset":5169},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":4991},"end":{"line":187,"column":179,"offset":5169},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In ","position":{"start":{"line":189,"column":1,"offset":5171},"end":{"line":189,"column":4,"offset":5174},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-node.js</code>","position":{"start":{"line":189,"column":4,"offset":5174},"end":{"line":189,"column":20,"offset":5190},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":189,"column":20,"offset":5190},"end":{"line":189,"column":21,"offset":5191},"indent":[]}}],"position":{"start":{"line":189,"column":1,"offset":5171},"end":{"line":189,"column":21,"offset":5191},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/special-page/</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    page<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>layout <span class=\"token operator\">=</span> <span class=\"token string\">'special'</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":191,"column":1,"offset":5193},"end":{"line":200,"column":4,"offset":5386},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And then in ","position":{"start":{"line":202,"column":1,"offset":5388},"end":{"line":202,"column":13,"offset":5400},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">src/layouts/index.js</code>","position":{"start":{"line":202,"column":13,"offset":5400},"end":{"line":202,"column":35,"offset":5422},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":202,"column":35,"offset":5422},"end":{"line":202,"column":36,"offset":5423},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":5388},"end":{"line":202,"column":36,"offset":5423},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pageContext<span class=\"token punctuation\">.</span>layout <span class=\"token operator\">===</span> <span class=\"token string\">\"special\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>AlternativeLayout<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AlternativeLayout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>RegularLayout<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>RegularLayout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":204,"column":1,"offset":5425},"end":{"line":211,"column":4,"offset":5642},"indent":[1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":212,"column":1,"offset":5643}}}}