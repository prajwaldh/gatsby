{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-2c6ffe9ebbae0bdee3277545e379ae09-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#gatsby-plugin-google-gtag","title":null,"data":{"hProperties":{"aria-label":"gatsby plugin google gtag permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-plugin-google-gtag","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":28,"offset":27},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":28,"offset":27},"indent":[]},"data":{"id":"gatsby-plugin-google-gtag","htmlAttributes":{"id":"gatsby-plugin-google-gtag"},"hProperties":{"id":"gatsby-plugin-google-gtag"}}},{"type":"paragraph","children":[{"type":"text","value":"Easily add Google Global Site Tag to your Gatsby site.","position":{"start":{"line":3,"column":1,"offset":29},"end":{"line":3,"column":55,"offset":83},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":29},"end":{"line":3,"column":55,"offset":83},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"The global site tag (gtag.js) is a JavaScript tagging framework and API that allows you to send event data to Google Analytics, Google Ads, Campaign Manager, Display & Video 360, and Search Ads 360.","position":{"start":{"line":5,"column":3,"offset":87},"end":{"line":5,"column":201,"offset":285},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":87},"end":{"line":5,"column":201,"offset":285},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":85},"end":{"line":5,"column":201,"offset":285},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Global site tag (gtag.js) is meant to combine multiple Google tagging systems and can replace older ones such as ","position":{"start":{"line":7,"column":1,"offset":287},"end":{"line":7,"column":114,"offset":400},"indent":[]}},{"type":"link","title":null,"url":"https://developers.google.com/analytics/devguides/collection/analyticsjs/","children":[{"type":"text","value":"analytics.js","position":{"start":{"line":7,"column":115,"offset":401},"end":{"line":7,"column":127,"offset":413},"indent":[]}}],"position":{"start":{"line":7,"column":114,"offset":400},"end":{"line":7,"column":203,"offset":489},"indent":[]}},{"type":"text","value":" (","position":{"start":{"line":7,"column":203,"offset":489},"end":{"line":7,"column":205,"offset":491},"indent":[]}},{"type":"link","title":null,"url":"https://www.gatsbyjs.org/packages/gatsby-plugin-google-analytics/","children":[{"type":"text","value":"gatsby-plugin-google-analytics","position":{"start":{"line":7,"column":206,"offset":492},"end":{"line":7,"column":236,"offset":522},"indent":[]}}],"position":{"start":{"line":7,"column":205,"offset":491},"end":{"line":7,"column":304,"offset":590},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":7,"column":304,"offset":590},"end":{"line":7,"column":306,"offset":592},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":287},"end":{"line":7,"column":306,"offset":592},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For more general information on gtag you can read Google’s official documentation on the subject: ","position":{"start":{"line":9,"column":1,"offset":594},"end":{"line":9,"column":99,"offset":692},"indent":[]}},{"type":"link","title":null,"url":"https://developers.google.com/gtagjs/","children":[{"type":"text","value":"https://developers.google.com/gtagjs/","position":{"start":{"line":9,"column":99,"offset":692},"end":{"line":9,"column":136,"offset":729},"indent":[]}}],"position":{"start":{"line":9,"column":99,"offset":692},"end":{"line":9,"column":136,"offset":729},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":9,"column":136,"offset":729},"end":{"line":9,"column":137,"offset":730},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":594},"end":{"line":9,"column":137,"offset":730},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you’re migrating from analytics.js (gatsby-plugin-google-analytics) you can read about the subtle API differences in more depth at: ","position":{"start":{"line":11,"column":1,"offset":732},"end":{"line":11,"column":136,"offset":867},"indent":[]}},{"type":"link","title":null,"url":"https://developers.google.com/analytics/devguides/collection/gtagjs/migration","children":[{"type":"text","value":"https://developers.google.com/analytics/devguides/collection/gtagjs/migration","position":{"start":{"line":11,"column":136,"offset":867},"end":{"line":11,"column":213,"offset":944},"indent":[]}}],"position":{"start":{"line":11,"column":136,"offset":867},"end":{"line":11,"column":213,"offset":944},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":11,"column":213,"offset":944},"end":{"line":11,"column":214,"offset":945},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":732},"end":{"line":11,"column":214,"offset":945},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"NOTE: This plugin only works in production mode! To test your Global Site Tag is installed and firing events correctly run: gatsby build && gatsby serve.","position":{"start":{"line":13,"column":1,"offset":947},"end":{"line":13,"column":154,"offset":1100},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":947},"end":{"line":13,"column":154,"offset":1100},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#install","title":null,"data":{"hProperties":{"aria-label":"install permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Install","position":{"start":{"line":15,"column":4,"offset":1105},"end":{"line":15,"column":11,"offset":1112},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":1102},"end":{"line":15,"column":11,"offset":1112},"indent":[]},"data":{"id":"install","htmlAttributes":{"id":"install"},"hProperties":{"id":"install"}}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">npm install --save gatsby-plugin-google-gtag</code>","position":{"start":{"line":17,"column":1,"offset":1114},"end":{"line":17,"column":47,"offset":1160},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1114},"end":{"line":17,"column":47,"offset":1160},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#how-to-use","title":null,"data":{"hProperties":{"aria-label":"how to use permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How to use","position":{"start":{"line":19,"column":4,"offset":1165},"end":{"line":19,"column":14,"offset":1175},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1162},"end":{"line":19,"column":14,"offset":1175},"indent":[]},"data":{"id":"how-to-use","htmlAttributes":{"id":"how-to-use"},"hProperties":{"id":"how-to-use"}}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// In your gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-google-gtag`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// You can add multiple tracking ids and a pageview event will be fired for all of them.</span>\n        trackingIds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">\"GA-TRACKING_ID\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Google Analytics / GA</span>\n          <span class=\"token string\">\"AW-CONVERSION_ID\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Google Ads / Adwords / AW</span>\n          <span class=\"token string\">\"DC-FLOODIGHT_ID\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Marketing Platform advertising products (Display &amp; Video 360, Search Ads 360, and Campaign Manager)</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// This object gets passed directly to the gtag config command</span>\n        <span class=\"token comment\">// This config will be shared accross all trackingIds</span>\n        gtagConfig<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          optimize_id<span class=\"token punctuation\">:</span> <span class=\"token string\">\"OPT_CONTAINER_ID\"</span><span class=\"token punctuation\">,</span>\n          anonymize_ip<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          cookie_expires<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// This object is used for configuration specific to this plugin</span>\n        pluginConfig<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// Puts tracking script in the head instead of the body</span>\n          head<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// Setting this parameter is also optional</span>\n          respectDNT<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// Avoids sending pageview hits from custom paths</span>\n          exclude<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/preview/**\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/do-not-track/me/too/\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":21,"column":1,"offset":1177},"end":{"line":54,"column":4,"offset":2378},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#custom-events","title":null,"data":{"hProperties":{"aria-label":"custom events permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Custom Events","position":{"start":{"line":56,"column":4,"offset":2383},"end":{"line":56,"column":17,"offset":2396},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2380},"end":{"line":56,"column":17,"offset":2396},"indent":[]},"data":{"id":"custom-events","htmlAttributes":{"id":"custom-events"},"hProperties":{"id":"custom-events"}}},{"type":"paragraph","children":[{"type":"text","value":"This plugin automatically sends a “pageview” event to all products given as “trackingIds” on every Gatsbys route change.","position":{"start":{"line":58,"column":1,"offset":2398},"end":{"line":58,"column":121,"offset":2518},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2398},"end":{"line":58,"column":121,"offset":2518},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to call a custom event you have access to ","position":{"start":{"line":60,"column":1,"offset":2520},"end":{"line":60,"column":55,"offset":2574},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">window.gtag</code>","position":{"start":{"line":60,"column":55,"offset":2574},"end":{"line":60,"column":68,"offset":2587},"indent":[]}},{"type":"text","value":" where you can call an event for all products:","position":{"start":{"line":60,"column":68,"offset":2587},"end":{"line":60,"column":114,"offset":2633},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2520},"end":{"line":60,"column":114,"offset":2633},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">window<span class=\"token punctuation\">.</span><span class=\"token function\">gtag</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":62,"column":1,"offset":2635},"end":{"line":64,"column":4,"offset":2687},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"or you can target a specific product:","position":{"start":{"line":66,"column":1,"offset":2689},"end":{"line":66,"column":38,"offset":2726},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2689},"end":{"line":66,"column":38,"offset":2726},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">window<span class=\"token punctuation\">.</span><span class=\"token function\">gtag</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> send_to<span class=\"token punctuation\">:</span> <span class=\"token string\">\"AW-CONVERSION_ID\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":68,"column":1,"offset":2728},"end":{"line":70,"column":4,"offset":2809},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In either case don’t forget to guard against SSR:","position":{"start":{"line":72,"column":1,"offset":2811},"end":{"line":72,"column":50,"offset":2860},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2811},"end":{"line":72,"column":50,"offset":2860},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">&amp;&amp;</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">gtag</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":74,"column":1,"offset":2862},"end":{"line":76,"column":4,"offset":2947},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#outboundlink-component","title":null,"data":{"hProperties":{"aria-label":"outboundlink component permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"html","value":"<code class=\"language-text\">&lt;OutboundLink&gt;</code>","position":{"start":{"line":78,"column":4,"offset":2952},"end":{"line":78,"column":20,"offset":2968},"indent":[]}},{"type":"text","value":" component","position":{"start":{"line":78,"column":20,"offset":2968},"end":{"line":78,"column":30,"offset":2978},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2949},"end":{"line":78,"column":30,"offset":2978},"indent":[]},"data":{"id":"outboundlink-component","htmlAttributes":{"id":"outboundlink-component"},"hProperties":{"id":"outboundlink-component"}}},{"type":"paragraph","children":[{"type":"text","value":"To make it easy to track clicks on outbound links the plugin provides a component.","position":{"start":{"line":80,"column":1,"offset":2980},"end":{"line":80,"column":83,"offset":3062},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":2980},"end":{"line":80,"column":83,"offset":3062},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To use it, simply import it and use it like you would the ","position":{"start":{"line":82,"column":1,"offset":3064},"end":{"line":82,"column":59,"offset":3122},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&lt;a&gt;</code>","position":{"start":{"line":82,"column":59,"offset":3122},"end":{"line":82,"column":64,"offset":3127},"indent":[]}},{"type":"text","value":" element e.g.","position":{"start":{"line":82,"column":64,"offset":3127},"end":{"line":82,"column":77,"offset":3140},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":3064},"end":{"line":82,"column":77,"offset":3140},"indent":[]}},{"type":"html","lang":"jsx","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> OutboundLink <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-plugin-google-gtag\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>OutboundLink</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://www.gatsbyjs.org/packages/gatsby-plugin-google-gtag/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Visit the Google Global Site Tag plugin page!\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>OutboundLink</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":84,"column":1,"offset":3142},"end":{"line":95,"column":4,"offset":3437},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#the-gtagconfiganonymize_ip-option","title":null,"data":{"hProperties":{"aria-label":"the gtagconfiganonymize_ip option permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"The “gtagConfig.anonymize_ip” option","position":{"start":{"line":97,"column":4,"offset":3442},"end":{"line":97,"column":40,"offset":3478},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":3439},"end":{"line":97,"column":40,"offset":3478},"indent":[]},"data":{"id":"the-gtagconfiganonymize_ip-option","htmlAttributes":{"id":"the-gtagconfiganonymize_ip-option"},"hProperties":{"id":"the-gtagconfiganonymize_ip-option"}}},{"type":"paragraph","children":[{"type":"text","value":"Some countries (such as Germany) require you to use the\n","position":{"start":{"line":99,"column":1,"offset":3480},"end":{"line":100,"column":1,"offset":3536},"indent":[1]}},{"type":"link","title":null,"url":"https://support.google.com/analytics/answer/2763052","children":[{"type":"text","value":"_","position":{"start":{"line":100,"column":2,"offset":3537},"end":{"line":100,"column":4,"offset":3539},"indent":[]}},{"type":"text","value":"anonymizeIP","position":{"start":{"line":100,"column":4,"offset":3539},"end":{"line":100,"column":15,"offset":3550},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":3536},"end":{"line":100,"column":69,"offset":3604},"indent":[]}},{"type":"text","value":" function for\nGoogle Site Tag. Otherwise you are not allowed to use it. The option adds the\nblock of code below:","position":{"start":{"line":100,"column":69,"offset":3604},"end":{"line":102,"column":21,"offset":3716},"indent":[1,1]}}],"position":{"start":{"line":99,"column":1,"offset":3480},"end":{"line":102,"column":21,"offset":3716},"indent":[1,1,1]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">gaOptout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>cookie <span class=\"token operator\">=</span>\n    disableStr <span class=\"token operator\">+</span> <span class=\"token string\">\"=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">[</span>disableStr<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> gaProperty <span class=\"token operator\">=</span> <span class=\"token string\">\"UA-XXXXXXXX-X\"</span><span class=\"token punctuation\">,</span>\n  disableStr <span class=\"token operator\">=</span> <span class=\"token string\">\"ga-disable-\"</span> <span class=\"token operator\">+</span> gaProperty\ndocument<span class=\"token punctuation\">.</span>cookie<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>disableStr <span class=\"token operator\">+</span> <span class=\"token string\">\"=true\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">[</span>disableStr<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":104,"column":1,"offset":3718},"end":{"line":114,"column":4,"offset":4033},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If your visitors should be able to set an Opt-Out-Cookie (No future tracking)\nyou can set a link e.g. in your imprint as follows:","position":{"start":{"line":116,"column":1,"offset":4035},"end":{"line":117,"column":52,"offset":4164},"indent":[1]}}],"position":{"start":{"line":116,"column":1,"offset":4035},"end":{"line":117,"column":52,"offset":4164},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">&lt;a href=&quot;javascript:gaOptout();&quot;&gt;Deactive Google Tracking&lt;/a&gt;</code>","position":{"start":{"line":119,"column":1,"offset":4166},"end":{"line":119,"column":64,"offset":4229},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":4166},"end":{"line":119,"column":64,"offset":4229},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#the-gtagconfigoptimize_id-option","title":null,"data":{"hProperties":{"aria-label":"the gtagconfigoptimize_id option permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"The “gtagConfig.optimize_id” option","position":{"start":{"line":121,"column":4,"offset":4234},"end":{"line":121,"column":39,"offset":4269},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":4231},"end":{"line":121,"column":39,"offset":4269},"indent":[]},"data":{"id":"the-gtagconfigoptimize_id-option","htmlAttributes":{"id":"the-gtagconfigoptimize_id-option"},"hProperties":{"id":"the-gtagconfigoptimize_id-option"}}},{"type":"paragraph","children":[{"type":"text","value":"If you need to use Google Optimize for A/B testing, you can add this optional Optimize container id to allow Google Optimize to load the correct test parameters for your site.","position":{"start":{"line":123,"column":1,"offset":4271},"end":{"line":123,"column":176,"offset":4446},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":4271},"end":{"line":123,"column":176,"offset":4446},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#other-gtagconfig-options","title":null,"data":{"hProperties":{"aria-label":"other gtagconfig options permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Other “gtagConfig” options","position":{"start":{"line":125,"column":4,"offset":4451},"end":{"line":125,"column":30,"offset":4477},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":4448},"end":{"line":125,"column":30,"offset":4477},"indent":[]},"data":{"id":"other-gtagconfig-options","htmlAttributes":{"id":"other-gtagconfig-options"},"hProperties":{"id":"other-gtagconfig-options"}}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":127,"column":1,"offset":4479},"end":{"line":127,"column":5,"offset":4483},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gtagConfig</code>","position":{"start":{"line":127,"column":5,"offset":4483},"end":{"line":127,"column":17,"offset":4495},"indent":[]}},{"type":"text","value":" is passed directly to the gtag config command, so you can specify everything it supports, e.g. ","position":{"start":{"line":127,"column":17,"offset":4495},"end":{"line":127,"column":113,"offset":4591},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gtagConfig.cookie_name</code>","position":{"start":{"line":127,"column":113,"offset":4591},"end":{"line":127,"column":137,"offset":4615},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":127,"column":137,"offset":4615},"end":{"line":127,"column":139,"offset":4617},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gtagConfig.sample_rate</code>","position":{"start":{"line":127,"column":139,"offset":4617},"end":{"line":127,"column":163,"offset":4641},"indent":[]}},{"type":"text","value":". If you’re migrating from the analytics.js plugin, this means that all Create Only Fields should be snake_cased.","position":{"start":{"line":127,"column":163,"offset":4641},"end":{"line":127,"column":276,"offset":4754},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":4479},"end":{"line":127,"column":276,"offset":4754},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#the-pluginconfigrespectdnt-option","title":null,"data":{"hProperties":{"aria-label":"the pluginconfigrespectdnt option permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"The “pluginConfig.respectDNT” option","position":{"start":{"line":129,"column":4,"offset":4759},"end":{"line":129,"column":40,"offset":4795},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":4756},"end":{"line":129,"column":40,"offset":4795},"indent":[]},"data":{"id":"the-pluginconfigrespectdnt-option","htmlAttributes":{"id":"the-pluginconfigrespectdnt-option"},"hProperties":{"id":"the-pluginconfigrespectdnt-option"}}},{"type":"paragraph","children":[{"type":"text","value":"If you enable this optional option, Google Global Site Tag will not be loaded at all for visitors that have “Do Not Track” enabled. While using Google Global Site Tag does not necessarily constitute Tracking, you might still want to do this to cater to more privacy oriented users.","position":{"start":{"line":131,"column":1,"offset":4797},"end":{"line":131,"column":282,"offset":5078},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":4797},"end":{"line":131,"column":282,"offset":5078},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#the-pluginconfigexclude-option","title":null,"data":{"hProperties":{"aria-label":"the pluginconfigexclude option permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"The “pluginConfig.exclude” option","position":{"start":{"line":133,"column":4,"offset":5083},"end":{"line":133,"column":37,"offset":5116},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":5080},"end":{"line":133,"column":37,"offset":5116},"indent":[]},"data":{"id":"the-pluginconfigexclude-option","htmlAttributes":{"id":"the-pluginconfigexclude-option"},"hProperties":{"id":"the-pluginconfigexclude-option"}}},{"type":"paragraph","children":[{"type":"text","value":"If you need to exclude any path from the tracking system, you can add it (one or more) to this optional array as glob expressions.","position":{"start":{"line":135,"column":1,"offset":5118},"end":{"line":135,"column":131,"offset":5248},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":5118},"end":{"line":135,"column":131,"offset":5248},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":136,"column":1,"offset":5249}}}}