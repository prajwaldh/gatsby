{"expireTime":9007200804686335000,"key":"transformer-remark-markdown-ast-78e02e1429b21e2dfcd9b337c5718818-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"link","url":"#prerequisites","title":null,"data":{"hProperties":{"aria-label":"prerequisites permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Prerequisites","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":17,"offset":17},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":17,"offset":17},"indent":[]},"data":{"id":"prerequisites","htmlAttributes":{"id":"prerequisites"},"hProperties":{"id":"prerequisites"}}},{"type":"paragraph","children":[{"type":"text","value":"If you’re not familiar with Gatsby’s lifecycle, see the overview ","position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":66,"offset":84},"indent":[]}},{"type":"link","title":null,"url":"/docs/gatsby-lifecycle-apis/","children":[{"type":"text","value":"Gatsby Lifecycle APIs","position":{"start":{"line":4,"column":67,"offset":85},"end":{"line":4,"column":88,"offset":106},"indent":[]}}],"position":{"start":{"line":4,"column":66,"offset":84},"end":{"line":4,"column":119,"offset":137},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":4,"column":119,"offset":137},"end":{"line":4,"column":120,"offset":138},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":120,"offset":138},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#what-is-the-replacerenderer-api","title":null,"data":{"hProperties":{"aria-label":"what is the replacerenderer api permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"What is the ","position":{"start":{"line":6,"column":4,"offset":143},"end":{"line":6,"column":16,"offset":155},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":6,"column":16,"offset":155},"end":{"line":6,"column":33,"offset":172},"indent":[]}},{"type":"text","value":" API?","position":{"start":{"line":6,"column":33,"offset":172},"end":{"line":6,"column":38,"offset":177},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":140},"end":{"line":6,"column":38,"offset":177},"indent":[]},"data":{"id":"what-is-the-replacerenderer-api","htmlAttributes":{"id":"what-is-the-replacerenderer-api"},"hProperties":{"id":"what-is-the-replacerenderer-api"}}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":8,"column":1,"offset":179},"end":{"line":8,"column":5,"offset":183},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":8,"column":5,"offset":183},"end":{"line":8,"column":22,"offset":200},"indent":[]}},{"type":"text","value":" API is one of ","position":{"start":{"line":8,"column":22,"offset":200},"end":{"line":8,"column":37,"offset":215},"indent":[]}},{"type":"link","title":null,"url":"/docs/ssr-apis/#replaceRenderer","children":[{"type":"text","value":"Gatsby’s Server Side Rendering (SSR) extension APIs","position":{"start":{"line":8,"column":38,"offset":216},"end":{"line":8,"column":89,"offset":267},"indent":[]}}],"position":{"start":{"line":8,"column":37,"offset":215},"end":{"line":8,"column":123,"offset":301},"indent":[]}},{"type":"text","value":". This API is called when you run ","position":{"start":{"line":8,"column":123,"offset":301},"end":{"line":8,"column":157,"offset":335},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby build</code>","position":{"start":{"line":8,"column":157,"offset":335},"end":{"line":8,"column":171,"offset":349},"indent":[]}},{"type":"text","value":" and is used to customise how Gatsby renders your static content. It can be implemented by any Gatsby plugin or your ","position":{"start":{"line":8,"column":171,"offset":349},"end":{"line":8,"column":288,"offset":466},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":8,"column":288,"offset":466},"end":{"line":8,"column":303,"offset":481},"indent":[]}},{"type":"text","value":" file - adding support for Redux, CSS-in-JS libraries or any code that needs to change Gatsby’s default HTML output.","position":{"start":{"line":8,"column":303,"offset":481},"end":{"line":8,"column":419,"offset":597},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":179},"end":{"line":8,"column":419,"offset":597},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#why-does-it-cause-build-errors","title":null,"data":{"hProperties":{"aria-label":"why does it cause build errors permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why does it cause build errors?","position":{"start":{"line":10,"column":4,"offset":602},"end":{"line":10,"column":35,"offset":633},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":599},"end":{"line":10,"column":35,"offset":633},"indent":[]},"data":{"id":"why-does-it-cause-build-errors","htmlAttributes":{"id":"why-does-it-cause-build-errors"},"hProperties":{"id":"why-does-it-cause-build-errors"}}},{"type":"paragraph","children":[{"type":"text","value":"If multiple plugins implement ","position":{"start":{"line":12,"column":1,"offset":635},"end":{"line":12,"column":31,"offset":665},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":12,"column":31,"offset":665},"end":{"line":12,"column":48,"offset":682},"indent":[]}},{"type":"text","value":" in your project, only the last plugin implementing the API can be called - which will break your site builds.","position":{"start":{"line":12,"column":48,"offset":682},"end":{"line":12,"column":158,"offset":792},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":635},"end":{"line":12,"column":158,"offset":792},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that ","position":{"start":{"line":14,"column":1,"offset":794},"end":{"line":14,"column":11,"offset":804},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":14,"column":11,"offset":804},"end":{"line":14,"column":28,"offset":821},"indent":[]}},{"type":"text","value":" is only used during the build lifecycle. It won’t cause problems as you work on your site with the develop script.","position":{"start":{"line":14,"column":28,"offset":821},"end":{"line":14,"column":143,"offset":936},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":794},"end":{"line":14,"column":143,"offset":936},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If multiple plugins implement ","position":{"start":{"line":16,"column":1,"offset":938},"end":{"line":16,"column":31,"offset":968},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":16,"column":31,"offset":968},"end":{"line":16,"column":48,"offset":985},"indent":[]}},{"type":"text","value":", the build script will warn you:","position":{"start":{"line":16,"column":48,"offset":985},"end":{"line":16,"column":81,"offset":1018},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":938},"end":{"line":16,"column":81,"offset":1018},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">warning replaceRenderer API found in these plugins:\nwarning plugin-name-a, default-site-plugin\nwarning This might be an error, see: https://www.gatsbyjs.org/docs/debugging-replace-renderer-api/\n\nwarning Duplicate replaceRenderer found, skipping gatsby-ssr.js for plugin: plugin-name-a</code></pre></div>","position":{"start":{"line":18,"column":1,"offset":1020},"end":{"line":24,"column":4,"offset":1312},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that ","position":{"start":{"line":26,"column":1,"offset":1314},"end":{"line":26,"column":11,"offset":1324},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">default-site-plugin</code>","position":{"start":{"line":26,"column":11,"offset":1324},"end":{"line":26,"column":32,"offset":1345},"indent":[]}},{"type":"text","value":" refers to your local ","position":{"start":{"line":26,"column":32,"offset":1345},"end":{"line":26,"column":54,"offset":1367},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":26,"column":54,"offset":1367},"end":{"line":26,"column":69,"offset":1382},"indent":[]}},{"type":"text","value":" file, if this file exists it will always be used in favor of ","position":{"start":{"line":26,"column":69,"offset":1382},"end":{"line":26,"column":131,"offset":1444},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":26,"column":131,"offset":1444},"end":{"line":26,"column":146,"offset":1459},"indent":[]}},{"type":"text","value":" from other plugins.","position":{"start":{"line":26,"column":146,"offset":1459},"end":{"line":26,"column":166,"offset":1479},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1314},"end":{"line":26,"column":166,"offset":1479},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#fixing-replacerenderer-build-errors","title":null,"data":{"hProperties":{"aria-label":"fixing replacerenderer build errors permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Fixing ","position":{"start":{"line":28,"column":4,"offset":1484},"end":{"line":28,"column":11,"offset":1491},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":28,"column":11,"offset":1491},"end":{"line":28,"column":28,"offset":1508},"indent":[]}},{"type":"text","value":" build errors","position":{"start":{"line":28,"column":28,"offset":1508},"end":{"line":28,"column":41,"offset":1521},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1481},"end":{"line":28,"column":41,"offset":1521},"indent":[]},"data":{"id":"fixing-replacerenderer-build-errors","htmlAttributes":{"id":"fixing-replacerenderer-build-errors"},"hProperties":{"id":"fixing-replacerenderer-build-errors"}}},{"type":"paragraph","children":[{"type":"text","value":"If you see errors during your build, you can fix them with the following steps.","position":{"start":{"line":30,"column":1,"offset":1523},"end":{"line":30,"column":80,"offset":1602},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1523},"end":{"line":30,"column":80,"offset":1602},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#1-identify-the-plugins-using-replacerenderer","title":null,"data":{"hProperties":{"aria-label":"1 identify the plugins using replacerenderer permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"1. Identify the plugins using ","position":{"start":{"line":32,"column":5,"offset":1608},"end":{"line":32,"column":35,"offset":1638},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":32,"column":35,"offset":1638},"end":{"line":32,"column":52,"offset":1655},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1604},"end":{"line":32,"column":52,"offset":1655},"indent":[]},"data":{"id":"1-identify-the-plugins-using-replacerenderer","htmlAttributes":{"id":"1-identify-the-plugins-using-replacerenderer"},"hProperties":{"id":"1-identify-the-plugins-using-replacerenderer"}}},{"type":"paragraph","children":[{"type":"text","value":"Your error message should list which plugins implement ","position":{"start":{"line":34,"column":1,"offset":1657},"end":{"line":34,"column":56,"offset":1712},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":34,"column":56,"offset":1712},"end":{"line":34,"column":73,"offset":1729},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":34,"column":73,"offset":1729},"end":{"line":34,"column":74,"offset":1730},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1657},"end":{"line":34,"column":74,"offset":1730},"indent":[]}},{"type":"html","lang":"shell","value":"<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">warning replaceRenderer API found <span class=\"token keyword\">in</span> these plugins:\nwarning plugin-name-a, default-site-plugin</code></pre></div>","position":{"start":{"line":36,"column":1,"offset":1732},"end":{"line":39,"column":4,"offset":1839},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, your ","position":{"start":{"line":41,"column":1,"offset":1841},"end":{"line":41,"column":23,"offset":1863},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":41,"column":23,"offset":1863},"end":{"line":41,"column":38,"offset":1878},"indent":[]}},{"type":"text","value":" file and ","position":{"start":{"line":41,"column":38,"offset":1878},"end":{"line":41,"column":48,"offset":1888},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">plugin-name-a</code>","position":{"start":{"line":41,"column":48,"offset":1888},"end":{"line":41,"column":63,"offset":1903},"indent":[]}},{"type":"text","value":" are both using ","position":{"start":{"line":41,"column":63,"offset":1903},"end":{"line":41,"column":79,"offset":1919},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":41,"column":79,"offset":1919},"end":{"line":41,"column":96,"offset":1936},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":41,"column":96,"offset":1936},"end":{"line":41,"column":97,"offset":1937},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1841},"end":{"line":41,"column":97,"offset":1937},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#2-copy-the-plugins-replacerenderer-functionality-to-your-sites-gatsby-ssrjs-file","title":null,"data":{"hProperties":{"aria-label":"2 copy the plugins replacerenderer functionality to your sites gatsby ssrjs file permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"2. Copy the plugins’ ","position":{"start":{"line":43,"column":5,"offset":1943},"end":{"line":43,"column":26,"offset":1964},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":43,"column":26,"offset":1964},"end":{"line":43,"column":43,"offset":1981},"indent":[]}},{"type":"text","value":" functionality to your site’s ","position":{"start":{"line":43,"column":43,"offset":1981},"end":{"line":43,"column":73,"offset":2011},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":43,"column":73,"offset":2011},"end":{"line":43,"column":88,"offset":2026},"indent":[]}},{"type":"text","value":" file","position":{"start":{"line":43,"column":88,"offset":2026},"end":{"line":43,"column":93,"offset":2031},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1939},"end":{"line":43,"column":93,"offset":2031},"indent":[]},"data":{"id":"2-copy-the-plugins-replacerenderer-functionality-to-your-sites-gatsby-ssrjs-file","htmlAttributes":{"id":"2-copy-the-plugins-replacerenderer-functionality-to-your-sites-gatsby-ssrjs-file"},"hProperties":{"id":"2-copy-the-plugins-replacerenderer-functionality-to-your-sites-gatsby-ssrjs-file"}}},{"type":"paragraph","children":[{"type":"text","value":"You’ll need to override your plugins’ ","position":{"start":{"line":45,"column":1,"offset":2033},"end":{"line":45,"column":39,"offset":2071},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":45,"column":39,"offset":2071},"end":{"line":45,"column":56,"offset":2088},"indent":[]}},{"type":"text","value":" code in your ","position":{"start":{"line":45,"column":56,"offset":2088},"end":{"line":45,"column":70,"offset":2102},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":45,"column":70,"offset":2102},"end":{"line":45,"column":85,"offset":2117},"indent":[]}},{"type":"text","value":" file. This step will be different for each project, keep reading to see an example.","position":{"start":{"line":45,"column":85,"offset":2117},"end":{"line":45,"column":169,"offset":2201},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2033},"end":{"line":45,"column":169,"offset":2201},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#example","title":null,"data":{"hProperties":{"aria-label":"example permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Example","position":{"start":{"line":47,"column":4,"offset":2206},"end":{"line":47,"column":11,"offset":2213},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2203},"end":{"line":47,"column":11,"offset":2213},"indent":[]},"data":{"id":"example","htmlAttributes":{"id":"example"},"hProperties":{"id":"example"}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#initial-setup","title":null,"data":{"hProperties":{"aria-label":"initial setup permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Initial setup","position":{"start":{"line":49,"column":5,"offset":2219},"end":{"line":49,"column":18,"offset":2232},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":2215},"end":{"line":49,"column":18,"offset":2232},"indent":[]},"data":{"id":"initial-setup","htmlAttributes":{"id":"initial-setup"},"hProperties":{"id":"initial-setup"}}},{"type":"paragraph","children":[{"type":"text","value":"In this example project we’re using ","position":{"start":{"line":51,"column":1,"offset":2234},"end":{"line":51,"column":37,"offset":2270},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/tree/master/examples/using-redux","children":[{"type":"html","value":"<code class=\"language-text\">redux</code>","position":{"start":{"line":51,"column":38,"offset":2271},"end":{"line":51,"column":45,"offset":2278},"indent":[]}}],"position":{"start":{"line":51,"column":37,"offset":2270},"end":{"line":51,"column":115,"offset":2348},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":51,"column":115,"offset":2348},"end":{"line":51,"column":120,"offset":2353},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-plugin-styled-components","children":[{"type":"text","value":"Gatsby’s Styled Components plugin","position":{"start":{"line":51,"column":121,"offset":2354},"end":{"line":51,"column":154,"offset":2387},"indent":[]}}],"position":{"start":{"line":51,"column":120,"offset":2353},"end":{"line":51,"column":244,"offset":2477},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":51,"column":244,"offset":2477},"end":{"line":51,"column":245,"offset":2478},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2234},"end":{"line":51,"column":245,"offset":2478},"indent":[]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-config.js</div>"},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-styled-components`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":53,"column":1,"offset":2480},"end":{"line":57,"column":4,"offset":2581},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":59,"column":1,"offset":2583},"end":{"line":59,"column":16,"offset":2598},"indent":[]}},{"type":"text","value":" (based on the ","position":{"start":{"line":59,"column":16,"offset":2598},"end":{"line":59,"column":31,"offset":2613},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/examples/using-redux/gatsby-ssr.js","children":[{"type":"text","value":"using Redux example","position":{"start":{"line":59,"column":32,"offset":2614},"end":{"line":59,"column":51,"offset":2633},"indent":[]}}],"position":{"start":{"line":59,"column":31,"offset":2613},"end":{"line":59,"column":135,"offset":2717},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":59,"column":135,"offset":2717},"end":{"line":59,"column":136,"offset":2718},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":2583},"end":{"line":59,"column":136,"offset":2718},"indent":[]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-ssr.js</div>"},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-redux\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderToString <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/server\"</span>\n\n<span class=\"token keyword\">import</span> createStore <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/state/createStore\"</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">replaceRenderer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> bodyComponent<span class=\"token punctuation\">,</span> replaceBodyHTMLString <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ConnectedBody</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>bodyComponent<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n  <span class=\"token function\">replaceBodyHTMLString</span><span class=\"token punctuation\">(</span><span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ConnectedBody <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":61,"column":1,"offset":2720},"end":{"line":74,"column":4,"offset":3163},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that the Styled Components plugin uses ","position":{"start":{"line":76,"column":1,"offset":3165},"end":{"line":76,"column":45,"offset":3209},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":76,"column":45,"offset":3209},"end":{"line":76,"column":62,"offset":3226},"indent":[]}},{"type":"text","value":", and the code in ","position":{"start":{"line":76,"column":62,"offset":3226},"end":{"line":76,"column":80,"offset":3244},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":76,"column":80,"offset":3244},"end":{"line":76,"column":95,"offset":3259},"indent":[]}},{"type":"text","value":" also uses ","position":{"start":{"line":76,"column":95,"offset":3259},"end":{"line":76,"column":106,"offset":3270},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":76,"column":106,"offset":3270},"end":{"line":76,"column":123,"offset":3287},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":76,"column":123,"offset":3287},"end":{"line":76,"column":124,"offset":3288},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":3165},"end":{"line":76,"column":124,"offset":3288},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#fixing-the-replacerenderer-error","title":null,"data":{"hProperties":{"aria-label":"fixing the replacerenderer error permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Fixing the ","position":{"start":{"line":78,"column":5,"offset":3294},"end":{"line":78,"column":16,"offset":3305},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":78,"column":16,"offset":3305},"end":{"line":78,"column":33,"offset":3322},"indent":[]}},{"type":"text","value":" error","position":{"start":{"line":78,"column":33,"offset":3322},"end":{"line":78,"column":39,"offset":3328},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3290},"end":{"line":78,"column":39,"offset":3328},"indent":[]},"data":{"id":"fixing-the-replacerenderer-error","htmlAttributes":{"id":"fixing-the-replacerenderer-error"},"hProperties":{"id":"fixing-the-replacerenderer-error"}}},{"type":"paragraph","children":[{"type":"text","value":"Our ","position":{"start":{"line":80,"column":1,"offset":3330},"end":{"line":80,"column":5,"offset":3334},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":80,"column":5,"offset":3334},"end":{"line":80,"column":23,"offset":3352},"indent":[]}},{"type":"text","value":" file will remain unchanged. However, our ","position":{"start":{"line":80,"column":23,"offset":3352},"end":{"line":80,"column":65,"offset":3394},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":80,"column":65,"offset":3394},"end":{"line":80,"column":80,"offset":3409},"indent":[]}},{"type":"text","value":" file will update to include the ","position":{"start":{"line":80,"column":80,"offset":3409},"end":{"line":80,"column":113,"offset":3442},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-plugin-styled-components/src/gatsby-ssr.js","children":[{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":80,"column":114,"offset":3443},"end":{"line":80,"column":131,"offset":3460},"indent":[]}},{"type":"text","value":" functionality from the Styled Components plugin","position":{"start":{"line":80,"column":131,"offset":3460},"end":{"line":80,"column":179,"offset":3508},"indent":[]}}],"position":{"start":{"line":80,"column":113,"offset":3442},"end":{"line":80,"column":287,"offset":3616},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":3330},"end":{"line":80,"column":287,"offset":3616},"indent":[]}},{"type":"html","value":"<div class=\"gatsby-code-title\">gatsby-ssr.js</div>"},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-redux\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderToString <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/server\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ServerStyleSheet<span class=\"token punctuation\">,</span> StyleSheetManager <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span>\n<span class=\"token keyword\">import</span> createStore <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/state/createStore\"</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">replaceRenderer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  bodyComponent<span class=\"token punctuation\">,</span>\n  replaceBodyHTMLString<span class=\"token punctuation\">,</span>\n  setHeadComponents<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> sheet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServerStyleSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">app</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>StyleSheetManager sheet<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>sheet<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>bodyComponent<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>StyleSheetManager<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token function\">replaceBodyHTMLString</span><span class=\"token punctuation\">(</span><span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>app <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setHeadComponents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>sheet<span class=\"token punctuation\">.</span><span class=\"token function\">getStyleElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":82,"column":1,"offset":3618},"end":{"line":107,"column":4,"offset":4324},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now ","position":{"start":{"line":109,"column":1,"offset":4326},"end":{"line":109,"column":5,"offset":4330},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-ssr.js</code>","position":{"start":{"line":109,"column":5,"offset":4330},"end":{"line":109,"column":20,"offset":4345},"indent":[]}},{"type":"text","value":" implements the Styled Components and Redux functionality using one ","position":{"start":{"line":109,"column":20,"offset":4345},"end":{"line":109,"column":88,"offset":4413},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">replaceRenderer</code>","position":{"start":{"line":109,"column":88,"offset":4413},"end":{"line":109,"column":105,"offset":4430},"indent":[]}},{"type":"text","value":" instance. Run ","position":{"start":{"line":109,"column":105,"offset":4430},"end":{"line":109,"column":120,"offset":4445},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">npm run build</code>","position":{"start":{"line":109,"column":120,"offset":4445},"end":{"line":109,"column":135,"offset":4460},"indent":[]}},{"type":"text","value":" and the site will build correctly.","position":{"start":{"line":109,"column":135,"offset":4460},"end":{"line":109,"column":170,"offset":4495},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":4326},"end":{"line":109,"column":170,"offset":4495},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All the code from this example is ","position":{"start":{"line":111,"column":1,"offset":4497},"end":{"line":111,"column":35,"offset":4531},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/m-allanson/gatsby-replace-renderer-example/commits/master","children":[{"type":"text","value":"available on GitHub","position":{"start":{"line":111,"column":36,"offset":4532},"end":{"line":111,"column":55,"offset":4551},"indent":[]}}],"position":{"start":{"line":111,"column":35,"offset":4531},"end":{"line":111,"column":134,"offset":4630},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":111,"column":134,"offset":4630},"end":{"line":111,"column":135,"offset":4631},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":4497},"end":{"line":111,"column":135,"offset":4631},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":112,"column":1,"offset":4632}}}}