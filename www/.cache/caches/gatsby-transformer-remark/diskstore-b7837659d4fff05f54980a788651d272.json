{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-edbd91381a7b0238e6560ae119b2c771-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"link","url":"#gatsby-codemods","title":null,"data":{"hProperties":{"aria-label":"gatsby codemods permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-codemods","position":{"start":{"line":1,"column":4,"offset":3},"end":{"line":1,"column":19,"offset":18},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":19,"offset":18},"indent":[]},"data":{"id":"gatsby-codemods","htmlAttributes":{"id":"gatsby-codemods"},"hProperties":{"id":"gatsby-codemods"}}},{"type":"paragraph","children":[{"type":"text","value":"A collection of codemod scripts for use with ","position":{"start":{"line":3,"column":1,"offset":20},"end":{"line":3,"column":46,"offset":65},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/facebook/jscodeshift","children":[{"type":"text","value":"JSCodeshift","position":{"start":{"line":3,"column":47,"offset":66},"end":{"line":3,"column":58,"offset":77},"indent":[]}}],"position":{"start":{"line":3,"column":46,"offset":65},"end":{"line":3,"column":100,"offset":119},"indent":[]}},{"type":"text","value":" that help migrate to newer versions of Gatsby.","position":{"start":{"line":3,"column":100,"offset":119},"end":{"line":3,"column":147,"offset":166},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":20},"end":{"line":3,"column":147,"offset":166},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":5,"column":5,"offset":172},"end":{"line":5,"column":10,"offset":177},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":170},"end":{"line":5,"column":12,"offset":179},"indent":[]}},{"type":"text","value":" Codemods are designed to rewrite your project’s files. Ensure you have a backup before going any further.","position":{"start":{"line":5,"column":12,"offset":179},"end":{"line":5,"column":118,"offset":285},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":170},"end":{"line":5,"column":118,"offset":285},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":168},"end":{"line":5,"column":118,"offset":285},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#setup--run","title":null,"data":{"hProperties":{"aria-label":"setup  run permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Setup & Run","position":{"start":{"line":7,"column":5,"offset":291},"end":{"line":7,"column":16,"offset":302},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":287},"end":{"line":7,"column":16,"offset":302},"indent":[]},"data":{"id":"setup--run","htmlAttributes":{"id":"setup--run"},"hProperties":{"id":"setup--run"}}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install JSCodeshift as a global module","position":{"start":{"line":9,"column":3,"offset":306},"end":{"line":9,"column":41,"offset":344},"indent":[]}}],"position":{"start":{"line":9,"column":3,"offset":306},"end":{"line":9,"column":41,"offset":344},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":304},"end":{"line":9,"column":41,"offset":344},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":304},"end":{"line":9,"column":41,"offset":344},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --global jscodeshift</code></pre></div>","position":{"start":{"line":11,"column":1,"offset":346},"end":{"line":13,"column":4,"offset":386},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install this package","position":{"start":{"line":15,"column":3,"offset":390},"end":{"line":15,"column":23,"offset":410},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":390},"end":{"line":15,"column":23,"offset":410},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":388},"end":{"line":15,"column":23,"offset":410},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":388},"end":{"line":15,"column":23,"offset":410},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-codemods</code></pre></div>","position":{"start":{"line":17,"column":1,"offset":412},"end":{"line":19,"column":4,"offset":447},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Run a transform from this package on your project","position":{"start":{"line":21,"column":3,"offset":451},"end":{"line":21,"column":52,"offset":500},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":451},"end":{"line":21,"column":52,"offset":500},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":449},"end":{"line":21,"column":52,"offset":500},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":449},"end":{"line":21,"column":52,"offset":500},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">jscodeshift -t node_modules/gatsby-codemods/transforms/global-graphql-calls.js my-project</code></pre></div>","position":{"start":{"line":23,"column":1,"offset":502},"end":{"line":25,"column":4,"offset":599},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that jscodeshift tries to match the formatting of your existing code, but you may need to use a tool like ","position":{"start":{"line":27,"column":1,"offset":601},"end":{"line":27,"column":112,"offset":712},"indent":[]}},{"type":"link","title":null,"url":"https://prettier.io/","children":[{"type":"text","value":"prettier","position":{"start":{"line":27,"column":113,"offset":713},"end":{"line":27,"column":121,"offset":721},"indent":[]}}],"position":{"start":{"line":27,"column":112,"offset":712},"end":{"line":27,"column":144,"offset":744},"indent":[]}},{"type":"text","value":" to ensure consistency after running these codemods.","position":{"start":{"line":27,"column":144,"offset":744},"end":{"line":27,"column":196,"offset":796},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":601},"end":{"line":27,"column":196,"offset":796},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Structure of a jscodeshift call:","position":{"start":{"line":29,"column":1,"offset":798},"end":{"line":29,"column":33,"offset":830},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":798},"end":{"line":29,"column":33,"offset":830},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">jscodeshift -t &lt;codemod-script&gt; &lt;path&gt;</code>","position":{"start":{"line":31,"column":3,"offset":834},"end":{"line":31,"column":43,"offset":874},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":834},"end":{"line":31,"column":43,"offset":874},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">codemod-script</code>","position":{"start":{"line":32,"column":5,"offset":879},"end":{"line":32,"column":21,"offset":895},"indent":[]}},{"type":"text","value":" - path to the transform file, see available scripts below","position":{"start":{"line":32,"column":21,"offset":895},"end":{"line":32,"column":79,"offset":953},"indent":[]}}],"position":{"start":{"line":32,"column":5,"offset":879},"end":{"line":32,"column":79,"offset":953},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":877},"end":{"line":32,"column":79,"offset":953},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">path</code>","position":{"start":{"line":33,"column":5,"offset":958},"end":{"line":33,"column":11,"offset":964},"indent":[]}},{"type":"text","value":" - files or directory to transform, typically the path to your Gatsby project","position":{"start":{"line":33,"column":11,"offset":964},"end":{"line":33,"column":88,"offset":1041},"indent":[]}}],"position":{"start":{"line":33,"column":5,"offset":958},"end":{"line":33,"column":88,"offset":1041},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":956},"end":{"line":33,"column":88,"offset":1041},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"use the ","position":{"start":{"line":34,"column":5,"offset":1046},"end":{"line":34,"column":13,"offset":1054},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">-d</code>","position":{"start":{"line":34,"column":13,"offset":1054},"end":{"line":34,"column":17,"offset":1058},"indent":[]}},{"type":"text","value":" option for a dry-run and use ","position":{"start":{"line":34,"column":17,"offset":1058},"end":{"line":34,"column":47,"offset":1088},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">-p</code>","position":{"start":{"line":34,"column":47,"offset":1088},"end":{"line":34,"column":51,"offset":1092},"indent":[]}},{"type":"text","value":" to print the output for comparison","position":{"start":{"line":34,"column":51,"offset":1092},"end":{"line":34,"column":86,"offset":1127},"indent":[]}}],"position":{"start":{"line":34,"column":5,"offset":1046},"end":{"line":34,"column":86,"offset":1127},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":1044},"end":{"line":34,"column":86,"offset":1127},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"use the ","position":{"start":{"line":35,"column":5,"offset":1132},"end":{"line":35,"column":13,"offset":1140},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">--extensions</code>","position":{"start":{"line":35,"column":13,"offset":1140},"end":{"line":35,"column":27,"offset":1154},"indent":[]}},{"type":"text","value":" option if your files have different extensions than ","position":{"start":{"line":35,"column":27,"offset":1154},"end":{"line":35,"column":80,"offset":1207},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">.js</code>","position":{"start":{"line":35,"column":80,"offset":1207},"end":{"line":35,"column":85,"offset":1212},"indent":[]}},{"type":"text","value":" (for example, ","position":{"start":{"line":35,"column":85,"offset":1212},"end":{"line":35,"column":100,"offset":1227},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">--extensions js,jsx</code>","position":{"start":{"line":35,"column":100,"offset":1227},"end":{"line":35,"column":121,"offset":1248},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":35,"column":121,"offset":1248},"end":{"line":35,"column":122,"offset":1249},"indent":[]}}],"position":{"start":{"line":35,"column":5,"offset":1132},"end":{"line":35,"column":122,"offset":1249},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":1130},"end":{"line":35,"column":122,"offset":1249},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"see all available ","position":{"start":{"line":36,"column":5,"offset":1254},"end":{"line":36,"column":23,"offset":1272},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/facebook/jscodeshift#usage-cli","children":[{"type":"text","value":"jscodeshift options","position":{"start":{"line":36,"column":24,"offset":1273},"end":{"line":36,"column":43,"offset":1292},"indent":[]}}],"position":{"start":{"line":36,"column":23,"offset":1272},"end":{"line":36,"column":95,"offset":1344},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":36,"column":95,"offset":1344},"end":{"line":36,"column":96,"offset":1345},"indent":[]}}],"position":{"start":{"line":36,"column":5,"offset":1254},"end":{"line":36,"column":96,"offset":1345},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":1252},"end":{"line":36,"column":96,"offset":1345},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":877},"end":{"line":36,"column":96,"offset":1345},"indent":[3,3,3,3]}}],"position":{"start":{"line":31,"column":1,"offset":832},"end":{"line":36,"column":96,"offset":1345},"indent":[1,1,1,1,1]}}],"position":{"start":{"line":31,"column":1,"offset":832},"end":{"line":36,"column":96,"offset":1345},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#included-scripts","title":null,"data":{"hProperties":{"aria-label":"included scripts permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Included scripts","position":{"start":{"line":38,"column":5,"offset":1351},"end":{"line":38,"column":21,"offset":1367},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1347},"end":{"line":38,"column":21,"offset":1367},"indent":[]},"data":{"id":"included-scripts","htmlAttributes":{"id":"included-scripts"},"hProperties":{"id":"included-scripts"}}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#global-graphql-calls","title":null,"data":{"hProperties":{"aria-label":"global graphql calls permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"html","value":"<code class=\"language-text\">global-graphql-calls</code>","position":{"start":{"line":40,"column":6,"offset":1374},"end":{"line":40,"column":28,"offset":1396},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1369},"end":{"line":40,"column":28,"offset":1396},"indent":[]},"data":{"id":"global-graphql-calls","htmlAttributes":{"id":"global-graphql-calls"},"hProperties":{"id":"global-graphql-calls"}}},{"type":"paragraph","children":[{"type":"text","value":"Add a ","position":{"start":{"line":42,"column":1,"offset":1398},"end":{"line":42,"column":7,"offset":1404},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">graphql</code>","position":{"start":{"line":42,"column":7,"offset":1404},"end":{"line":42,"column":16,"offset":1413},"indent":[]}},{"type":"text","value":" import to modules that use the ","position":{"start":{"line":42,"column":16,"offset":1413},"end":{"line":42,"column":48,"offset":1445},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">graphql</code>","position":{"start":{"line":42,"column":48,"offset":1445},"end":{"line":42,"column":57,"offset":1454},"indent":[]}},{"type":"text","value":" tag function without an import. This was supported in Gatsby v1 and deprecated for Gatsby v2.","position":{"start":{"line":42,"column":57,"offset":1454},"end":{"line":42,"column":151,"offset":1548},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1398},"end":{"line":42,"column":151,"offset":1548},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":44,"column":1,"offset":1550},"end":{"line":44,"column":9,"offset":1558},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-graphql-from-gatsby","children":[{"type":"text","value":"Gatsby v2 migration guide for details on when to use this","position":{"start":{"line":44,"column":10,"offset":1559},"end":{"line":44,"column":67,"offset":1616},"indent":[]}}],"position":{"start":{"line":44,"column":9,"offset":1558},"end":{"line":44,"column":147,"offset":1696},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":44,"column":147,"offset":1696},"end":{"line":44,"column":148,"offset":1697},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1550},"end":{"line":44,"column":148,"offset":1697},"indent":[]}},{"type":"html","lang":"sh","value":"<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/global-graphql-calls.js &lt;path&gt;</code></pre></div>","position":{"start":{"line":46,"column":1,"offset":1699},"end":{"line":48,"column":4,"offset":1799},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example result:","position":{"start":{"line":50,"column":1,"offset":1801},"end":{"line":50,"column":16,"offset":1816},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1801},"end":{"line":50,"column":16,"offset":1816},"indent":[]}},{"type":"html","lang":"diff","value":"<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">import React from \"react\"\n<span class=\"token inserted\">+ import { graphql } from \"gatsby\"</span>\n\nexport default ({ data }) => (\n  &lt;h1>{data.site.siteMetadata.title}&lt;/h1>\n)\n\nexport const query = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`</code></pre></div>","position":{"start":{"line":52,"column":1,"offset":1818},"end":{"line":69,"column":4,"offset":2073},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#import-link","title":null,"data":{"hProperties":{"aria-label":"import link permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"html","value":"<code class=\"language-text\">import-link</code>","position":{"start":{"line":71,"column":6,"offset":2080},"end":{"line":71,"column":19,"offset":2093},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2075},"end":{"line":71,"column":19,"offset":2093},"indent":[]},"data":{"id":"import-link","htmlAttributes":{"id":"import-link"},"hProperties":{"id":"import-link"}}},{"type":"paragraph","children":[{"type":"text","value":"Import ","position":{"start":{"line":73,"column":1,"offset":2095},"end":{"line":73,"column":8,"offset":2102},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Link</code>","position":{"start":{"line":73,"column":8,"offset":2102},"end":{"line":73,"column":14,"offset":2108},"indent":[]}},{"type":"text","value":" from ","position":{"start":{"line":73,"column":14,"offset":2108},"end":{"line":73,"column":20,"offset":2114},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby</code>","position":{"start":{"line":73,"column":20,"offset":2114},"end":{"line":73,"column":28,"offset":2122},"indent":[]}},{"type":"text","value":" instead of ","position":{"start":{"line":73,"column":28,"offset":2122},"end":{"line":73,"column":40,"offset":2134},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-link</code>","position":{"start":{"line":73,"column":40,"offset":2134},"end":{"line":73,"column":53,"offset":2147},"indent":[]}},{"type":"text","value":" and remove the ","position":{"start":{"line":73,"column":53,"offset":2147},"end":{"line":73,"column":69,"offset":2163},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-link</code>","position":{"start":{"line":73,"column":69,"offset":2163},"end":{"line":73,"column":82,"offset":2176},"indent":[]}},{"type":"text","value":" import.","position":{"start":{"line":73,"column":82,"offset":2176},"end":{"line":73,"column":90,"offset":2184},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2095},"end":{"line":73,"column":90,"offset":2184},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":75,"column":1,"offset":2186},"end":{"line":75,"column":9,"offset":2194},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#import-link-from-gatsby","children":[{"type":"text","value":"Gatsby v2 migration guide for details on when to use this","position":{"start":{"line":75,"column":10,"offset":2195},"end":{"line":75,"column":67,"offset":2252},"indent":[]}}],"position":{"start":{"line":75,"column":9,"offset":2194},"end":{"line":75,"column":144,"offset":2329},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":75,"column":144,"offset":2329},"end":{"line":75,"column":145,"offset":2330},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2186},"end":{"line":75,"column":145,"offset":2330},"indent":[]}},{"type":"html","lang":"sh","value":"<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/import-link.js &lt;path&gt;</code></pre></div>","position":{"start":{"line":77,"column":1,"offset":2332},"end":{"line":79,"column":4,"offset":2423},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example result:","position":{"start":{"line":81,"column":1,"offset":2425},"end":{"line":81,"column":16,"offset":2440},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2425},"end":{"line":81,"column":16,"offset":2440},"indent":[]}},{"type":"html","lang":"diff","value":"<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted\">- import Link from \"gatsby-link\"</span>\n<span class=\"token inserted\">+ import { Link } from \"gatsby\"</span>\n\nexport default props => (\n  &lt;Link to=\"/\">Home&lt;/Link>\n)</code></pre></div>","position":{"start":{"line":83,"column":1,"offset":2442},"end":{"line":90,"column":4,"offset":2574},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#navigate-calls","title":null,"data":{"hProperties":{"aria-label":"navigate calls permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"html","value":"<code class=\"language-text\">navigate-calls</code>","position":{"start":{"line":92,"column":6,"offset":2581},"end":{"line":92,"column":22,"offset":2597},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2576},"end":{"line":92,"column":22,"offset":2597},"indent":[]},"data":{"id":"navigate-calls","htmlAttributes":{"id":"navigate-calls"},"hProperties":{"id":"navigate-calls"}}},{"type":"paragraph","children":[{"type":"text","value":"Change the deprecated ","position":{"start":{"line":94,"column":1,"offset":2599},"end":{"line":94,"column":23,"offset":2621},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">navigateTo</code>","position":{"start":{"line":94,"column":23,"offset":2621},"end":{"line":94,"column":35,"offset":2633},"indent":[]}},{"type":"text","value":" method from ","position":{"start":{"line":94,"column":35,"offset":2633},"end":{"line":94,"column":48,"offset":2646},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-link</code>","position":{"start":{"line":94,"column":48,"offset":2646},"end":{"line":94,"column":61,"offset":2659},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":94,"column":61,"offset":2659},"end":{"line":94,"column":65,"offset":2663},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">navigate</code>","position":{"start":{"line":94,"column":65,"offset":2663},"end":{"line":94,"column":75,"offset":2673},"indent":[]}},{"type":"text","value":" from the ","position":{"start":{"line":94,"column":75,"offset":2673},"end":{"line":94,"column":85,"offset":2683},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby</code>","position":{"start":{"line":94,"column":85,"offset":2683},"end":{"line":94,"column":93,"offset":2691},"indent":[]}},{"type":"text","value":" module.","position":{"start":{"line":94,"column":93,"offset":2691},"end":{"line":94,"column":101,"offset":2699},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":2599},"end":{"line":94,"column":101,"offset":2699},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":96,"column":1,"offset":2701},"end":{"line":96,"column":9,"offset":2709},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#change-navigateto-to-navigate","children":[{"type":"text","value":"Gatsby v2 migration guide for details on when to use this","position":{"start":{"line":96,"column":10,"offset":2710},"end":{"line":96,"column":67,"offset":2767},"indent":[]}}],"position":{"start":{"line":96,"column":9,"offset":2709},"end":{"line":96,"column":150,"offset":2850},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":96,"column":150,"offset":2850},"end":{"line":96,"column":151,"offset":2851},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2701},"end":{"line":96,"column":151,"offset":2851},"indent":[]}},{"type":"html","lang":"sh","value":"<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/navigate-calls.js &lt;path&gt;</code></pre></div>","position":{"start":{"line":98,"column":1,"offset":2853},"end":{"line":100,"column":4,"offset":2947},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example result:","position":{"start":{"line":102,"column":1,"offset":2949},"end":{"line":102,"column":16,"offset":2964},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":2949},"end":{"line":102,"column":16,"offset":2964},"indent":[]}},{"type":"html","lang":"diff","value":"<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">import React from \"react\"\n<span class=\"token deleted\">- import { navigateTo } from \"gatsby-link\"</span>\n<span class=\"token inserted\">+ import { navigate } from \"gatsby\"</span>\n\n// Don't use navigate with an onClick btw :-)\n// Generally just use the `&lt;Link>` component.\nexport default props => (\n<span class=\"token deleted\">-  &lt;div onClick={() => navigateTo(`/`)}>Click to go to home&lt;/div></span>\n<span class=\"token inserted\">+  &lt;div onClick={() => navigate(`/`)}>Click to go to home&lt;/div></span>\n)</code></pre></div>","position":{"start":{"line":104,"column":1,"offset":2966},"end":{"line":115,"column":4,"offset":3333},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#rename-bound-action-creators","title":null,"data":{"hProperties":{"aria-label":"rename bound action creators permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"html","value":"<code class=\"language-text\">rename-bound-action-creators</code>","position":{"start":{"line":117,"column":6,"offset":3340},"end":{"line":117,"column":36,"offset":3370},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":3335},"end":{"line":117,"column":36,"offset":3370},"indent":[]},"data":{"id":"rename-bound-action-creators","htmlAttributes":{"id":"rename-bound-action-creators"},"hProperties":{"id":"rename-bound-action-creators"}}},{"type":"paragraph","children":[{"type":"text","value":"Rename ","position":{"start":{"line":119,"column":1,"offset":3372},"end":{"line":119,"column":8,"offset":3379},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">boundActionCreators</code>","position":{"start":{"line":119,"column":8,"offset":3379},"end":{"line":119,"column":29,"offset":3400},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":119,"column":29,"offset":3400},"end":{"line":119,"column":33,"offset":3404},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">actions</code>","position":{"start":{"line":119,"column":33,"offset":3404},"end":{"line":119,"column":42,"offset":3413},"indent":[]}},{"type":"text","value":". ","position":{"start":{"line":119,"column":42,"offset":3413},"end":{"line":119,"column":44,"offset":3415},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">boundActionCreators</code>","position":{"start":{"line":119,"column":44,"offset":3415},"end":{"line":119,"column":65,"offset":3436},"indent":[]}},{"type":"text","value":" has been deprecated in Gatsby v2","position":{"start":{"line":119,"column":65,"offset":3436},"end":{"line":119,"column":98,"offset":3469},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":3372},"end":{"line":119,"column":98,"offset":3469},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note: Run this codemod only against files that use ","position":{"start":{"line":121,"column":1,"offset":3471},"end":{"line":121,"column":52,"offset":3522},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">boundActionCreators</code>","position":{"start":{"line":121,"column":52,"offset":3522},"end":{"line":121,"column":73,"offset":3543},"indent":[]}},{"type":"text","value":" instead of running it against a whole directory.","position":{"start":{"line":121,"column":73,"offset":3543},"end":{"line":121,"column":122,"offset":3592},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3471},"end":{"line":121,"column":122,"offset":3592},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":123,"column":1,"offset":3594},"end":{"line":123,"column":9,"offset":3602},"indent":[]}},{"type":"link","title":null,"url":"https://gatsbyjs.org/docs/migrating-from-v1-to-v2/#rename-boundactioncreators-to-actions","children":[{"type":"text","value":"Gatsby v2 migration guide for details on when to use this","position":{"start":{"line":123,"column":10,"offset":3603},"end":{"line":123,"column":67,"offset":3660},"indent":[]}}],"position":{"start":{"line":123,"column":9,"offset":3602},"end":{"line":123,"column":158,"offset":3751},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":123,"column":158,"offset":3751},"end":{"line":123,"column":159,"offset":3752},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":3594},"end":{"line":123,"column":159,"offset":3752},"indent":[]}},{"type":"html","lang":"sh","value":"<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">jscodeshift -t node_modules/gatsby-codemods/dist/transforms/rename-bound-action-creators.js &lt;path-to-file&gt;</code></pre></div>","position":{"start":{"line":125,"column":1,"offset":3754},"end":{"line":127,"column":4,"offset":3870},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example result:","position":{"start":{"line":129,"column":1,"offset":3872},"end":{"line":129,"column":16,"offset":3887},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3872},"end":{"line":129,"column":16,"offset":3887},"indent":[]}},{"type":"html","lang":"diff","value":"<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted\">- exports.onCreateNode = ({ node, getNode, boundActionCreators }) => {</span>\n<span class=\"token inserted\">+ exports.onCreateNode = ({ node, getNode, actions }) => {</span>\n<span class=\"token deleted\">- const { createNodeField } = boundActionCreators</span>\n<span class=\"token inserted\">+ const { createNodeField } = actions</span>\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode, basePath: `pages` })\n    createNodeField({\n      node,\n      name: `slug`,\n      value: slug,\n    })\n  }\n}</code></pre></div>","position":{"start":{"line":131,"column":1,"offset":3889},"end":{"line":145,"column":4,"offset":4323},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#more-scripts","title":null,"data":{"hProperties":{"aria-label":"more scripts permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"More scripts","position":{"start":{"line":147,"column":5,"offset":4329},"end":{"line":147,"column":17,"offset":4341},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":4325},"end":{"line":147,"column":17,"offset":4341},"indent":[]},"data":{"id":"more-scripts","htmlAttributes":{"id":"more-scripts"},"hProperties":{"id":"more-scripts"}}},{"type":"paragraph","children":[{"type":"text","value":"Check out ","position":{"start":{"line":149,"column":1,"offset":4343},"end":{"line":149,"column":11,"offset":4353},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/gatsbyjs/gatsby/issues/5038#issuecomment-411516865","children":[{"type":"text","value":"issue 5038 in the Gatsby repo for additional codemod ideas","position":{"start":{"line":149,"column":12,"offset":4354},"end":{"line":149,"column":70,"offset":4412},"indent":[]}}],"position":{"start":{"line":149,"column":11,"offset":4353},"end":{"line":149,"column":142,"offset":4484},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":149,"column":142,"offset":4484},"end":{"line":149,"column":143,"offset":4485},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":4343},"end":{"line":149,"column":143,"offset":4485},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We’d love your help with writing these!","position":{"start":{"line":151,"column":1,"offset":4487},"end":{"line":151,"column":40,"offset":4526},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":4487},"end":{"line":151,"column":40,"offset":4526},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":152,"column":1,"offset":4527}}}}