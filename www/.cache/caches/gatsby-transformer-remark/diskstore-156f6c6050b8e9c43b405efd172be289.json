{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-html-ast-9239e870eb2121db3cf76f9c287ab057-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"gatsby-firebase-source"},"children":[{"type":"element","tagName":"a","properties":{"href":"#gatsby-firebase-source","aria-label":"gatsby firebase source permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Gatsby Firebase Source","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":25,"offset":24}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":25,"offset":24}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Quick and dirty firebase source for Gatsby. Allows you to query your firebase data right into your statically generated pages with Gatsby.","position":{"start":{"line":3,"column":1,"offset":26},"end":{"line":3,"column":139,"offset":164}}}],"position":{"start":{"line":3,"column":1,"offset":26},"end":{"line":3,"column":139,"offset":164}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"./screenshot.png"},"children":[{"type":"text","value":"screenshot","position":{"start":{"line":5,"column":2,"offset":167},"end":{"line":5,"column":12,"offset":177}}}],"position":{"start":{"line":5,"column":1,"offset":166},"end":{"line":5,"column":31,"offset":196}}}],"position":{"start":{"line":5,"column":1,"offset":166},"end":{"line":5,"column":31,"offset":196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"usage"},"children":[{"type":"element","tagName":"a","properties":{"href":"#usage","aria-label":"usage permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Usage","position":{"start":{"line":7,"column":4,"offset":201},"end":{"line":7,"column":9,"offset":206}}}],"position":{"start":{"line":7,"column":1,"offset":198},"end":{"line":7,"column":9,"offset":206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First you need a Private Key from firebase for priviledged enviornments, find out how to get it here: ","position":{"start":{"line":9,"column":4,"offset":211},"end":{"line":9,"column":106,"offset":313}}},{"type":"element","tagName":"a","properties":{"href":"https://firebase.google.com/docs/admin/setup"},"children":[{"type":"text","value":"https://firebase.google.com/docs/admin/setup","position":{"start":{"line":9,"column":106,"offset":313},"end":{"line":9,"column":150,"offset":357}}}],"position":{"start":{"line":9,"column":106,"offset":313},"end":{"line":9,"column":150,"offset":357}}},{"type":"text","value":" (or click the settings gear > Service accounts tab > Generate New Private Key button at the bottom)","position":{"start":{"line":9,"column":150,"offset":357},"end":{"line":9,"column":250,"offset":457}}}],"position":{"start":{"line":9,"column":4,"offset":211},"end":{"line":9,"column":250,"offset":457}}},{"type":"text","value":"\n"}],"position":{"start":{"line":9,"column":1,"offset":208},"end":{"line":10,"column":1,"offset":458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Place that private key .json file somewhere in your gatsby project (the root is fine).","position":{"start":{"line":11,"column":4,"offset":462},"end":{"line":11,"column":90,"offset":548}}}],"position":{"start":{"line":11,"column":4,"offset":462},"end":{"line":11,"column":90,"offset":548}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":1,"offset":459},"end":{"line":12,"column":1,"offset":549}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Configure gatsby-config.js","position":{"start":{"line":13,"column":4,"offset":553},"end":{"line":13,"column":30,"offset":579}}}],"position":{"start":{"line":13,"column":4,"offset":553},"end":{"line":13,"column":30,"offset":579}}},{"type":"text","value":"\n"}],"position":{"start":{"line":13,"column":1,"offset":550},"end":{"line":13,"column":30,"offset":579}}},{"type":"text","value":"\n"}],"position":{"start":{"line":9,"column":1,"offset":208},"end":{"line":13,"column":30,"offset":579}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// the plugin options are:</span>\n<span class=\"token punctuation\">{</span>\n  credential<span class=\"token punctuation\">,</span>\n  databaseURL<span class=\"token punctuation\">,</span>\n  types<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">,</span>\n    query<span class=\"token punctuation\">,</span>\n    map\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Here's an example:</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// the rest of your config</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-firebase`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// point to the firebase private key downloaded</span>\n        credential<span class=\"token punctuation\">:</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./firebase-key.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// your firebase database root url</span>\n        databaseURL<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://reactjs-training.firebaseio.com\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// you can have multiple \"types\" that point to different paths</span>\n        types<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// this type will become `allWorkshop` in graphql</span>\n            type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Workshop\"</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token comment\">// the path to get the records from</span>\n            path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"v2/data/workshops\"</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token comment\">// probably don't want your entire database, use the query option</span>\n            <span class=\"token comment\">// to limit however you'd like</span>\n            query<span class=\"token punctuation\">:</span> ref <span class=\"token operator\">=></span> ref<span class=\"token punctuation\">.</span><span class=\"token function\">limitToLast</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token comment\">// This allows you to map your data to data that GraphQL likes:</span>\n            <span class=\"token comment\">// 1. Turn your lists into actual arrays</span>\n            <span class=\"token comment\">// 2. Fix keys that GraphQL hates. It doesn't allow number keys</span>\n            <span class=\"token comment\">//    like \"0\", you'll get this error pretty often:</span>\n            <span class=\"token comment\">//    Error: Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but \"0\" does not</span>\n            <span class=\"token comment\">// 3. Remove stuff you don't need.</span>\n            <span class=\"token comment\">//</span>\n            <span class=\"token comment\">// Feel free to mutate, we sent you a copy anyway.</span>\n            map<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token comment\">// fix keys graphql hates</span>\n              node<span class=\"token punctuation\">.</span>nineteenEightyFive <span class=\"token operator\">=</span> node<span class=\"token punctuation\">[</span><span class=\"token string\">'1985'</span><span class=\"token punctuation\">]</span>\n              <span class=\"token keyword\">delete</span> node<span class=\"token punctuation\">[</span><span class=\"token string\">'1985'</span><span class=\"token punctuation\">]</span>\n\n              <span class=\"token comment\">// convert a child list to an array:</span>\n              <span class=\"token keyword\">return</span> node<span class=\"token punctuation\">.</span>sessions <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> _key<span class=\"token punctuation\">:</span> key<span class=\"token punctuation\">,</span> session<span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n              <span class=\"token comment\">// finally, return the node</span>\n              <span class=\"token keyword\">return</span> node\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n          <span class=\"token comment\">// if you're data is really simple, this should be fine too</span>\n          <span class=\"token punctuation\">{</span>\n            type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"CourseDescriptions\"</span><span class=\"token punctuation\">,</span>\n            path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"text/courseDescriptions\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":16,"column":1,"offset":582},"end":{"line":89,"column":4,"offset":2675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enjoy!","position":{"start":{"line":91,"column":1,"offset":2677},"end":{"line":91,"column":7,"offset":2683}}}],"position":{"start":{"line":91,"column":1,"offset":2677},"end":{"line":91,"column":7,"offset":2683}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":92,"column":1,"offset":2684}}}}