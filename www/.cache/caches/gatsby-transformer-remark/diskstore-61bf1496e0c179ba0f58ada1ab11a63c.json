{"expireTime":9007200804686409000,"key":"transformer-remark-markdown-html-ast-7cf64d72280667928ca0ea305ad3be03-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Languages are a key part of who we are; they are an expression of our identity.\nServing users content in their own language is a powerful thing, and it allows\nyou to include nuances and specific cultural references in a way Google\nTranslate just wouldn’t allow.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":5,"column":31,"offset":262}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":5,"column":31,"offset":262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When we were looking for a new framework for the new\n","position":{"start":{"line":7,"column":1,"offset":264},"end":{"line":8,"column":1,"offset":317}}},{"type":"element","tagName":"a","properties":{"href":"https://doopoll.co"},"children":[{"type":"text","value":"doopoll","position":{"start":{"line":8,"column":2,"offset":318},"end":{"line":8,"column":9,"offset":325}}}],"position":{"start":{"line":8,"column":1,"offset":317},"end":{"line":8,"column":30,"offset":346}}},{"type":"text","value":" marketing site, we knew we’d want to support i18n\nfrom the start.","position":{"start":{"line":8,"column":30,"offset":346},"end":{"line":9,"column":16,"offset":412}}}],"position":{"start":{"line":7,"column":1,"offset":264},"end":{"line":9,"column":16,"offset":412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We were wowed with Gatsby’s simplicity and speed, but couldn’t find any clear\nprocess for supporting i18n. With a little bit of digging and experimenting,\nwe’ve found that it’s just as easy as the rest of the process.","position":{"start":{"line":11,"column":1,"offset":414},"end":{"line":13,"column":63,"offset":631}}}],"position":{"start":{"line":11,"column":1,"offset":414},"end":{"line":13,"column":63,"offset":631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here is how we set up i18n for our Gatsby marketing site, and a few tips along\nthe way.","position":{"start":{"line":15,"column":1,"offset":633},"end":{"line":16,"column":9,"offset":720}}}],"position":{"start":{"line":15,"column":1,"offset":633},"end":{"line":16,"column":9,"offset":720}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":18,"column":1,"offset":722},"end":{"line":18,"column":4,"offset":725}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"quick-intro-to-i18n"},"children":[{"type":"element","tagName":"a","properties":{"href":"#quick-intro-to-i18n","aria-label":"quick intro to i18n permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Quick intro to i18n","position":{"start":{"line":20,"column":4,"offset":730},"end":{"line":20,"column":23,"offset":749}}}],"position":{"start":{"line":20,"column":1,"offset":727},"end":{"line":20,"column":23,"offset":749}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Just in case you’re new to i18n, don’t worry, it’s pretty simple! All we do is\ntake hard-coded strings like “Hello” and replace them with a variable so that\nwhen the language changes, so does the string.","position":{"start":{"line":22,"column":1,"offset":751},"end":{"line":24,"column":47,"offset":954}}}],"position":{"start":{"line":22,"column":1,"offset":751},"end":{"line":24,"column":47,"offset":954}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"So for example rather than write ","position":{"start":{"line":26,"column":1,"offset":956},"end":{"line":26,"column":34,"offset":989}}},{"type":"raw","value":"<code class=\"language-text\">&lt;h1&gt;Hello&lt;/h1&gt;</code>","position":{"start":{"line":26,"column":34,"offset":989},"end":{"line":26,"column":50,"offset":1005}}},{"type":"text","value":". I might write\n","position":{"start":{"line":26,"column":50,"offset":1005},"end":{"line":27,"column":1,"offset":1021}}},{"type":"raw","value":"<code class=\"language-text\">&lt;h1&gt;{t(hello)}</code>","position":{"start":{"line":27,"column":1,"offset":1021},"end":{"line":27,"column":17,"offset":1037}}},{"type":"text","value":" (more on this later), and the user would see ‘Hello’,\n‘Bonjour’, or ‘Hola’ depending on what language they had switched to, and\nwhether we’d added a translation for it.","position":{"start":{"line":27,"column":17,"offset":1037},"end":{"line":29,"column":41,"offset":1206}}}],"position":{"start":{"line":26,"column":1,"offset":956},"end":{"line":29,"column":41,"offset":1206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"tip-a-quick-note-on-language-codes"},"children":[{"type":"element","tagName":"a","properties":{"href":"#tip-a-quick-note-on-language-codes","aria-label":"tip a quick note on language codes permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"TIP: A quick note on language codes","position":{"start":{"line":31,"column":5,"offset":1212},"end":{"line":31,"column":40,"offset":1247}}}],"position":{"start":{"line":31,"column":1,"offset":1208},"end":{"line":31,"column":40,"offset":1247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.science.co.il/language/Codes.php"},"children":[{"type":"text","value":"Each language has a unique code","position":{"start":{"line":33,"column":2,"offset":1250},"end":{"line":33,"column":33,"offset":1281}}}],"position":{"start":{"line":33,"column":1,"offset":1249},"end":{"line":33,"column":80,"offset":1328}}},{"type":"text","value":".\nWe use this code to reference a language in our code. If you see a hyphen and\nthen some letters after it, they refer to the locale. So for example:","position":{"start":{"line":33,"column":80,"offset":1328},"end":{"line":35,"column":70,"offset":1477}}}],"position":{"start":{"line":33,"column":1,"offset":1249},"end":{"line":35,"column":70,"offset":1477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"en = English cy = Welsh es = Spanish en-GB = British English en-US = American\nEnglish","position":{"start":{"line":37,"column":1,"offset":1479},"end":{"line":38,"column":8,"offset":1564}}}],"position":{"start":{"line":37,"column":1,"offset":1479},"end":{"line":38,"column":8,"offset":1564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The locale allows us to make changes to spelling (for example, “colour” vs.\n“color”), but can also be used for other functions such as currency.","position":{"start":{"line":40,"column":1,"offset":1566},"end":{"line":41,"column":69,"offset":1710}}}],"position":{"start":{"line":40,"column":1,"offset":1566},"end":{"line":41,"column":69,"offset":1710}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"working-with-translators"},"children":[{"type":"element","tagName":"a","properties":{"href":"#working-with-translators","aria-label":"working with translators permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Working with translators","position":{"start":{"line":43,"column":4,"offset":1715},"end":{"line":43,"column":28,"offset":1739}}}],"position":{"start":{"line":43,"column":1,"offset":1712},"end":{"line":43,"column":28,"offset":1739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At doopoll we speak multiple languages, but just like design, development, and\ncopywriting, translation requires time and skill to get it right. That’s why we\nwork with our awesome friends at ","position":{"start":{"line":45,"column":1,"offset":1741},"end":{"line":47,"column":34,"offset":1933}}},{"type":"element","tagName":"a","properties":{"href":"https://applingua.com/"},"children":[{"type":"text","value":"Applingua","position":{"start":{"line":47,"column":35,"offset":1934},"end":{"line":47,"column":44,"offset":1943}}}],"position":{"start":{"line":47,"column":34,"offset":1933},"end":{"line":47,"column":69,"offset":1968}}},{"type":"text","value":" who handle\nall of our translation, and push new strings straight to our Git Repo 🙌.","position":{"start":{"line":47,"column":69,"offset":1968},"end":{"line":48,"column":74,"offset":2053}}}],"position":{"start":{"line":45,"column":1,"offset":1741},"end":{"line":48,"column":74,"offset":2053}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are other options out there. You can even crowd source your translations!\nHowever, in our experience, if you’re going to be updating your site regularly\nit pays to build a good working relationship with a translator. They will\nunderstand your brand, and how to effectively communicate your tone of voice in\na different language.","position":{"start":{"line":50,"column":1,"offset":2055},"end":{"line":54,"column":22,"offset":2389}}}],"position":{"start":{"line":50,"column":1,"offset":2055},"end":{"line":54,"column":22,"offset":2389}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"choosing-a-package"},"children":[{"type":"element","tagName":"a","properties":{"href":"#choosing-a-package","aria-label":"choosing a package permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Choosing a package","position":{"start":{"line":56,"column":4,"offset":2394},"end":{"line":56,"column":22,"offset":2412}}}],"position":{"start":{"line":56,"column":1,"offset":2391},"end":{"line":56,"column":22,"offset":2412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are a few React i18n packages out there. We considered\n","position":{"start":{"line":58,"column":1,"offset":2414},"end":{"line":59,"column":1,"offset":2475}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/yahoo/react-intl"},"children":[{"type":"text","value":"react-intl","position":{"start":{"line":59,"column":2,"offset":2476},"end":{"line":59,"column":12,"offset":2486}}}],"position":{"start":{"line":59,"column":1,"offset":2475},"end":{"line":59,"column":50,"offset":2524}}},{"type":"text","value":" and the community\n","position":{"start":{"line":59,"column":50,"offset":2524},"end":{"line":60,"column":1,"offset":2543}}},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/gatsby-plugin-i18n"},"children":[{"type":"text","value":"Gatsby plugin","position":{"start":{"line":60,"column":2,"offset":2544},"end":{"line":60,"column":15,"offset":2557}}}],"position":{"start":{"line":60,"column":1,"offset":2543},"end":{"line":60,"column":66,"offset":2608}}},{"type":"text","value":". However, we\nopted for ","position":{"start":{"line":60,"column":66,"offset":2608},"end":{"line":61,"column":11,"offset":2632}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/i18next/react-i18next/"},"children":[{"type":"text","value":"react-i18next","position":{"start":{"line":61,"column":12,"offset":2633},"end":{"line":61,"column":25,"offset":2646}}}],"position":{"start":{"line":61,"column":11,"offset":2632},"end":{"line":61,"column":69,"offset":2690}}},{"type":"text","value":" because we\nuse a version of i18next in our core Meteor app, and our translators are\nfamiliar with the system.\n","position":{"start":{"line":61,"column":69,"offset":2690},"end":{"line":64,"column":1,"offset":2801}}},{"type":"element","tagName":"a","properties":{"href":"https://react.i18next.com/"},"children":[{"type":"text","value":"It’s well documented too","position":{"start":{"line":64,"column":2,"offset":2802},"end":{"line":64,"column":26,"offset":2826}}}],"position":{"start":{"line":64,"column":1,"offset":2801},"end":{"line":64,"column":55,"offset":2855}}},{"type":"text","value":".","position":{"start":{"line":64,"column":55,"offset":2855},"end":{"line":64,"column":56,"offset":2856}}}],"position":{"start":{"line":58,"column":1,"offset":2414},"end":{"line":64,"column":56,"offset":2856}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We also wanted to use a non-specific Gatsby solution so we can use a similar\nimplementation in other projects.","position":{"start":{"line":66,"column":1,"offset":2858},"end":{"line":67,"column":34,"offset":2968}}}],"position":{"start":{"line":66,"column":1,"offset":2858},"end":{"line":67,"column":34,"offset":2968}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get started, you’ll need to install a few packages:","position":{"start":{"line":69,"column":1,"offset":2970},"end":{"line":69,"column":55,"offset":3024}}}],"position":{"start":{"line":69,"column":1,"offset":2970},"end":{"line":69,"column":55,"offset":3024}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">npm i -S i18next i18next-xhr-backend i18next-browser-languagedetector react-i18next</code>","position":{"start":{"line":71,"column":1,"offset":3026},"end":{"line":71,"column":86,"offset":3111}}}],"position":{"start":{"line":71,"column":1,"offset":3026},"end":{"line":71,"column":86,"offset":3111}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"setting-up"},"children":[{"type":"element","tagName":"a","properties":{"href":"#setting-up","aria-label":"setting up permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Setting up","position":{"start":{"line":73,"column":4,"offset":3116},"end":{"line":73,"column":14,"offset":3126}}}],"position":{"start":{"line":73,"column":1,"offset":3113},"end":{"line":73,"column":14,"offset":3126}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is straight from the\n","position":{"start":{"line":75,"column":1,"offset":3128},"end":{"line":76,"column":1,"offset":3154}}},{"type":"element","tagName":"a","properties":{"href":"https://react.i18next.com/components/i18next-instance.html"},"children":[{"type":"text","value":"i18n code examples","position":{"start":{"line":76,"column":2,"offset":3155},"end":{"line":76,"column":20,"offset":3173}}}],"position":{"start":{"line":76,"column":1,"offset":3154},"end":{"line":76,"column":81,"offset":3234}}},{"type":"text","value":",\nbut copied here for convenience. You’ll need to create an i18n component and\nimport it somewhere (we did it in our index layout):","position":{"start":{"line":76,"column":81,"offset":3234},"end":{"line":78,"column":53,"offset":3365}}}],"position":{"start":{"line":75,"column":1,"offset":3128},"end":{"line":78,"column":53,"offset":3365}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> i18n <span class=\"token keyword\">from</span> <span class=\"token string\">\"i18next\"</span>\n<span class=\"token keyword\">import</span> Backend <span class=\"token keyword\">from</span> <span class=\"token string\">\"i18next-xhr-backend\"</span>\n<span class=\"token keyword\">import</span> LanguageDetector <span class=\"token keyword\">from</span> <span class=\"token string\">\"i18next-browser-languagedetector\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> reactI18nextModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-i18next\"</span>\n\ni18n\n  <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Backend<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>LanguageDetector<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>reactI18nextModule<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    fallbackLng<span class=\"token punctuation\">:</span> <span class=\"token string\">\"en\"</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">// have a common namespace used around the full app</span>\n    ns<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"translations\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    defaultNS<span class=\"token punctuation\">:</span> <span class=\"token string\">\"translations\"</span><span class=\"token punctuation\">,</span>\n\n    debug<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\n    interpolation<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      escapeValue<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// not needed for react!!</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    react<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      wait<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> i18n</code></pre></div>","position":{"start":{"line":80,"column":1,"offset":3367},"end":{"line":109,"column":4,"offset":3946}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"locales"},"children":[{"type":"element","tagName":"a","properties":{"href":"#locales","aria-label":"locales permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Locales","position":{"start":{"line":111,"column":4,"offset":3951},"end":{"line":111,"column":11,"offset":3958}}}],"position":{"start":{"line":111,"column":1,"offset":3948},"end":{"line":111,"column":11,"offset":3958}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next we’ll create a folder for our translation strings. We used a folder called\nlocales in our src folder (react-i18next likes that!). Within the locales folder\nwe create a folder for each language using the language code. Then within that\nwe create a JSON file for each component we want to translate.","position":{"start":{"line":113,"column":1,"offset":3960},"end":{"line":116,"column":63,"offset":4262}}}],"position":{"start":{"line":113,"column":1,"offset":3960},"end":{"line":116,"column":63,"offset":4262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For our site we’re currently supporting English and Welsh, so our locales folder\nlooks like this.","position":{"start":{"line":118,"column":1,"offset":4264},"end":{"line":119,"column":17,"offset":4361}}}],"position":{"start":{"line":118,"column":1,"offset":4264},"end":{"line":119,"column":17,"offset":4361}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- src\n\t- locales\n\t\t- en\n\t\t\t- PageHeader.json\n\t\t\t- PricingPlan.json\n\t\t...\n\t\t- cy\n\t\t\t- PageHeader.json\n\t\t\t- PricingPlan.json\n\t\t...</code></pre></div>","position":{"start":{"line":121,"column":1,"offset":4363},"end":{"line":132,"column":4,"offset":4499}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":134,"column":1,"offset":4501},"end":{"line":134,"column":5,"offset":4505}}},{"type":"raw","value":"<code class=\"language-text\">PageHeader</code>","position":{"start":{"line":134,"column":5,"offset":4505},"end":{"line":134,"column":17,"offset":4517}}},{"type":"text","value":" component in the ","position":{"start":{"line":134,"column":17,"offset":4517},"end":{"line":134,"column":35,"offset":4535}}},{"type":"raw","value":"<code class=\"language-text\">en</code>","position":{"start":{"line":134,"column":35,"offset":4535},"end":{"line":134,"column":39,"offset":4539}}},{"type":"text","value":" folder might look like this:","position":{"start":{"line":134,"column":39,"offset":4539},"end":{"line":134,"column":68,"offset":4568}}}],"position":{"start":{"line":134,"column":1,"offset":4501},"end":{"line":134,"column":68,"offset":4568}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"heading\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Shwmae, bonjour, and hola!\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Available in English, Welsh, French, and Spanish, with more translations coming soon. doopoll is great for local, multi-lingual, and global organisations.\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":136,"column":1,"offset":4570},"end":{"line":141,"column":4,"offset":4802}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And the ","position":{"start":{"line":143,"column":1,"offset":4804},"end":{"line":143,"column":9,"offset":4812}}},{"type":"raw","value":"<code class=\"language-text\">cy</code>","position":{"start":{"line":143,"column":9,"offset":4812},"end":{"line":143,"column":13,"offset":4816}}},{"type":"text","value":" component would look like this:","position":{"start":{"line":143,"column":13,"offset":4816},"end":{"line":143,"column":45,"offset":4848}}}],"position":{"start":{"line":143,"column":1,"offset":4804},"end":{"line":143,"column":45,"offset":4848}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"heading\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Shwmae, bonjour, a hola!\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Ar gael yn Saesneg, Cymraeg, Ffrangeg a Sbaeneg, gyda rhagor o gyfieithiadau'n dod yn fuan. Mae doopoll yn wych ar gyfer sefydliadau lleol, amlieithog a byd-eang.\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":145,"column":1,"offset":4850},"end":{"line":150,"column":4,"offset":5088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"tip-using-the-locales-folder-with-gatsby"},"children":[{"type":"element","tagName":"a","properties":{"href":"#tip-using-the-locales-folder-with-gatsby","aria-label":"tip using the locales folder with gatsby permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"TIP: Using the locales folder with Gatsby","position":{"start":{"line":152,"column":5,"offset":5094},"end":{"line":152,"column":46,"offset":5135}}}],"position":{"start":{"line":152,"column":1,"offset":5090},"end":{"line":152,"column":46,"offset":5135}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get the locales folder into the right place for Gatsby we just need to add a\nlittle hook to our ","position":{"start":{"line":154,"column":1,"offset":5137},"end":{"line":155,"column":20,"offset":5236}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-node.js</code>","position":{"start":{"line":155,"column":20,"offset":5236},"end":{"line":155,"column":36,"offset":5252}}},{"type":"text","value":" file. It copies the locales folder post\nbuild and gets everything in the right place:","position":{"start":{"line":155,"column":36,"offset":5252},"end":{"line":156,"column":46,"offset":5338}}}],"position":{"start":{"line":154,"column":1,"offset":5137},"end":{"line":156,"column":46,"offset":5338}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs-extra\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onPostBuild</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Copying locales\"</span><span class=\"token punctuation\">)</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">copySync</span><span class=\"token punctuation\">(</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"/src/locales\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"/public/locales\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":158,"column":1,"offset":5340},"end":{"line":169,"column":4,"offset":5588}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"using-with-a-component"},"children":[{"type":"element","tagName":"a","properties":{"href":"#using-with-a-component","aria-label":"using with a component permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Using with a component","position":{"start":{"line":171,"column":4,"offset":5593},"end":{"line":171,"column":26,"offset":5615}}}],"position":{"start":{"line":171,"column":1,"offset":5590},"end":{"line":171,"column":26,"offset":5615}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With the packages installed and locales setup, we’re ready to wire up a\ncomponent!","position":{"start":{"line":173,"column":1,"offset":5617},"end":{"line":174,"column":11,"offset":5699}}}],"position":{"start":{"line":173,"column":1,"offset":5617},"end":{"line":174,"column":11,"offset":5699}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React-i18next uses a HOC to wrap your component and provide some props to handle\nlanguage switching. Here’s our ","position":{"start":{"line":176,"column":1,"offset":5701},"end":{"line":177,"column":32,"offset":5813}}},{"type":"raw","value":"<code class=\"language-text\">PageHeader</code>","position":{"start":{"line":177,"column":32,"offset":5813},"end":{"line":177,"column":44,"offset":5825}}},{"type":"text","value":" component:","position":{"start":{"line":177,"column":44,"offset":5825},"end":{"line":177,"column":55,"offset":5836}}}],"position":{"start":{"line":176,"column":1,"offset":5701},"end":{"line":177,"column":55,"offset":5836}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> translate <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-i18next\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PageHeader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> t <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>PageHeader<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"heading\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"description\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PageHeader\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>PageHeader<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":179,"column":1,"offset":5838},"end":{"line":197,"column":4,"offset":6203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pretty simple! The string provided to ","position":{"start":{"line":199,"column":1,"offset":6205},"end":{"line":199,"column":39,"offset":6243}}},{"type":"raw","value":"<code class=\"language-text\">translate</code>","position":{"start":{"line":199,"column":39,"offset":6243},"end":{"line":199,"column":50,"offset":6254}}},{"type":"text","value":" is the corresponding JSON file\nname for the translation, and the second instance is the component itself. We\nkeep these names the same to make it easier to match up translation files and\ncomponents.","position":{"start":{"line":199,"column":50,"offset":6254},"end":{"line":202,"column":12,"offset":6453}}}],"position":{"start":{"line":199,"column":1,"offset":6205},"end":{"line":202,"column":12,"offset":6453}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"tip-react-helmet"},"children":[{"type":"element","tagName":"a","properties":{"href":"#tip-react-helmet","aria-label":"tip react helmet permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"TIP: React Helmet","position":{"start":{"line":204,"column":5,"offset":6459},"end":{"line":204,"column":22,"offset":6476}}}],"position":{"start":{"line":204,"column":1,"offset":6455},"end":{"line":204,"column":22,"offset":6476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can also use translation strings for page titles! Here’s an example with\nReact Helmet:","position":{"start":{"line":206,"column":1,"offset":6478},"end":{"line":207,"column":14,"offset":6568}}}],"position":{"start":{"line":206,"column":1,"offset":6478},"end":{"line":207,"column":14,"offset":6568}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Pricing<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Helmet</span> <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token string\">'heading'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":209,"column":1,"offset":6570},"end":{"line":213,"column":4,"offset":6644}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"switching-languages"},"children":[{"type":"element","tagName":"a","properties":{"href":"#switching-languages","aria-label":"switching languages permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Switching Languages","position":{"start":{"line":215,"column":4,"offset":6649},"end":{"line":215,"column":23,"offset":6668}}}],"position":{"start":{"line":215,"column":1,"offset":6646},"end":{"line":215,"column":23,"offset":6668}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, to make it easy for our users to switch language we need to create a\nlittle component. Here’s an example from our site:","position":{"start":{"line":217,"column":1,"offset":6670},"end":{"line":218,"column":51,"offset":6798}}}],"position":{"start":{"line":217,"column":1,"offset":6670},"end":{"line":218,"column":51,"offset":6798}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> classNames <span class=\"token keyword\">from</span> <span class=\"token string\">\"classnames\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> translate <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-i18next\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">LanguageSwitcher</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> i18n <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> language<span class=\"token punctuation\">:</span> i18n<span class=\"token punctuation\">.</span>language <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChangeLanguage <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChangeLanguage<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillReceiveProps</span><span class=\"token punctuation\">(</span>nextProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> language<span class=\"token punctuation\">:</span> nextProps<span class=\"token punctuation\">.</span>i18n<span class=\"token punctuation\">.</span>language <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">handleChangeLanguage</span><span class=\"token punctuation\">(</span>lng<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> i18n <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    i18n<span class=\"token punctuation\">.</span><span class=\"token function\">changeLanguage</span><span class=\"token punctuation\">(</span>lng<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">renderLanguageChoice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> code<span class=\"token punctuation\">,</span> label <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> buttonClass <span class=\"token operator\">=</span> <span class=\"token function\">classNames</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LanguageSwitcher__button\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"LanguageSwitcher__button--selected\"</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>language <span class=\"token operator\">===</span> code<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>code<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>buttonClass<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleChangeLanguage</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> languages <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> code<span class=\"token punctuation\">:</span> <span class=\"token string\">\"en\"</span><span class=\"token punctuation\">,</span> label<span class=\"token punctuation\">:</span> <span class=\"token string\">\"English\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> code<span class=\"token punctuation\">:</span> <span class=\"token string\">\"cy\"</span><span class=\"token punctuation\">,</span> label<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cymraeg\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>LanguageSwitcher<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>languages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>language <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderLanguageChoice</span><span class=\"token punctuation\">(</span>language<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LanguageSwitcher\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>LanguageSwitcher<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":220,"column":1,"offset":6800},"end":{"line":274,"column":4,"offset":8078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is a pretty simple component. We’re setting the ","position":{"start":{"line":276,"column":1,"offset":8080},"end":{"line":276,"column":54,"offset":8133}}},{"type":"raw","value":"<code class=\"language-text\">language</code>","position":{"start":{"line":276,"column":54,"offset":8133},"end":{"line":276,"column":64,"offset":8143}}},{"type":"text","value":" state based on\nthe i18n prop so that we can check which language is currently active and show\nthat in our menu.","position":{"start":{"line":276,"column":64,"offset":8143},"end":{"line":278,"column":18,"offset":8255}}}],"position":{"start":{"line":276,"column":1,"offset":8080},"end":{"line":278,"column":18,"offset":8255}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":280,"column":1,"offset":8257},"end":{"line":280,"column":5,"offset":8261}}},{"type":"raw","value":"<code class=\"language-text\">handleLanguageChange</code>","position":{"start":{"line":280,"column":5,"offset":8261},"end":{"line":280,"column":27,"offset":8283}}},{"type":"text","value":" function just wraps the ","position":{"start":{"line":280,"column":27,"offset":8283},"end":{"line":280,"column":52,"offset":8308}}},{"type":"raw","value":"<code class=\"language-text\">react-i18n</code>","position":{"start":{"line":280,"column":52,"offset":8308},"end":{"line":280,"column":64,"offset":8320}}},{"type":"text","value":" function passed\nin as a prop through ","position":{"start":{"line":280,"column":64,"offset":8320},"end":{"line":281,"column":22,"offset":8358}}},{"type":"raw","value":"<code class=\"language-text\">translate</code>","position":{"start":{"line":281,"column":22,"offset":8358},"end":{"line":281,"column":33,"offset":8369}}},{"type":"text","value":". Pretty much everything is handled for us.\nHooray! 🎉","position":{"start":{"line":281,"column":33,"offset":8369},"end":{"line":282,"column":11,"offset":8423}}}],"position":{"start":{"line":280,"column":1,"offset":8257},"end":{"line":282,"column":11,"offset":8423}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"ssr"},"children":[{"type":"element","tagName":"a","properties":{"href":"#ssr","aria-label":"ssr permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"SSR","position":{"start":{"line":284,"column":4,"offset":8428},"end":{"line":284,"column":7,"offset":8431}}}],"position":{"start":{"line":284,"column":1,"offset":8425},"end":{"line":284,"column":7,"offset":8431}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To let it render the content into html, you need to load i18n namespaces (using ","position":{"start":{"line":286,"column":1,"offset":8433},"end":{"line":286,"column":81,"offset":8513}}},{"type":"raw","value":"<code class=\"language-text\">i18n.loadNamespaces</code>","position":{"start":{"line":286,"column":81,"offset":8513},"end":{"line":286,"column":102,"offset":8534}}},{"type":"text","value":") before render","position":{"start":{"line":286,"column":102,"offset":8534},"end":{"line":286,"column":117,"offset":8549}}}],"position":{"start":{"line":286,"column":1,"offset":8433},"end":{"line":286,"column":117,"offset":8549}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"with-redux"},"children":[{"type":"element","tagName":"a","properties":{"href":"#with-redux","aria-label":"with redux permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"With redux","position":{"start":{"line":288,"column":5,"offset":8555},"end":{"line":288,"column":15,"offset":8565}}}],"position":{"start":{"line":288,"column":1,"offset":8551},"end":{"line":288,"column":15,"offset":8565}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-ssr.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-redux\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderToString <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/server\"</span>\n<span class=\"token keyword\">import</span> i18n <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/i18n\"</span>\n\n<span class=\"token keyword\">import</span> createStore <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/state/createStore\"</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">replaceRenderer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> bodyComponent<span class=\"token punctuation\">,</span> replaceBodyHTMLString <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  i18n<span class=\"token punctuation\">.</span><span class=\"token function\">loadNamespaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"common\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ConnectedBody</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>bodyComponent<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token function\">replaceBodyHTMLString</span><span class=\"token punctuation\">(</span><span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ConnectedBody <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":290,"column":1,"offset":8567},"end":{"line":309,"column":4,"offset":9104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"without-redux"},"children":[{"type":"element","tagName":"a","properties":{"href":"#without-redux","aria-label":"without redux permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Without redux","position":{"start":{"line":311,"column":5,"offset":9110},"end":{"line":311,"column":18,"offset":9123}}}],"position":{"start":{"line":311,"column":1,"offset":9106},"end":{"line":311,"column":18,"offset":9123}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Not yet tested","position":{"start":{"line":313,"column":3,"offset":9127},"end":{"line":313,"column":17,"offset":9141}}}],"position":{"start":{"line":313,"column":3,"offset":9127},"end":{"line":313,"column":17,"offset":9141}}},{"type":"text","value":"\n"}],"position":{"start":{"line":313,"column":1,"offset":9125},"end":{"line":313,"column":17,"offset":9141}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-ssr.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderToString <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/server\"</span>\n<span class=\"token keyword\">import</span> i18n <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/i18n\"</span>\n\n<span class=\"token keyword\">import</span> createStore <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src/state/createStore\"</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">replaceRenderer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> bodyComponent<span class=\"token punctuation\">,</span> replaceBodyHTMLString <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  i18n<span class=\"token punctuation\">.</span><span class=\"token function\">loadNamespaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"common\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">replaceBodyHTMLString</span><span class=\"token punctuation\">(</span>bodyComponent<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":315,"column":1,"offset":9143},"end":{"line":329,"column":4,"offset":9492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">translate</code>","position":{"start":{"line":331,"column":3,"offset":9496},"end":{"line":331,"column":14,"offset":9507}}},{"type":"text","value":" hoc from react-i18next cause page / component not able to SSR. I make it works by import i18n & use i18n.t","position":{"start":{"line":331,"column":14,"offset":9507},"end":{"line":331,"column":121,"offset":9614}}}],"position":{"start":{"line":331,"column":3,"offset":9496},"end":{"line":331,"column":121,"offset":9614}}},{"type":"text","value":"\n"}],"position":{"start":{"line":331,"column":1,"offset":9494},"end":{"line":331,"column":121,"offset":9614}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"finishing-up"},"children":[{"type":"element","tagName":"a","properties":{"href":"#finishing-up","aria-label":"finishing up permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Finishing up","position":{"start":{"line":333,"column":4,"offset":9619},"end":{"line":333,"column":16,"offset":9631}}}],"position":{"start":{"line":333,"column":1,"offset":9616},"end":{"line":333,"column":16,"offset":9631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As you can see, i18n in Gatsby is actually pretty simple when you know how! We\nhad to work a few things out for ourselves (the locales folder being one of\nthem!), so hopefully reading this will allow you to get started serving\ninternational users even quicker.","position":{"start":{"line":335,"column":1,"offset":9633},"end":{"line":338,"column":34,"offset":9893}}}],"position":{"start":{"line":335,"column":1,"offset":9633},"end":{"line":338,"column":34,"offset":9893}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":339,"column":1,"offset":9894}}}}