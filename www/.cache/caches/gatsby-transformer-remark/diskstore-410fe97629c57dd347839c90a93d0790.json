{"expireTime":9007200804686336000,"key":"transformer-remark-markdown-html-470e740a678492d1335b8f858b61a067-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<p>In this guide, we’ll walk through setting up a site with the CSS-in-JS library <a href=\"https://emotion.sh\">Emotion</a>.</p>\n<p>Emotion is a performant and flexible CSS-in-JS library. Building on many other CSS-in-JS libraries, it allows you to style apps quickly with string or object styles. It has predictable composition to avoid specificity issues with CSS. With source maps and labels, Emotion has a great developer experience and great performance with heavy caching in production.</p>\n<p><a href=\"https://emotion.sh/docs/ssr\">Server side rendering</a> works out of the box in Emotion. We can use React’s <code class=\"language-text\">renderToString</code> or <code class=\"language-text\">renderToNodeStream</code> methods directly without any extra configuration. <code class=\"language-text\">extractCritical</code> feature removes unused rules that were created with emotion and helps loading pages faster.</p>\n<p>First, open a new terminal window and run the following to create a new site:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npx gatsby new emotion-tutorial https://github.com/gatsbyjs/gatsby-starter-hello-world</code></pre></div>\n<p>Second, we’ll install the necessary dependencies for Emotion and Gatsby.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-plugin-emotion @emotion/core @emotion/styled</code></pre></div>\n<p>And then add the plugin to your site’s <code class=\"language-text\">gatsby-config.js</code>:</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-emotion`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then in your terminal run <code class=\"language-text\">npm start</code> to start the Gatsby development server.</p>\n<p>Now let’s create a sample Emotion page at <code class=\"language-text\">src/pages/index.js</code>:</p>\n<div class=\"gatsby-code-title\">src/pages/index.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"@emotion/styled\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> css <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@emotion/core\"</span>\n\n<span class=\"token keyword\">const</span> Container <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token string\">`\n  margin: 3rem auto;\n  max-width: 600px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`</span></span>\n\n<span class=\"token keyword\">const</span> UserWrapper <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token string\">`\n  display: flex;\n  align-items: center;\n  margin-top: 0;\n  margin-right: auto;\n  margin-bottom: 12px;\n  margin-left: auto;\n  &amp;:last-child {\n    margin-bottom: 0;\n  }\n`</span></span>\n\n<span class=\"token keyword\">const</span> Avatar <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>img<span class=\"token template-string\"><span class=\"token string\">`\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: 96px;\n  width: 96px;\n  height: 96px;\n  margin: 0;\n`</span></span>\n\n<span class=\"token keyword\">const</span> Description <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token string\">`\n  flex: 1;\n  margin-left: 18px;\n  padding: 12px;\n`</span></span>\n\n<span class=\"token keyword\">const</span> Username <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>h2<span class=\"token template-string\"><span class=\"token string\">`\n  margin: 0 0 12px 0;\n  padding: 0;\n`</span></span>\n\n<span class=\"token keyword\">const</span> Excerpt <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>p<span class=\"token template-string\"><span class=\"token string\">`\n  margin: 0;\n`</span></span>\n<span class=\"token comment\">// Using css prop provides a concise and flexible API to style the components. //</span>\n<span class=\"token keyword\">const</span> underline <span class=\"token operator\">=</span> css<span class=\"token template-string\"><span class=\"token string\">`\n  text-decoration: underline;\n`</span></span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">User</span> <span class=\"token operator\">=</span> props <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>UserWrapper</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Avatar</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Description</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Username</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Username</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Excerpt</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Excerpt</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Description</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>UserWrapper</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Container</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">css</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>underline<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">About Emotion</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Emotion is uber cool</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>User</span>\n      <span class=\"token attr-name\">username</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Jane Doe<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">avatar</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/128.jpg<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">excerpt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>I<span class=\"token punctuation\">'</span>m Jane Doe. Lorem ipsum dolor sit amet, consectetur adipisicing elit.<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>User</span>\n      <span class=\"token attr-name\">username</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Bob Smith<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">avatar</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://s3.amazonaws.com/uifaces/faces/twitter/vladarbatov/128.jpg<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">excerpt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>I<span class=\"token punctuation\">'</span>m Bob smith, a vertically aligned type of guy. Lorem ipsum dolor sit amet, consectetur adipisicing elit.<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Container</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>"}