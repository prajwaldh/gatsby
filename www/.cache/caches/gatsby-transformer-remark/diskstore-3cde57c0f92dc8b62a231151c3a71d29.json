{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-html-ast-95d859ae2afd1af3aa3f0e4d26af45ce-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"search-plugin-for-gatsby"},"children":[{"type":"element","tagName":"a","properties":{"href":"#search-plugin-for-gatsby","aria-label":"search plugin for gatsby permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Search Plugin for Gatsby","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":27,"offset":26}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":27,"offset":26}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Gatsby plugin for full text search implementation based on Lunr.js client-side index. It supports multilanguage search. Search index is placed into the /public folder during build time and has to be downloaded on client side on run time.","position":{"start":{"line":3,"column":1,"offset":28},"end":{"line":3,"column":238,"offset":265}}}],"position":{"start":{"line":3,"column":1,"offset":28},"end":{"line":3,"column":238,"offset":265}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"getting-started"},"children":[{"type":"element","tagName":"a","properties":{"href":"#getting-started","aria-label":"getting started permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Getting Started","position":{"start":{"line":5,"column":4,"offset":270},"end":{"line":5,"column":19,"offset":285}}}],"position":{"start":{"line":5,"column":1,"offset":267},"end":{"line":5,"column":19,"offset":285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Install ","position":{"start":{"line":7,"column":1,"offset":287},"end":{"line":7,"column":9,"offset":295}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-plugin-lunr</code>","position":{"start":{"line":7,"column":9,"offset":295},"end":{"line":7,"column":29,"offset":315}}}],"position":{"start":{"line":7,"column":1,"offset":287},"end":{"line":7,"column":29,"offset":315}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    npm install --save gatsby-plugin-lunr</code></pre></div>","position":{"start":{"line":9,"column":1,"offset":317},"end":{"line":11,"column":4,"offset":366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"or","position":{"start":{"line":13,"column":1,"offset":368},"end":{"line":13,"column":3,"offset":370}}}],"position":{"start":{"line":13,"column":1,"offset":368},"end":{"line":13,"column":3,"offset":370}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    yarn add gatsby-plugin-lunr</code></pre></div>","position":{"start":{"line":15,"column":1,"offset":372},"end":{"line":17,"column":4,"offset":411}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Add ","position":{"start":{"line":19,"column":1,"offset":413},"end":{"line":19,"column":5,"offset":417}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-plugin-lunr</code>","position":{"start":{"line":19,"column":5,"offset":417},"end":{"line":19,"column":25,"offset":437}}},{"type":"text","value":" configuration to the ","position":{"start":{"line":19,"column":25,"offset":437},"end":{"line":19,"column":47,"offset":459}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":19,"column":47,"offset":459},"end":{"line":19,"column":65,"offset":477}}},{"type":"text","value":" as following:","position":{"start":{"line":19,"column":65,"offset":477},"end":{"line":19,"column":79,"offset":491}}}],"position":{"start":{"line":19,"column":1,"offset":413},"end":{"line":19,"column":79,"offset":491}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-lunr`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                languages<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\">// ISO 639-1 language codes. See https://lunrjs.com/guides/language_support.html for details</span>\n                        name<span class=\"token punctuation\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token comment\">// A function for filtering nodes. () => true by default</span>\n                        filterNodes<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token comment\">// Add to index custom entries, that are not actually extracted from gatsby nodes</span>\n                        customEntries<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Pictures'</span><span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'awesome pictures'</span><span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">:</span> <span class=\"token string\">'/pictures'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">{</span>\n                        name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fr'</span><span class=\"token punctuation\">,</span>\n                        filterNodes<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'fr'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token comment\">// Fields to index. If store === true value will be stored in index file.</span>\n                <span class=\"token comment\">// Attributes for custom indexing logic. See https://lunrjs.com/docs/lunr.Builder.html for details</span>\n                fields<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> store<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> attributes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> boost<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'content'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'url'</span><span class=\"token punctuation\">,</span> store<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token comment\">// How to resolve each field's value for a supported node type</span>\n                resolvers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\">// For any node of type MarkdownRemark, list how to resolve the fields' values</span>\n                    MarkdownRemark<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n                        content<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>rawMarkdownBody<span class=\"token punctuation\">,</span>\n                        url<span class=\"token punctuation\">:</span> node <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token comment\">//custom index file name, default is search_index.json</span>\n                filename<span class=\"token punctuation\">:</span> <span class=\"token string\">'search_index.json'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":21,"column":1,"offset":493},"end":{"line":63,"column":4,"offset":2439}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"using-plugins"},"children":[{"type":"element","tagName":"a","properties":{"href":"#using-plugins","aria-label":"using plugins permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Using plugins","position":{"start":{"line":65,"column":5,"offset":2445},"end":{"line":65,"column":18,"offset":2458}}}],"position":{"start":{"line":65,"column":1,"offset":2441},"end":{"line":65,"column":18,"offset":2458}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">myPlugin</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lunr<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>builder<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// removing stemmer</span>\n  builder<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>lunr<span class=\"token punctuation\">.</span>stemmer<span class=\"token punctuation\">)</span>\n  builder<span class=\"token punctuation\">.</span>searchPipeline<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>lunr<span class=\"token punctuation\">.</span>stemmer<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// or similarity tuning</span>\n  builder<span class=\"token punctuation\">.</span><span class=\"token function\">k1</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.3</span><span class=\"token punctuation\">)</span>\n  builder<span class=\"token punctuation\">.</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":66,"column":1,"offset":2459},"end":{"line":75,"column":4,"offset":2687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pass it to the ","position":{"start":{"line":76,"column":1,"offset":2688},"end":{"line":76,"column":16,"offset":2703}}},{"type":"raw","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":76,"column":16,"offset":2703},"end":{"line":76,"column":34,"offset":2721}}},{"type":"text","value":":\n…\nlanguages: [\n{\nname: ‘en’,\n…\nplugins: ","position":{"start":{"line":76,"column":34,"offset":2721},"end":{"line":82,"column":23,"offset":2818}}},{"type":"text","value":"[myPlugin]","position":{"start":{"line":82,"column":24,"offset":2819},"end":{"line":82,"column":32,"offset":2827}}},{"type":"text","value":"\n}\n]\n…        ","position":{"start":{"line":82,"column":33,"offset":2828},"end":{"line":85,"column":12,"offset":2867}}}],"position":{"start":{"line":76,"column":1,"offset":2688},"end":{"line":85,"column":12,"offset":2867}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"implementing-search-in-your-web-ui"},"children":[{"type":"element","tagName":"a","properties":{"href":"#implementing-search-in-your-web-ui","aria-label":"implementing search in your web ui permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Implementing Search in Your Web UI","position":{"start":{"line":88,"column":4,"offset":2873},"end":{"line":88,"column":38,"offset":2907}}}],"position":{"start":{"line":88,"column":1,"offset":2870},"end":{"line":88,"column":38,"offset":2907}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The search data will be available on the client side via ","position":{"start":{"line":90,"column":1,"offset":2909},"end":{"line":90,"column":58,"offset":2966}}},{"type":"raw","value":"<code class=\"language-text\">window.__LUNR__</code>","position":{"start":{"line":90,"column":58,"offset":2966},"end":{"line":90,"column":75,"offset":2983}}},{"type":"text","value":" that is an object with the following fields:","position":{"start":{"line":90,"column":75,"offset":2983},"end":{"line":90,"column":120,"offset":3028}}}],"position":{"start":{"line":90,"column":1,"offset":2909},"end":{"line":90,"column":120,"offset":3028}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">index</code>","position":{"start":{"line":92,"column":5,"offset":3034},"end":{"line":92,"column":12,"offset":3041}}},{"type":"text","value":" - a lunr index instance","position":{"start":{"line":92,"column":12,"offset":3041},"end":{"line":92,"column":36,"offset":3065}}}],"position":{"start":{"line":92,"column":1,"offset":3030},"end":{"line":92,"column":36,"offset":3065}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">store</code>","position":{"start":{"line":93,"column":5,"offset":3070},"end":{"line":93,"column":12,"offset":3077}}},{"type":"text","value":" - object where the key is a gatsby node ID and value is a collection of field values.","position":{"start":{"line":93,"column":12,"offset":3077},"end":{"line":93,"column":98,"offset":3163}}}],"position":{"start":{"line":93,"column":1,"offset":3066},"end":{"line":93,"column":98,"offset":3163}}},{"type":"text","value":"\n"}],"position":{"start":{"line":92,"column":1,"offset":3030},"end":{"line":93,"column":98,"offset":3163}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token comment\">// Search component</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Search</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            query<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">``</span></span><span class=\"token punctuation\">,</span>\n            results<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>results<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>page <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">getSearchResults</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>query <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>window<span class=\"token punctuation\">.</span>__LUNR__<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">const</span> lunrIndex <span class=\"token operator\">=</span>  window<span class=\"token punctuation\">.</span>__LUNR__<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>lng<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> lunrIndex<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span><span class=\"token function\">search</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token comment\">// you can  customize your search , see https://lunrjs.com/guides/searching.html</span>\n        <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> ref <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> lunrIndex<span class=\"token punctuation\">.</span>store<span class=\"token punctuation\">[</span>ref<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">search</span> <span class=\"token operator\">=</span> event <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value\n        <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSearchResults</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                results<span class=\"token punctuation\">,</span>\n                query<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":95,"column":1,"offset":3165},"end":{"line":135,"column":4,"offset":4272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sample code and example on implementing search within gatsby starter project could be found in the article at: ","position":{"start":{"line":137,"column":1,"offset":4274},"end":{"line":137,"column":112,"offset":4385}}},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/humanseelabs/gatsby-v2-with-a-multi-language-search-plugin-ffc5e04f73bc"},"children":[{"type":"text","value":"https://medium.com/humanseelabs/gatsby-v2-with-a-multi-language-search-plugin-ffc5e04f73bc","position":{"start":{"line":137,"column":112,"offset":4385},"end":{"line":137,"column":202,"offset":4475}}}],"position":{"start":{"line":137,"column":112,"offset":4385},"end":{"line":137,"column":202,"offset":4475}}}],"position":{"start":{"line":137,"column":1,"offset":4274},"end":{"line":137,"column":202,"offset":4475}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":138,"column":1,"offset":4476}}}}