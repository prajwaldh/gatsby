{"expireTime":9007200804686345000,"key":"transformer-remark-markdown-html-ast-14304b2650f9d7228f6edc4e3782cda5-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{"id":"extracting-queries-from-files"},"children":[{"type":"element","tagName":"a","properties":{"href":"#extracting-queries-from-files","aria-label":"extracting queries from files permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Extracting Queries from Files","position":{"start":{"line":2,"column":5,"offset":5},"end":{"line":2,"column":34,"offset":34}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":34,"offset":34}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Up until now, we have ","position":{"start":{"line":4,"column":1,"offset":36},"end":{"line":4,"column":23,"offset":58}}},{"type":"element","tagName":"a","properties":{"href":"/docs/node-creation/"},"children":[{"type":"text","value":"sourced all nodes","position":{"start":{"line":4,"column":24,"offset":59},"end":{"line":4,"column":41,"offset":76}}}],"position":{"start":{"line":4,"column":23,"offset":58},"end":{"line":4,"column":64,"offset":99}}},{"type":"text","value":" into redux, ","position":{"start":{"line":4,"column":64,"offset":99},"end":{"line":4,"column":77,"offset":112}}},{"type":"element","tagName":"a","properties":{"href":"/docs/schema-generation/"},"children":[{"type":"text","value":"inferred a schema","position":{"start":{"line":4,"column":78,"offset":113},"end":{"line":4,"column":95,"offset":130}}}],"position":{"start":{"line":4,"column":77,"offset":112},"end":{"line":4,"column":122,"offset":157}}},{"type":"text","value":" from them, and ","position":{"start":{"line":4,"column":122,"offset":157},"end":{"line":4,"column":138,"offset":173}}},{"type":"element","tagName":"a","properties":{"href":"/docs/page-creation/"},"children":[{"type":"text","value":"created all pages","position":{"start":{"line":4,"column":139,"offset":174},"end":{"line":4,"column":156,"offset":191}}}],"position":{"start":{"line":4,"column":138,"offset":173},"end":{"line":4,"column":179,"offset":214}}},{"type":"text","value":". The next step is to extract and compile all graphql queries from our source files. The entrypoint to this phase is ","position":{"start":{"line":4,"column":179,"offset":214},"end":{"line":4,"column":296,"offset":331}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-watcher.js"},"children":[{"type":"text","value":"query-watcher extractQueries()","position":{"start":{"line":4,"column":297,"offset":332},"end":{"line":4,"column":327,"offset":362}}}],"position":{"start":{"line":4,"column":296,"offset":331},"end":{"line":4,"column":443,"offset":478}}},{"type":"text","value":", which immediately compiles all graphql queries by calling into ","position":{"start":{"line":4,"column":443,"offset":478},"end":{"line":4,"column":508,"offset":543}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-compiler.js"},"children":[{"type":"text","value":"query-compiler.js","position":{"start":{"line":4,"column":509,"offset":544},"end":{"line":4,"column":526,"offset":561}}}],"position":{"start":{"line":4,"column":508,"offset":543},"end":{"line":4,"column":643,"offset":678}}},{"type":"text","value":".","position":{"start":{"line":4,"column":643,"offset":678},"end":{"line":4,"column":644,"offset":679}}}],"position":{"start":{"line":4,"column":1,"offset":36},"end":{"line":4,"column":644,"offset":679}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"query-compilation"},"children":[{"type":"element","tagName":"a","properties":{"href":"#query-compilation","aria-label":"query compilation permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Query Compilation","position":{"start":{"line":6,"column":6,"offset":686},"end":{"line":6,"column":23,"offset":703}}}],"position":{"start":{"line":6,"column":1,"offset":681},"end":{"line":6,"column":23,"offset":703}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first thing it does is use ","position":{"start":{"line":8,"column":1,"offset":705},"end":{"line":8,"column":32,"offset":736}}},{"type":"element","tagName":"a","properties":{"href":"https://babeljs.io/docs/en/next/babel-traverse.html"},"children":[{"type":"text","value":"babylon-traverse","position":{"start":{"line":8,"column":33,"offset":737},"end":{"line":8,"column":49,"offset":753}}}],"position":{"start":{"line":8,"column":32,"offset":736},"end":{"line":8,"column":103,"offset":807}}},{"type":"text","value":" to load all JavaScript files in the site that have graphql queries in them. This produces AST results that are passed to the ","position":{"start":{"line":8,"column":103,"offset":807},"end":{"line":8,"column":229,"offset":933}}},{"type":"element","tagName":"a","properties":{"href":"https://facebook.github.io/relay/docs/en/compiler-architecture.html"},"children":[{"type":"text","value":"relay-compiler","position":{"start":{"line":8,"column":230,"offset":934},"end":{"line":8,"column":244,"offset":948}}}],"position":{"start":{"line":8,"column":229,"offset":933},"end":{"line":8,"column":314,"offset":1018}}},{"type":"text","value":". This accomplishes a couple of things:","position":{"start":{"line":8,"column":314,"offset":1018},"end":{"line":8,"column":353,"offset":1057}}}],"position":{"start":{"line":8,"column":1,"offset":705},"end":{"line":8,"column":353,"offset":1057}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It informs us of any malformed queries, which are promptly reported back to the user.","position":{"start":{"line":10,"column":4,"offset":1062},"end":{"line":10,"column":89,"offset":1147}}}],"position":{"start":{"line":10,"column":1,"offset":1059},"end":{"line":10,"column":89,"offset":1147}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It builds a tree of queries and fragments they depend on. And outputs a single optimized query string with the fragments.","position":{"start":{"line":11,"column":4,"offset":1151},"end":{"line":11,"column":125,"offset":1272}}}],"position":{"start":{"line":11,"column":1,"offset":1148},"end":{"line":11,"column":125,"offset":1272}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":1,"offset":1059},"end":{"line":11,"column":125,"offset":1272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After this step, we will have a map of file paths (of site files with queries in them) to Query Objects, which contain the raw optimized query text, as well as other metadata such as the component path and page ","position":{"start":{"line":13,"column":1,"offset":1274},"end":{"line":13,"column":212,"offset":1485}}},{"type":"raw","value":"<code class=\"language-text\">jsonName</code>","position":{"start":{"line":13,"column":212,"offset":1485},"end":{"line":13,"column":222,"offset":1495}}},{"type":"text","value":". The following diagram shows the flow involved during query compilation","position":{"start":{"line":13,"column":222,"offset":1495},"end":{"line":13,"column":294,"offset":1567}}}],"position":{"start":{"line":13,"column":1,"offset":1274},"end":{"line":13,"column":294,"offset":1567}}},{"type":"text","value":"\n"},{"type":"raw","value":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.40.1 (20161225.0304)\n -->\n<!-- Title: %0 Pages: 1 -->\n<svg width=\"467pt\" height=\"772pt\"\n viewBox=\"0.00 0.00 467.46 771.83\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 767.8313)\">\n<title>%0</title>\n<polygon fill=\"#ffffff\" stroke=\"transparent\" points=\"-4,4 -4,-767.8313 463.4629,-767.8313 463.4629,4 -4,4\"/>\n<g id=\"clust1\" class=\"cluster\">\n<title>cluster_compiler</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"101.8952,-8 101.8952,-605.4313 349.8952,-605.4313 349.8952,-8 101.8952,-8\"/>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-588.8313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query&#45;compiler.js</text>\n</g>\n<!-- fragments -->\n<g id=\"node1\" class=\"node\">\n<title>fragments</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M318.8784,-758.7134C318.8784,-761.5927 277.2019,-763.9316 225.8952,-763.9316 174.5885,-763.9316 132.912,-761.5927 132.912,-758.7134 132.912,-758.7134 132.912,-711.7492 132.912,-711.7492 132.912,-708.8698 174.5885,-706.5309 225.8952,-706.5309 277.2019,-706.5309 318.8784,-708.8698 318.8784,-711.7492 318.8784,-711.7492 318.8784,-758.7134 318.8784,-758.7134\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M318.8784,-758.7134C318.8784,-755.834 277.2019,-753.4951 225.8952,-753.4951 174.5885,-753.4951 132.912,-755.834 132.912,-758.7134\"/>\n<text text-anchor=\"start\" x=\"141.1539\" y=\"-739.4313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">fragments. e.g</text>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-722.6313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">.cache/fragments/fragment1.js</text>\n</g>\n<!-- srcFiles -->\n<g id=\"node2\" class=\"node\">\n<title>srcFiles</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M133.6858,-665.5134C133.6858,-668.3927 103.7492,-670.7316 66.8952,-670.7316 30.0412,-670.7316 .1046,-668.3927 .1046,-665.5134 .1046,-665.5134 .1046,-618.5492 .1046,-618.5492 .1046,-615.6698 30.0412,-613.3309 66.8952,-613.3309 103.7492,-613.3309 133.6858,-615.6698 133.6858,-618.5492 133.6858,-618.5492 133.6858,-665.5134 133.6858,-665.5134\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M133.6858,-665.5134C133.6858,-662.634 103.7492,-660.2951 66.8952,-660.2951 30.0412,-660.2951 .1046,-662.634 .1046,-665.5134\"/>\n<text text-anchor=\"start\" x=\"8\" y=\"-646.2313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">source files. e.g</text>\n<text text-anchor=\"middle\" x=\"66.8952\" y=\"-629.4313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">src/pages/my&#45;page.js</text>\n</g>\n<!-- fragments&#45;&gt;srcFiles -->\n<!-- components -->\n<g id=\"node3\" class=\"node\">\n<title>components</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M300.0805,-665.5134C300.0805,-668.3927 266.8295,-670.7316 225.8952,-670.7316 184.9609,-670.7316 151.7099,-668.3927 151.7099,-665.5134 151.7099,-665.5134 151.7099,-618.5492 151.7099,-618.5492 151.7099,-615.6698 184.9609,-613.3309 225.8952,-613.3309 266.8295,-613.3309 300.0805,-615.6698 300.0805,-618.5492 300.0805,-618.5492 300.0805,-665.5134 300.0805,-665.5134\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M300.0805,-665.5134C300.0805,-662.634 266.8295,-660.2951 225.8952,-660.2951 184.9609,-660.2951 151.7099,-662.634 151.7099,-665.5134\"/>\n<text text-anchor=\"start\" x=\"159.8026\" y=\"-646.2313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">redux.state.components</text>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-629.4313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">(via createPage)</text>\n</g>\n<!-- fragments&#45;&gt;components -->\n<!-- fileQueries -->\n<g id=\"node5\" class=\"node\">\n<title>fileQueries</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"299.0227,-572.6313 152.7677,-572.6313 152.7677,-536.6313 299.0227,-536.6313 299.0227,-572.6313\"/>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-550.4313\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">files containing queries</text>\n</g>\n<!-- fragments&#45;&gt;fileQueries -->\n<g id=\"edge6\" class=\"edge\">\n<title>fragments&#45;&gt;fileQueries</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M277.5306,-706.6022C290.0971,-696.9355 301.918,-684.9032 308.8952,-670.6313 320.0607,-647.7923 320.5718,-636.0133 308.8952,-613.4313 301.4432,-599.0195 288.6496,-587.3786 275.3084,-578.3761\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"276.8401,-575.2046 266.5129,-572.8385 273.1106,-581.1283 276.8401,-575.2046\"/>\n</g>\n<!-- srcFiles&#45;&gt;fileQueries -->\n<g id=\"edge7\" class=\"edge\">\n<title>srcFiles&#45;&gt;fileQueries</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M117.2038,-614.3774C138.7605,-602.528 163.6424,-588.8507 184.1555,-577.575\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"185.873,-580.6249 192.9503,-572.7406 182.501,-574.4906 185.873,-580.6249\"/>\n</g>\n<!-- components&#45;&gt;fileQueries -->\n<g id=\"edge8\" class=\"edge\">\n<title>components&#45;&gt;fileQueries</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M225.8952,-613.4133C225.8952,-603.6151 225.8952,-592.664 225.8952,-582.894\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"229.3953,-582.8667 225.8952,-572.8667 222.3953,-582.8668 229.3953,-582.8667\"/>\n</g>\n<!-- schema -->\n<g id=\"node4\" class=\"node\">\n<title>schema</title>\n<g id=\"a_node4\"><a xlink:href=\"/docs/schema-generation/\" xlink:title=\"Gatsby schema\">\n<path fill=\"none\" stroke=\"#000000\" d=\"M459.5307,-402.5273C459.5307,-404.3331 436.8351,-405.8 408.8952,-405.8 380.9553,-405.8 358.2597,-404.3331 358.2597,-402.5273 358.2597,-402.5273 358.2597,-373.0727 358.2597,-373.0727 358.2597,-371.2669 380.9553,-369.8 408.8952,-369.8 436.8351,-369.8 459.5307,-371.2669 459.5307,-373.0727 459.5307,-373.0727 459.5307,-402.5273 459.5307,-402.5273\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M459.5307,-402.5273C459.5307,-400.7214 436.8351,-399.2545 408.8952,-399.2545 380.9553,-399.2545 358.2597,-400.7214 358.2597,-402.5273\"/>\n<text text-anchor=\"middle\" x=\"408.8952\" y=\"-383.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">Gatsby schema</text>\n</a>\n</g>\n</g>\n<!-- relayCompiler -->\n<g id=\"node8\" class=\"node\">\n<title>relayCompiler</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"225.8952\" cy=\"-315.8\" rx=\"72.4094\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-311.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">Relay Compiler</text>\n</g>\n<!-- schema&#45;&gt;relayCompiler -->\n<g id=\"edge9\" class=\"edge\">\n<title>schema&#45;&gt;relayCompiler</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M365.5268,-370.737C337.9884,-359.9022 302.3186,-345.8682 273.9245,-334.6968\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"275.1836,-331.431 264.5964,-331.0267 272.6206,-337.945 275.1836,-331.431\"/>\n</g>\n<!-- babylon -->\n<g id=\"node6\" class=\"node\">\n<title>babylon</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"225.8952\" cy=\"-471.2156\" rx=\"106.3139\" ry=\"29.3315\"/>\n<text text-anchor=\"start\" x=\"158.831\" y=\"-475.4156\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">parse files with babylon</text>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-458.6156\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">filter those with queries</text>\n</g>\n<!-- fileQueries&#45;&gt;babylon -->\n<g id=\"edge1\" class=\"edge\">\n<title>fileQueries&#45;&gt;babylon</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M225.8952,-536.5313C225.8952,-528.9418 225.8952,-519.7972 225.8952,-510.786\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"229.3953,-510.7587 225.8952,-500.7588 222.3953,-510.7588 229.3953,-510.7587\"/>\n</g>\n<!-- queryAst -->\n<g id=\"node7\" class=\"node\">\n<title>queryAst</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"267.2635,-405.8 184.5269,-405.8 184.5269,-369.8 267.2635,-369.8 267.2635,-405.8\"/>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-383.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">QueryASTs</text>\n</g>\n<!-- babylon&#45;&gt;queryAst -->\n<g id=\"edge2\" class=\"edge\">\n<title>babylon&#45;&gt;queryAst</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M225.8952,-441.5715C225.8952,-433.3664 225.8952,-424.4796 225.8952,-416.3388\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"229.3953,-416.1865 225.8952,-406.1866 222.3953,-416.1866 229.3953,-416.1865\"/>\n</g>\n<!-- queryAst&#45;&gt;relayCompiler -->\n<g id=\"edge3\" class=\"edge\">\n<title>queryAst&#45;&gt;relayCompiler</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M225.8952,-369.6314C225.8952,-361.931 225.8952,-352.7743 225.8952,-344.2166\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"229.3953,-344.2132 225.8952,-334.2133 222.3953,-344.2133 229.3953,-344.2132\"/>\n</g>\n<!-- queries -->\n<g id=\"node9\" class=\"node\">\n<title>queries</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"157.1855,-211.7 157.1855,-261.3 264.6049,-261.3 264.6049,-211.7 157.1855,-211.7\"/>\n<text text-anchor=\"middle\" x=\"210.8952\" y=\"-244.7\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">Queries</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"157.1855,-236.5 264.6049,-236.5 \"/>\n<text text-anchor=\"middle\" x=\"186.9576\" y=\"-219.9\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">filePath</text>\n<polyline fill=\"none\" stroke=\"#000000\" points=\"216.7297,-211.7 216.7297,-236.5 \"/>\n<text text-anchor=\"middle\" x=\"240.6673\" y=\"-219.9\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query</text>\n</g>\n<!-- relayCompiler&#45;&gt;queries -->\n<g id=\"edge4\" class=\"edge\">\n<title>relayCompiler&#45;&gt;queries</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M222.4915,-297.8056C221.0093,-289.97 219.2193,-280.5068 217.4939,-271.3849\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"220.8908,-270.5113 215.5931,-261.3361 214.0127,-271.8124 220.8908,-270.5113\"/>\n</g>\n<!-- query -->\n<g id=\"node10\" class=\"node\">\n<title>query</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"341.4016,-175.3001 110.3888,-175.3001 110.3888,-15.8999 341.4016,-15.8999 341.4016,-175.3001\"/>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-158.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">{</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-141.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;name: filePath,</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-125\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;text: rawQueryText,</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-108.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;originalText: original text from file,</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-91.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;path: filePath,</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-74.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;isStaticQuery: if it is,</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-57.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;hash: hash of query</text>\n<text text-anchor=\"start\" x=\"118.392\" y=\"-41\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">}</text>\n<text text-anchor=\"middle\" x=\"225.8952\" y=\"-24.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> </text>\n</g>\n<!-- queries&#45;&gt;query -->\n<g id=\"edge5\" class=\"edge\">\n<title>queries:query&#45;&gt;query</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M240.8952,-211.5C240.8952,-202.9499 240.4887,-194.0742 239.8096,-185.2117\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"243.2946,-184.8853 238.9342,-175.2294 236.3213,-185.4969 243.2946,-184.8853\"/>\n</g>\n</g>\n</svg>\n","position":{"start":{"line":15,"column":1,"offset":1569},"end":{"line":46,"column":4,"offset":2890}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"store-queries-in-redux"},"children":[{"type":"element","tagName":"a","properties":{"href":"#store-queries-in-redux","aria-label":"store queries in redux permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Store Queries in Redux","position":{"start":{"line":48,"column":6,"offset":2897},"end":{"line":48,"column":28,"offset":2919}}}],"position":{"start":{"line":48,"column":1,"offset":2892},"end":{"line":48,"column":28,"offset":2919}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’re now in the ","position":{"start":{"line":50,"column":1,"offset":2921},"end":{"line":50,"column":18,"offset":2938}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-watcher.js#L68"},"children":[{"type":"text","value":"handleQuery","position":{"start":{"line":50,"column":19,"offset":2939},"end":{"line":50,"column":30,"offset":2950}}}],"position":{"start":{"line":50,"column":18,"offset":2938},"end":{"line":50,"column":150,"offset":3070}}},{"type":"text","value":" function.","position":{"start":{"line":50,"column":150,"offset":3070},"end":{"line":50,"column":160,"offset":3080}}}],"position":{"start":{"line":50,"column":1,"offset":2921},"end":{"line":50,"column":160,"offset":3080}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the query is a ","position":{"start":{"line":52,"column":1,"offset":3082},"end":{"line":52,"column":19,"offset":3100}}},{"type":"raw","value":"<code class=\"language-text\">StaticQuery</code>","position":{"start":{"line":52,"column":19,"offset":3100},"end":{"line":52,"column":32,"offset":3113}}},{"type":"text","value":", we call the ","position":{"start":{"line":52,"column":32,"offset":3113},"end":{"line":52,"column":46,"offset":3127}}},{"type":"raw","value":"<code class=\"language-text\">replaceStaticQuery</code>","position":{"start":{"line":52,"column":46,"offset":3127},"end":{"line":52,"column":66,"offset":3147}}},{"type":"text","value":" action to save it to to the ","position":{"start":{"line":52,"column":66,"offset":3147},"end":{"line":52,"column":95,"offset":3176}}},{"type":"raw","value":"<code class=\"language-text\">staticQueryComponents</code>","position":{"start":{"line":52,"column":95,"offset":3176},"end":{"line":52,"column":118,"offset":3199}}},{"type":"text","value":" namespace which is a mapping from a component’s path to an object that contains the raw GraphQL Query amongst other things. More details in ","position":{"start":{"line":52,"column":118,"offset":3199},"end":{"line":52,"column":259,"offset":3340}}},{"type":"element","tagName":"a","properties":{"href":"/docs/static-vs-normal-queries/"},"children":[{"type":"text","value":"Static Queries","position":{"start":{"line":52,"column":260,"offset":3341},"end":{"line":52,"column":274,"offset":3355}}}],"position":{"start":{"line":52,"column":259,"offset":3340},"end":{"line":52,"column":308,"offset":3389}}},{"type":"text","value":". We also remove component’s ","position":{"start":{"line":52,"column":308,"offset":3389},"end":{"line":52,"column":337,"offset":3418}}},{"type":"raw","value":"<code class=\"language-text\">jsonName</code>","position":{"start":{"line":52,"column":337,"offset":3418},"end":{"line":52,"column":347,"offset":3428}}},{"type":"text","value":" from the ","position":{"start":{"line":52,"column":347,"offset":3428},"end":{"line":52,"column":357,"offset":3438}}},{"type":"raw","value":"<code class=\"language-text\">components</code>","position":{"start":{"line":52,"column":357,"offset":3438},"end":{"line":52,"column":369,"offset":3450}}},{"type":"text","value":" Redux namespace. See ","position":{"start":{"line":52,"column":369,"offset":3450},"end":{"line":52,"column":391,"offset":3472}}},{"type":"element","tagName":"a","properties":{"href":"/docs/page-node-dependencies/"},"children":[{"type":"text","value":"Page -> Node Dependencies","position":{"start":{"line":52,"column":392,"offset":3473},"end":{"line":52,"column":417,"offset":3498}}}],"position":{"start":{"line":52,"column":391,"offset":3472},"end":{"line":52,"column":449,"offset":3530}}},{"type":"text","value":".","position":{"start":{"line":52,"column":449,"offset":3530},"end":{"line":52,"column":450,"offset":3531}}}],"position":{"start":{"line":52,"column":1,"offset":3082},"end":{"line":52,"column":450,"offset":3531}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the query is just a normal every day query (not StaticQuery), then we update its component’s ","position":{"start":{"line":54,"column":1,"offset":3533},"end":{"line":54,"column":97,"offset":3629}}},{"type":"raw","value":"<code class=\"language-text\">query</code>","position":{"start":{"line":54,"column":97,"offset":3629},"end":{"line":54,"column":104,"offset":3636}}},{"type":"text","value":" in the redux ","position":{"start":{"line":54,"column":104,"offset":3636},"end":{"line":54,"column":118,"offset":3650}}},{"type":"raw","value":"<code class=\"language-text\">components</code>","position":{"start":{"line":54,"column":118,"offset":3650},"end":{"line":54,"column":130,"offset":3662}}},{"type":"text","value":" namespace via the ","position":{"start":{"line":54,"column":130,"offset":3662},"end":{"line":54,"column":149,"offset":3681}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/redux/actions.js#L827"},"children":[{"type":"text","value":"replaceComponentQuery","position":{"start":{"line":54,"column":150,"offset":3682},"end":{"line":54,"column":171,"offset":3703}}}],"position":{"start":{"line":54,"column":149,"offset":3681},"end":{"line":54,"column":262,"offset":3794}}},{"type":"text","value":" action.","position":{"start":{"line":54,"column":262,"offset":3794},"end":{"line":54,"column":270,"offset":3802}}}],"position":{"start":{"line":54,"column":1,"offset":3533},"end":{"line":54,"column":270,"offset":3802}}},{"type":"text","value":"\n"},{"type":"raw","value":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.40.1 (20161225.0304)\n -->\n<!-- Title: %0 Pages: 1 -->\n<svg width=\"470pt\" height=\"570pt\"\n viewBox=\"0.00 0.00 470.00 569.60\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 565.6)\">\n<title>%0</title>\n<polygon fill=\"#ffffff\" stroke=\"transparent\" points=\"-4,4 -4,-565.6 466,-565.6 466,4 -4,4\"/>\n<g id=\"clust1\" class=\"cluster\">\n<title>cluster_watcher</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"8,-8 8,-482.8 454,-482.8 454,-8 8,-8\"/>\n<text text-anchor=\"middle\" x=\"231\" y=\"-466.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query&#45;watcher.js:handleQuery()</text>\n</g>\n<!-- compiler -->\n<g id=\"node1\" class=\"node\">\n<title>compiler</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"232\" cy=\"-543.6\" rx=\"79.3328\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"232\" y=\"-539.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query&#45;compiler.js</text>\n</g>\n<!-- query -->\n<g id=\"node2\" class=\"node\">\n<title>query</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"347.5064,-450.1001 116.4936,-450.1001 116.4936,-290.6999 347.5064,-290.6999 347.5064,-450.1001\"/>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-433.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">{</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-416.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;name: filePath,</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-399.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;text: rawQueryText,</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-383\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;originalText: original text from file,</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-366.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;path: filePath,</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-349.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;isStaticQuery: if it is,</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-332.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;hash: hash of query</text>\n<text text-anchor=\"start\" x=\"124.4968\" y=\"-315.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">}</text>\n<text text-anchor=\"middle\" x=\"232\" y=\"-299\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> </text>\n</g>\n<!-- compiler&#45;&gt;query -->\n<g id=\"edge5\" class=\"edge\">\n<title>compiler&#45;&gt;query</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M232,-525.3919C232,-516.6876 232,-505.4523 232,-493.0105\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"235.5001,-492.799 232,-482.799 228.5001,-492.7991 235.5001,-492.799\"/>\n<text text-anchor=\"middle\" x=\"300.2206\" y=\"-495\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">for each compiled query</text>\n</g>\n<!-- replaceStaticQuery -->\n<g id=\"node3\" class=\"node\">\n<title>replaceStaticQuery</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"107\" cy=\"-182\" rx=\"91.4249\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"107\" y=\"-177.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">replaceStaticQuery()</text>\n</g>\n<!-- query&#45;&gt;replaceStaticQuery -->\n<g id=\"edge1\" class=\"edge\">\n<title>query&#45;&gt;replaceStaticQuery</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M179.1699,-290.7745C159.6969,-261.4247 138.9403,-230.1405 124.7101,-208.6927\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"127.479,-206.5351 119.0338,-200.1374 121.646,-210.4052 127.479,-206.5351\"/>\n<text text-anchor=\"middle\" x=\"192.486\" y=\"-241.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">if static query</text>\n</g>\n<!-- replaceComponentQuery -->\n<g id=\"node5\" class=\"node\">\n<title>replaceComponentQuery</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"331\" cy=\"-182\" rx=\"114.5696\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"331\" y=\"-177.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">replaceComponentQuery()</text>\n</g>\n<!-- query&#45;&gt;replaceComponentQuery -->\n<g id=\"edge2\" class=\"edge\">\n<title>query&#45;&gt;replaceComponentQuery</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M273.8414,-290.7745C289.1264,-261.6868 305.4098,-230.699 316.6704,-209.2696\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"319.9158,-210.6177 321.4692,-200.1374 313.7192,-207.3615 319.9158,-210.6177\"/>\n<text text-anchor=\"middle\" x=\"332.4937\" y=\"-241.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">if not static</text>\n</g>\n<!-- staticQueryComponents -->\n<g id=\"node4\" class=\"node\">\n<title>staticQueryComponents</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M182.8047,-68.0821C182.8047,-70.9614 148.8278,-73.3004 107,-73.3004 65.1722,-73.3004 31.1953,-70.9614 31.1953,-68.0821 31.1953,-68.0821 31.1953,-21.1179 31.1953,-21.1179 31.1953,-18.2386 65.1722,-15.8996 107,-15.8996 148.8278,-15.8996 182.8047,-18.2386 182.8047,-21.1179 182.8047,-21.1179 182.8047,-68.0821 182.8047,-68.0821\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M182.8047,-68.0821C182.8047,-65.2028 148.8278,-62.8639 107,-62.8639 65.1722,-62.8639 31.1953,-65.2028 31.1953,-68.0821\"/>\n<text text-anchor=\"start\" x=\"39.3478\" y=\"-48.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">staticQueryComponents</text>\n<text text-anchor=\"middle\" x=\"107\" y=\"-32\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> (redux)</text>\n</g>\n<!-- replaceStaticQuery&#45;&gt;staticQueryComponents -->\n<g id=\"edge3\" class=\"edge\">\n<title>replaceStaticQuery&#45;&gt;staticQueryComponents</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M107,-163.7543C107,-143.3255 107,-109.6308 107,-83.2754\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"110.5001,-83.216 107,-73.2161 103.5001,-83.2161 110.5001,-83.216\"/>\n</g>\n<!-- components -->\n<g id=\"node6\" class=\"node\">\n<title>components</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M372.6557,-68.0821C372.6557,-70.9614 353.985,-73.3004 331,-73.3004 308.015,-73.3004 289.3443,-70.9614 289.3443,-68.0821 289.3443,-68.0821 289.3443,-21.1179 289.3443,-21.1179 289.3443,-18.2386 308.015,-15.8996 331,-15.8996 353.985,-15.8996 372.6557,-18.2386 372.6557,-21.1179 372.6557,-21.1179 372.6557,-68.0821 372.6557,-68.0821\"/>\n<path fill=\"none\" stroke=\"#000000\" d=\"M372.6557,-68.0821C372.6557,-65.2028 353.985,-62.8639 331,-62.8639 308.015,-62.8639 289.3443,-65.2028 289.3443,-68.0821\"/>\n<text text-anchor=\"start\" x=\"297.1725\" y=\"-48.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">components</text>\n<text text-anchor=\"middle\" x=\"331\" y=\"-32\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> (redux)</text>\n</g>\n<!-- replaceComponentQuery&#45;&gt;components -->\n<g id=\"edge4\" class=\"edge\">\n<title>replaceComponentQuery&#45;&gt;components</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M331,-163.7543C331,-143.3255 331,-109.6308 331,-83.2754\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"334.5001,-83.216 331,-73.2161 327.5001,-83.2161 334.5001,-83.216\"/>\n<text text-anchor=\"middle\" x=\"386.1992\" y=\"-114.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">set `query` attribute</text>\n</g>\n</g>\n</svg>\n","position":{"start":{"line":56,"column":1,"offset":3804},"end":{"line":78,"column":4,"offset":4804}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"queue-for-execution"},"children":[{"type":"element","tagName":"a","properties":{"href":"#queue-for-execution","aria-label":"queue for execution permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Queue for execution","position":{"start":{"line":80,"column":6,"offset":4811},"end":{"line":80,"column":25,"offset":4830}}}],"position":{"start":{"line":80,"column":1,"offset":4806},"end":{"line":80,"column":25,"offset":4830}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we’ve saved our query, we’re ready to queue it for execution. Query execution is mainly handled by ","position":{"start":{"line":82,"column":1,"offset":4832},"end":{"line":82,"column":109,"offset":4940}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js"},"children":[{"type":"text","value":"page-query-runner.js","position":{"start":{"line":82,"column":110,"offset":4941},"end":{"line":82,"column":130,"offset":4961}}}],"position":{"start":{"line":82,"column":109,"offset":4940},"end":{"line":82,"column":250,"offset":5081}}},{"type":"text","value":", so we accomplish this by passing the component’s path to ","position":{"start":{"line":82,"column":250,"offset":5081},"end":{"line":82,"column":309,"offset":5140}}},{"type":"raw","value":"<code class=\"language-text\">queueQueryForPathname</code>","position":{"start":{"line":82,"column":309,"offset":5140},"end":{"line":82,"column":332,"offset":5163}}},{"type":"text","value":" function.","position":{"start":{"line":82,"column":332,"offset":5163},"end":{"line":82,"column":342,"offset":5173}}}],"position":{"start":{"line":82,"column":1,"offset":4832},"end":{"line":82,"column":342,"offset":5173}}},{"type":"text","value":"\n"},{"type":"raw","value":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.40.1 (20161225.0304)\n -->\n<!-- Title: %0 Pages: 1 -->\n<svg width=\"276pt\" height=\"406pt\"\n viewBox=\"0.00 0.00 276.44 406.40\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 402.4)\">\n<title>%0</title>\n<polygon fill=\"#ffffff\" stroke=\"transparent\" points=\"-4,4 -4,-402.4 272.4412,-402.4 272.4412,4 -4,4\"/>\n<g id=\"clust1\" class=\"cluster\">\n<title>cluster_watcher</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"8,-119.6 8,-319.6 256,-319.6 256,-119.6 8,-119.6\"/>\n<text text-anchor=\"middle\" x=\"132\" y=\"-303\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query&#45;watcher.js:handleQuery()</text>\n</g>\n<g id=\"clust2\" class=\"cluster\">\n<title>cluster_pageQueryRunner</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"8,-8 8,-84.8 256,-84.8 256,-8 8,-8\"/>\n<text text-anchor=\"middle\" x=\"132\" y=\"-68.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">page&#45;query&#45;runner.js</text>\n</g>\n<!-- compiler -->\n<g id=\"node1\" class=\"node\">\n<title>compiler</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"132\" cy=\"-380.4\" rx=\"79.3328\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"132\" y=\"-376.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">query&#45;compiler.js</text>\n</g>\n<!-- query -->\n<g id=\"node2\" class=\"node\">\n<title>query</title>\n<polygon fill=\"none\" stroke=\"#000000\" points=\"247.5064,-286.9001 16.4936,-286.9001 16.4936,-127.4999 247.5064,-127.4999 247.5064,-286.9001\"/>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-270.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">{</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-253.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;name: filePath,</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-236.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;text: rawQueryText,</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-219.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;originalText: original text from file,</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-203\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;path: filePath,</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-186.2\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;isStaticQuery: if it is,</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-169.4\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> &#160;&#160;&#160;hash: hash of query</text>\n<text text-anchor=\"start\" x=\"24.4968\" y=\"-152.6\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">}</text>\n<text text-anchor=\"middle\" x=\"132\" y=\"-135.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\"> </text>\n</g>\n<!-- compiler&#45;&gt;query -->\n<g id=\"edge1\" class=\"edge\">\n<title>compiler&#45;&gt;query</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M132,-362.1919C132,-353.4876 132,-342.2523 132,-329.8105\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"135.5001,-329.599 132,-319.599 128.5001,-329.5991 135.5001,-329.599\"/>\n<text text-anchor=\"middle\" x=\"200.2206\" y=\"-331.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">for each compiled query</text>\n</g>\n<!-- queueQueryForPathname -->\n<g id=\"node3\" class=\"node\">\n<title>queueQueryForPathname</title>\n<ellipse fill=\"none\" stroke=\"#000000\" cx=\"132\" cy=\"-34\" rx=\"116.2952\" ry=\"18\"/>\n<text text-anchor=\"middle\" x=\"132\" y=\"-29.8\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">queueQueryForPathname()</text>\n</g>\n<!-- query&#45;&gt;queueQueryForPathname -->\n<g id=\"edge2\" class=\"edge\">\n<title>query&#45;&gt;queueQueryForPathname</title>\n<path fill=\"none\" stroke=\"#000000\" d=\"M132,-127.4438C132,-104.2106 132,-80.3162 132,-62.5059\"/>\n<polygon fill=\"#000000\" stroke=\"#000000\" points=\"135.5001,-62.2629 132,-52.2629 128.5001,-62.2629 135.5001,-62.2629\"/>\n<text text-anchor=\"middle\" x=\"187.5877\" y=\"-97\" font-family=\"Times,serif\" font-size=\"14.00\" fill=\"#000000\">queue for execution</text>\n</g>\n</g>\n</svg>\n","position":{"start":{"line":84,"column":1,"offset":5175},"end":{"line":103,"column":4,"offset":5847}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now let’s learn about ","position":{"start":{"line":105,"column":1,"offset":5849},"end":{"line":105,"column":23,"offset":5871}}},{"type":"element","tagName":"a","properties":{"href":"/docs/query-execution/"},"children":[{"type":"text","value":"Query Execution","position":{"start":{"line":105,"column":24,"offset":5872},"end":{"line":105,"column":39,"offset":5887}}}],"position":{"start":{"line":105,"column":23,"offset":5871},"end":{"line":105,"column":64,"offset":5912}}},{"type":"text","value":".","position":{"start":{"line":105,"column":64,"offset":5912},"end":{"line":105,"column":65,"offset":5913}}}],"position":{"start":{"line":105,"column":1,"offset":5849},"end":{"line":105,"column":65,"offset":5913}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":106,"column":1,"offset":5914}}}}