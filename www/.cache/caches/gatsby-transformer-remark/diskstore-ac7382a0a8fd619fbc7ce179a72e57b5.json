{"expireTime":9007200804686247000,"key":"transformer-remark-markdown-ast-47c46b02e3222d33d2599fbff3c548f3-gatsby-remark-graphvizgatsby-remark-code-titlesgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#gatsby-plugin-modal-routing","title":null,"data":{"hProperties":{"aria-label":"gatsby plugin modal routing permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"gatsby-plugin-modal-routing","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":30,"offset":29},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":30,"offset":29},"indent":[]},"data":{"id":"gatsby-plugin-modal-routing","htmlAttributes":{"id":"gatsby-plugin-modal-routing"},"hProperties":{"id":"gatsby-plugin-modal-routing"}}},{"type":"paragraph","children":[{"type":"text","value":"Adds support for viewing gatsby pages within modals at their gatsby defined routes.","position":{"start":{"line":3,"column":1,"offset":31},"end":{"line":3,"column":84,"offset":114},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":31},"end":{"line":3,"column":84,"offset":114},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#examples","title":null,"data":{"hProperties":{"aria-label":"examples permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Examples","position":{"start":{"line":5,"column":4,"offset":119},"end":{"line":5,"column":12,"offset":127},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":116},"end":{"line":5,"column":12,"offset":127},"indent":[]},"data":{"id":"examples","htmlAttributes":{"id":"examples"},"hProperties":{"id":"examples"}}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://gatsby-starter-with-gatsby-plugin-modal-routing.netlify.com/","children":[{"type":"text","value":"https://gatsby-starter-with-gatsby-plugin-modal-routing.netlify.com/","position":{"start":{"line":7,"column":3,"offset":131},"end":{"line":7,"column":71,"offset":199},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":131},"end":{"line":7,"column":71,"offset":199},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":131},"end":{"line":7,"column":71,"offset":199},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":129},"end":{"line":7,"column":71,"offset":199},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://gatsbygram-with-gatsby-plugin-modal-routing.netlify.com/","children":[{"type":"text","value":"https://gatsbygram-with-gatsby-plugin-modal-routing.netlify.com/","position":{"start":{"line":8,"column":3,"offset":202},"end":{"line":8,"column":67,"offset":266},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":202},"end":{"line":8,"column":67,"offset":266},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":202},"end":{"line":8,"column":67,"offset":266},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":200},"end":{"line":8,"column":67,"offset":266},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":129},"end":{"line":8,"column":67,"offset":266},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#install","title":null,"data":{"hProperties":{"aria-label":"install permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Install","position":{"start":{"line":10,"column":4,"offset":271},"end":{"line":10,"column":11,"offset":278},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":268},"end":{"line":10,"column":11,"offset":278},"indent":[]},"data":{"id":"install","htmlAttributes":{"id":"install"},"hProperties":{"id":"install"}}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save gatsby-plugin-modal-routing</code></pre></div>","position":{"start":{"line":12,"column":1,"offset":280},"end":{"line":14,"column":4,"offset":334},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#motivation","title":null,"data":{"hProperties":{"aria-label":"motivation permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Motivation","position":{"start":{"line":16,"column":4,"offset":339},"end":{"line":16,"column":14,"offset":349},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":336},"end":{"line":16,"column":14,"offset":349},"indent":[]},"data":{"id":"motivation","htmlAttributes":{"id":"motivation"},"hProperties":{"id":"motivation"}}},{"type":"paragraph","children":[{"type":"text","value":"The problem: how to handle modals (stateful routes) with gatsby’s page based routing?","position":{"start":{"line":18,"column":1,"offset":351},"end":{"line":18,"column":86,"offset":436},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":351},"end":{"line":18,"column":86,"offset":436},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We want a modal to open within the context of whatever page it was linked to, change\nthe browser’s URL, and render server-side allowing permalink navigation.","position":{"start":{"line":20,"column":1,"offset":438},"end":{"line":21,"column":73,"offset":595},"indent":[1]}}],"position":{"start":{"line":20,"column":1,"offset":438},"end":{"line":21,"column":73,"offset":595},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Current Gatsby V2 examples which use ","position":{"start":{"line":23,"column":1,"offset":597},"end":{"line":23,"column":38,"offset":634},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">PageRenderer</code>","position":{"start":{"line":23,"column":38,"offset":634},"end":{"line":23,"column":52,"offset":648},"indent":[]}},{"type":"text","value":" flicker when re-rendering content\nunderneath the modal. This plugin aims to handle modal routing edge cases and provide\na consistent rendering experience with a flexible API.","position":{"start":{"line":23,"column":52,"offset":648},"end":{"line":25,"column":55,"offset":823},"indent":[1,1]}}],"position":{"start":{"line":23,"column":1,"offset":597},"end":{"line":25,"column":55,"offset":823},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#how-to-use","title":null,"data":{"hProperties":{"aria-label":"how to use permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How to use","position":{"start":{"line":27,"column":4,"offset":828},"end":{"line":27,"column":14,"offset":838},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":825},"end":{"line":27,"column":14,"offset":838},"indent":[]},"data":{"id":"how-to-use","htmlAttributes":{"id":"how-to-use"},"hProperties":{"id":"how-to-use"}}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note that this plugin is currently in alpha, and this API is subject to change","position":{"start":{"line":29,"column":3,"offset":842},"end":{"line":29,"column":81,"offset":920},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":840},"end":{"line":29,"column":83,"offset":922},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":840},"end":{"line":29,"column":83,"offset":922},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Add the plugin to your ","position":{"start":{"line":31,"column":1,"offset":924},"end":{"line":31,"column":24,"offset":947},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gatsby-config.js</code>","position":{"start":{"line":31,"column":24,"offset":947},"end":{"line":31,"column":42,"offset":965},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":31,"column":42,"offset":965},"end":{"line":31,"column":43,"offset":966},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":924},"end":{"line":31,"column":43,"offset":966},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-modal-routing`</span></span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":33,"column":1,"offset":968},"end":{"line":41,"column":4,"offset":1071},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#plugin-options","title":null,"data":{"hProperties":{"aria-label":"plugin options permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Plugin Options","position":{"start":{"line":43,"column":5,"offset":1077},"end":{"line":43,"column":19,"offset":1091},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1073},"end":{"line":43,"column":19,"offset":1091},"indent":[]},"data":{"id":"plugin-options","htmlAttributes":{"id":"plugin-options"},"hProperties":{"id":"plugin-options"}}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-modal-routing`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// A selector to set react-modal's app root to, default is `#___gatsby`</span>\n        <span class=\"token comment\">// See http://reactcommunity.org/react-modal/accessibility/#app-element</span>\n        appElement<span class=\"token punctuation\">:</span> <span class=\"token string\">'#___gatsby'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// Object of props that will be passed to the react-modal container</span>\n        <span class=\"token comment\">// See http://reactcommunity.org/react-modal/#usage</span>\n        modalProps<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":45,"column":1,"offset":1093},"end":{"line":62,"column":4,"offset":1580},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#rendering-page-content-in-modals","title":null,"data":{"hProperties":{"aria-label":"rendering page content in modals permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Rendering page content in modals","position":{"start":{"line":64,"column":5,"offset":1586},"end":{"line":64,"column":37,"offset":1618},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":1582},"end":{"line":64,"column":37,"offset":1618},"indent":[]},"data":{"id":"rendering-page-content-in-modals","htmlAttributes":{"id":"rendering-page-content-in-modals"},"hProperties":{"id":"rendering-page-content-in-modals"}}},{"type":"paragraph","children":[{"type":"text","value":"Any gatsby page may be rendered in a modal if it is routed to appropriately (see next\nsection below for creating a modal link).","position":{"start":{"line":66,"column":1,"offset":1620},"end":{"line":67,"column":42,"offset":1747},"indent":[1]}}],"position":{"start":{"line":66,"column":1,"offset":1620},"end":{"line":67,"column":42,"offset":1747},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":69,"column":1,"offset":1749},"end":{"line":69,"column":5,"offset":1753},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">ModalRoutingContext</code>","position":{"start":{"line":69,"column":5,"offset":1753},"end":{"line":69,"column":26,"offset":1774},"indent":[]}},{"type":"text","value":" React.Context component can be used to conditionally render\ncontent if the page is rendered in a modal.","position":{"start":{"line":69,"column":26,"offset":1774},"end":{"line":70,"column":44,"offset":1878},"indent":[1]}}],"position":{"start":{"line":69,"column":1,"offset":1749},"end":{"line":70,"column":44,"offset":1878},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The Context consumer is passes an object with ","position":{"start":{"line":72,"column":1,"offset":1880},"end":{"line":72,"column":47,"offset":1926},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">modal</code>","position":{"start":{"line":72,"column":47,"offset":1926},"end":{"line":72,"column":54,"offset":1933},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":72,"column":54,"offset":1933},"end":{"line":72,"column":59,"offset":1938},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">closeTo</code>","position":{"start":{"line":72,"column":59,"offset":1938},"end":{"line":72,"column":68,"offset":1947},"indent":[]}},{"type":"text","value":" properties to it’s\nchild render function","position":{"start":{"line":72,"column":68,"offset":1947},"end":{"line":73,"column":22,"offset":1988},"indent":[1]}}],"position":{"start":{"line":72,"column":1,"offset":1880},"end":{"line":73,"column":22,"offset":1988},"indent":[1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">modal</code>","position":{"start":{"line":75,"column":3,"offset":1992},"end":{"line":75,"column":10,"offset":1999},"indent":[]}},{"type":"text","value":" (","position":{"start":{"line":75,"column":10,"offset":1999},"end":{"line":75,"column":12,"offset":2001},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">boolean</code>","position":{"start":{"line":75,"column":12,"offset":2001},"end":{"line":75,"column":21,"offset":2010},"indent":[]}},{"type":"text","value":") - indicates if the page content will be rendered in a modal. Use\nthis to conditionally render modal content like a close button.","position":{"start":{"line":75,"column":21,"offset":2010},"end":{"line":76,"column":64,"offset":2140},"indent":[1]}}],"position":{"start":{"line":75,"column":3,"offset":1992},"end":{"line":76,"column":64,"offset":2140},"indent":[1]}}],"position":{"start":{"line":75,"column":1,"offset":1990},"end":{"line":76,"column":64,"offset":2140},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">closeTo</code>","position":{"start":{"line":77,"column":3,"offset":2143},"end":{"line":77,"column":12,"offset":2152},"indent":[]}},{"type":"text","value":" (","position":{"start":{"line":77,"column":12,"offset":2152},"end":{"line":77,"column":14,"offset":2154},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">string</code>","position":{"start":{"line":77,"column":14,"offset":2154},"end":{"line":77,"column":22,"offset":2162},"indent":[]}},{"type":"text","value":") - if the page content is rendering in a modal, denotes the\npathname of the page where the modal was opened, otherwise ","position":{"start":{"line":77,"column":22,"offset":2162},"end":{"line":78,"column":60,"offset":2282},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":78,"column":60,"offset":2282},"end":{"line":78,"column":66,"offset":2288},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":78,"column":66,"offset":2288},"end":{"line":78,"column":67,"offset":2289},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":2143},"end":{"line":78,"column":67,"offset":2289},"indent":[1]}}],"position":{"start":{"line":77,"column":1,"offset":2141},"end":{"line":78,"column":67,"offset":2289},"indent":[1]}}],"position":{"start":{"line":75,"column":1,"offset":1990},"end":{"line":78,"column":67,"offset":2289},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example:","position":{"start":{"line":80,"column":1,"offset":2291},"end":{"line":80,"column":9,"offset":2299},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":2291},"end":{"line":80,"column":9,"offset":2299},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// pages/modal-example.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ModalRoutingContext <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-modal-routing'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ModalExamplePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>ModalRoutingContext<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> modal<span class=\"token punctuation\">,</span> closeTo <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>modal <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>modalCloseTo<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            Close\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>\n              Website Title\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>Modal Page<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Go back to the homepage<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ModalRoutingContext<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\nexports <span class=\"token keyword\">default</span> ModalExamplePage</code></pre></div>","position":{"start":{"line":82,"column":1,"offset":2301},"end":{"line":114,"column":4,"offset":2940},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#opening-a-page-in-a-modal","title":null,"data":{"hProperties":{"aria-label":"opening a page in a modal permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Opening a page in a modal","position":{"start":{"line":116,"column":5,"offset":2946},"end":{"line":116,"column":30,"offset":2971},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":2942},"end":{"line":116,"column":30,"offset":2971},"indent":[]},"data":{"id":"opening-a-page-in-a-modal","htmlAttributes":{"id":"opening-a-page-in-a-modal"},"hProperties":{"id":"opening-a-page-in-a-modal"}}},{"type":"paragraph","children":[{"type":"text","value":"Pages can be opened in a modal context by passing the ","position":{"start":{"line":118,"column":1,"offset":2973},"end":{"line":118,"column":55,"offset":3027},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">{ modal: true }</code>","position":{"start":{"line":118,"column":55,"offset":3027},"end":{"line":118,"column":72,"offset":3044},"indent":[]}},{"type":"text","value":" flag to Link state.","position":{"start":{"line":118,"column":72,"offset":3044},"end":{"line":118,"column":92,"offset":3064},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":2973},"end":{"line":118,"column":92,"offset":3064},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Example:","position":{"start":{"line":120,"column":1,"offset":3066},"end":{"line":120,"column":9,"offset":3074},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":3066},"end":{"line":120,"column":9,"offset":3074},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// src/components/some-component.js\n\nimport { Link } from &#39;gatsby&#39;\n\n...\n\n&lt;Link\n  to=&quot;/login/&quot;\n  state={{\n    modal: true\n  }}\n&gt;\n  Login\n&lt;/Link&gt;</code></pre></div>","position":{"start":{"line":122,"column":1,"offset":3076},"end":{"line":137,"column":4,"offset":3227},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">gatsby-plugin-modal-routing</code>","position":{"start":{"line":139,"column":1,"offset":3229},"end":{"line":139,"column":30,"offset":3258},"indent":[]}},{"type":"text","value":" also provides a ","position":{"start":{"line":139,"column":30,"offset":3258},"end":{"line":139,"column":47,"offset":3275},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Link</code>","position":{"start":{"line":139,"column":47,"offset":3275},"end":{"line":139,"column":53,"offset":3281},"indent":[]}},{"type":"text","value":" component as a convenience to encapsulate\nthis flag for you.","position":{"start":{"line":139,"column":53,"offset":3281},"end":{"line":140,"column":19,"offset":3342},"indent":[1]}}],"position":{"start":{"line":139,"column":1,"offset":3229},"end":{"line":140,"column":19,"offset":3342},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This is equivalent to the example above:","position":{"start":{"line":142,"column":1,"offset":3344},"end":{"line":142,"column":41,"offset":3384},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":3344},"end":{"line":142,"column":41,"offset":3384},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// src/components/some-component.js\n\nimport { Link } from &#39;gatsby-plugin-modal-routing&#39;\n\n...\n\n&lt;Link\n  to=&quot;/login/&quot;\n  asModal\n&gt;\n  Login\n&lt;/Link&gt;</code></pre></div>","position":{"start":{"line":144,"column":1,"offset":3386},"end":{"line":157,"column":4,"offset":3536},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#scroll-state","title":null,"data":{"hProperties":{"aria-label":"scroll state permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Scroll State","position":{"start":{"line":159,"column":4,"offset":3541},"end":{"line":159,"column":16,"offset":3553},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":3538},"end":{"line":159,"column":16,"offset":3553},"indent":[]},"data":{"id":"scroll-state","htmlAttributes":{"id":"scroll-state"},"hProperties":{"id":"scroll-state"}}},{"type":"paragraph","children":[{"type":"text","value":"When the site opens a modal, gatsby’s default scroll update is prevented, so that the\nunderlying page remains scrolled at the same position.","position":{"start":{"line":161,"column":1,"offset":3555},"end":{"line":162,"column":55,"offset":3695},"indent":[1]}}],"position":{"start":{"line":161,"column":1,"offset":3555},"end":{"line":162,"column":55,"offset":3695},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"When routing to a non-modal page ","position":{"start":{"line":164,"column":1,"offset":3697},"end":{"line":164,"column":34,"offset":3730},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"from","position":{"start":{"line":164,"column":36,"offset":3732},"end":{"line":164,"column":40,"offset":3736},"indent":[]}}],"position":{"start":{"line":164,"column":34,"offset":3730},"end":{"line":164,"column":42,"offset":3738},"indent":[]}},{"type":"text","value":" a modal, gatsby’s default scroll update is\nallowed, causing the page to scroll to the top. This is the case even if the non-modal\npage is the same as the underlying page.","position":{"start":{"line":164,"column":42,"offset":3738},"end":{"line":166,"column":41,"offset":3909},"indent":[1,1]}}],"position":{"start":{"line":164,"column":1,"offset":3697},"end":{"line":166,"column":41,"offset":3909},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To prevent this, pass the ","position":{"start":{"line":168,"column":1,"offset":3911},"end":{"line":168,"column":27,"offset":3937},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">{ noScroll: true }</code>","position":{"start":{"line":168,"column":27,"offset":3937},"end":{"line":168,"column":47,"offset":3957},"indent":[]}},{"type":"text","value":" flag to Link state.","position":{"start":{"line":168,"column":47,"offset":3957},"end":{"line":168,"column":67,"offset":3977},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":3911},"end":{"line":168,"column":67,"offset":3977},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// src/components/modal-content.js\n\nimport { Link } from &#39;gatsby&#39;\n\n...\n\n&lt;Link\n  to=&quot;/&quot;\n  state={{\n    noScroll: true\n  }}\n&gt;\n  Close Modal\n&lt;/Link&gt;</code></pre></div>","position":{"start":{"line":170,"column":1,"offset":3979},"end":{"line":185,"column":4,"offset":4132},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"As a convenience, this plugin’s ","position":{"start":{"line":187,"column":1,"offset":4134},"end":{"line":187,"column":33,"offset":4166},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Link</code>","position":{"start":{"line":187,"column":33,"offset":4166},"end":{"line":187,"column":39,"offset":4172},"indent":[]}},{"type":"text","value":" component will detect if the ","position":{"start":{"line":187,"column":39,"offset":4172},"end":{"line":187,"column":69,"offset":4202},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">to</code>","position":{"start":{"line":187,"column":69,"offset":4202},"end":{"line":187,"column":73,"offset":4206},"indent":[]}},{"type":"text","value":" pathname matches the\ncontent rendered under the modal and set the ","position":{"start":{"line":187,"column":73,"offset":4206},"end":{"line":188,"column":46,"offset":4273},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">noScroll</code>","position":{"start":{"line":188,"column":46,"offset":4273},"end":{"line":188,"column":56,"offset":4283},"indent":[]}},{"type":"text","value":" flag for you.","position":{"start":{"line":188,"column":56,"offset":4283},"end":{"line":188,"column":70,"offset":4297},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":4134},"end":{"line":188,"column":70,"offset":4297},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// src/components/modal-content.js\n\nimport { Link } from &#39;gatsby-plugin-modal-routing&#39;\n\n...\n\n&lt;Link\n  to=&quot;/&quot;\n&gt;\n  Close Modal\n&lt;/Link&gt;</code></pre></div>","position":{"start":{"line":190,"column":1,"offset":4299},"end":{"line":202,"column":4,"offset":4438},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":203,"column":1,"offset":4439}}}}